import{r as s,a9 as Z,aa as Te,ab as $e,x as Q,A as q,ac as ut,F as y,R as S,ad as mt,ae as Re,af as fe,X as J,I as te,G as Ee,ag as pt,ah as ft,ai as xt,aj as vt,T as j,Q as we,ak as be,al as ht,am as Y,an as Le,ao as ze,y as gt,z as Be,ap as Fe,aq as Oe,H as wt,J as bt,K as jt,ar as yt,as as kt,j as r,f as ce,$ as ne,o as w,t as Rt,a as C,k as _,D as oe,i as Et,c as Nt,a7 as I,e as je,at as Ct,au as Pt,a4 as It,g as G,S as ye,m as se,l as le,u as _e,a8 as Mt,L as $t,s as ie,av as Ft,q as Ot,aw as Dt,U as Ue,B as ke,ax as At,Z as St,ay as Tt,E as Lt}from"./index-a034c31a.js";import{s as zt,v as ee,M as We,P as Ve,S as Bt,k as De}from"./_commonjs-dynamic-modules-c2a76892.js";import{c as _t,d as Ut,e as T,x as Wt,T as Vt,p as Gt,f as Ht,L as Kt,b as Qt,I as Ae}from"./ModelLineage-281f0bc5.js";import{R as qt}from"./ReportErrors-705315f3.js";function Jt({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12 5.25c1.213 0 2.415.046 3.605.135a3.256 3.256 0 013.01 3.01c.044.583.077 1.17.1 1.759L17.03 8.47a.75.75 0 10-1.06 1.06l3 3a.75.75 0 001.06 0l3-3a.75.75 0 00-1.06-1.06l-1.752 1.751c-.023-.65-.06-1.296-.108-1.939a4.756 4.756 0 00-4.392-4.392 49.422 49.422 0 00-7.436 0A4.756 4.756 0 003.89 8.282c-.017.224-.033.447-.046.672a.75.75 0 101.497.092c.013-.217.028-.434.044-.651a3.256 3.256 0 013.01-3.01c1.19-.09 2.392-.135 3.605-.135zm-6.97 6.22a.75.75 0 00-1.06 0l-3 3a.75.75 0 101.06 1.06l1.752-1.751c.023.65.06 1.296.108 1.939a4.756 4.756 0 004.392 4.392 49.413 49.413 0 007.436 0 4.756 4.756 0 004.392-4.392c.017-.223.032-.447.046-.672a.75.75 0 00-1.497-.092c-.013.217-.028.434-.044.651a3.256 3.256 0 01-3.01 3.01 47.953 47.953 0 01-7.21 0 3.256 3.256 0 01-3.01-3.01 47.759 47.759 0 01-.1-1.759L6.97 15.53a.75.75 0 001.06-1.06l-3-3z",clipRule:"evenodd"}))}const Xt=s.forwardRef(Jt),Ge=Xt;function Yt({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M3.75 12a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}const Zt=s.forwardRef(Yt),er=Zt;function tr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const rr=s.forwardRef(tr),nr=rr;function He({container:e,accept:t,walk:n,enabled:a=!0}){let l=s.useRef(t),c=s.useRef(n);s.useEffect(()=>{l.current=t,c.current=n},[t,n]),Z(()=>{if(!e||!a)return;let o=Te(e);if(!o)return;let i=l.current,d=c.current,x=Object.assign(g=>i(g),{acceptNode:i}),b=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,x,!1);for(;b.nextNode();)d(b.currentNode)},[e,a,l,c])}var ar=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ar||{}),sr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(sr||{}),lr=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(lr||{});function ge(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=ze(t(e.items.slice()),c=>c.dataRef.current.domRef.current),l=n?a.indexOf(n):null;return l===-1&&(l=null),{items:a,activeItemIndex:l}}let or={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n;let a=ge(e),l=Wt(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:l,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),l=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(o=>{var i;return((i=o.dataRef.current.textValue)==null?void 0:i.startsWith(a))&&!o.dataRef.current.disabled}),c=l?e.items.indexOf(l):-1;return c===-1||c===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:c,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=ge(e,a=>[...a,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=ge(e,a=>{let l=a.findIndex(c=>c.id===t.id);return l!==-1&&a.splice(l,1),a});return{...e,...n,activationTrigger:1}}},Ne=s.createContext(null);Ne.displayName="MenuContext";function ve(e){let t=s.useContext(Ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ve),n}return t}function ir(e,t){return Re(t.type,or,e,t)}let cr=s.Fragment;function dr(e,t){let{__demoMode:n=!1,...a}=e,l=s.useReducer(ir,{__demoMode:n,menuState:n?0:1,buttonRef:s.createRef(),itemsRef:s.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:c,itemsRef:o,buttonRef:i},d]=l,x=q(t);ut([i,o],(m,R)=>{var p;d({type:1}),xt(R,vt.Loose)||(m.preventDefault(),(p=i.current)==null||p.focus())},c===0);let b=y(()=>{d({type:1})}),g=s.useMemo(()=>({open:c===0,close:b}),[c,b]),f={ref:x};return S.createElement(Ne.Provider,{value:l},S.createElement(mt,{value:Re(c,{0:fe.Open,1:fe.Closed})},J({ourProps:f,theirProps:a,slot:g,defaultTag:cr,name:"Menu"})))}let ur="button";function mr(e,t){var n;let a=te(),{id:l=`headlessui-menu-button-${a}`,...c}=e,[o,i]=ve("Menu.Button"),d=q(o.buttonRef,t),x=Ee(),b=y(p=>{switch(p.key){case j.Space:case j.Enter:case j.ArrowDown:p.preventDefault(),p.stopPropagation(),i({type:0}),x.nextFrame(()=>i({type:2,focus:T.First}));break;case j.ArrowUp:p.preventDefault(),p.stopPropagation(),i({type:0}),x.nextFrame(()=>i({type:2,focus:T.Last}));break}}),g=y(p=>{switch(p.key){case j.Space:p.preventDefault();break}}),f=y(p=>{if(we(p.currentTarget))return p.preventDefault();e.disabled||(o.menuState===0?(i({type:1}),x.nextFrame(()=>{var M;return(M=o.buttonRef.current)==null?void 0:M.focus({preventScroll:!0})})):(p.preventDefault(),i({type:0})))}),m=s.useMemo(()=>({open:o.menuState===0}),[o]),R={ref:d,id:l,type:zt(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:b,onKeyUp:g,onClick:f};return J({ourProps:R,theirProps:c,slot:m,defaultTag:ur,name:"Menu.Button"})}let pr="div",fr=$e.RenderStrategy|$e.Static;function xr(e,t){var n,a;let l=te(),{id:c=`headlessui-menu-items-${l}`,...o}=e,[i,d]=ve("Menu.Items"),x=q(i.itemsRef,t),b=pt(i.itemsRef),g=Ee(),f=ft(),m=(()=>f!==null?(f&fe.Open)===fe.Open:i.menuState===0)();s.useEffect(()=>{let u=i.itemsRef.current;u&&i.menuState===0&&u!==(b==null?void 0:b.activeElement)&&u.focus({preventScroll:!0})},[i.menuState,i.itemsRef,b]),He({container:i.itemsRef.current,enabled:i.menuState===0,accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});let R=y(u=>{var O,D;switch(g.dispose(),u.key){case j.Space:if(i.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),d({type:3,value:u.key});case j.Enter:if(u.preventDefault(),u.stopPropagation(),d({type:1}),i.activeItemIndex!==null){let{dataRef:k}=i.items[i.activeItemIndex];(D=(O=k.current)==null?void 0:O.domRef.current)==null||D.click()}Le(i.buttonRef.current);break;case j.ArrowDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Next});case j.ArrowUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Previous});case j.Home:case j.PageUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.First});case j.End:case j.PageDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Last});case j.Escape:u.preventDefault(),u.stopPropagation(),d({type:1}),be().nextFrame(()=>{var k;return(k=i.buttonRef.current)==null?void 0:k.focus({preventScroll:!0})});break;case j.Tab:u.preventDefault(),u.stopPropagation(),d({type:1}),be().nextFrame(()=>{ht(i.buttonRef.current,u.shiftKey?Y.Previous:Y.Next)});break;default:u.key.length===1&&(d({type:3,value:u.key}),g.setTimeout(()=>d({type:4}),350));break}}),p=y(u=>{switch(u.key){case j.Space:u.preventDefault();break}}),M=s.useMemo(()=>({open:i.menuState===0}),[i]),z={"aria-activedescendant":i.activeItemIndex===null||(n=i.items[i.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(a=i.buttonRef.current)==null?void 0:a.id,id:c,onKeyDown:R,onKeyUp:p,role:"menu",tabIndex:0,ref:x};return J({ourProps:z,theirProps:o,slot:M,defaultTag:pr,features:fr,visible:m,name:"Menu.Items"})}let vr=s.Fragment;function hr(e,t){let n=te(),{id:a=`headlessui-menu-item-${n}`,disabled:l=!1,...c}=e,[o,i]=ve("Menu.Item"),d=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===a:!1,x=s.useRef(null),b=q(t,x);Z(()=>{if(o.__demoMode||o.menuState!==0||!d||o.activationTrigger===0)return;let k=be();return k.requestAnimationFrame(()=>{var E,U;(U=(E=x.current)==null?void 0:E.scrollIntoView)==null||U.call(E,{block:"nearest"})}),k.dispose},[o.__demoMode,x,d,o.menuState,o.activationTrigger,o.activeItemIndex]);let g=_t(x),f=s.useRef({disabled:l,domRef:x,get textValue(){return g()}});Z(()=>{f.current.disabled=l},[f,l]),Z(()=>(i({type:5,id:a,dataRef:f}),()=>i({type:6,id:a})),[f,a]);let m=y(()=>{i({type:1})}),R=y(k=>{if(l)return k.preventDefault();i({type:1}),Le(o.buttonRef.current)}),p=y(()=>{if(l)return i({type:2,focus:T.Nothing});i({type:2,focus:T.Specific,id:a})}),M=Ut(),z=y(k=>M.update(k)),u=y(k=>{M.wasMoved(k)&&(l||d||i({type:2,focus:T.Specific,id:a,trigger:0}))}),O=y(k=>{M.wasMoved(k)&&(l||d&&i({type:2,focus:T.Nothing}))}),D=s.useMemo(()=>({active:d,disabled:l,close:m}),[d,l,m]);return J({ourProps:{id:a,ref:b,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,disabled:void 0,onClick:R,onFocus:p,onPointerEnter:z,onMouseEnter:z,onPointerMove:u,onMouseMove:u,onPointerLeave:O,onMouseLeave:O},theirProps:c,slot:D,defaultTag:vr,name:"Menu.Item"})}let gr=Q(dr),wr=Q(mr),br=Q(xr),jr=Q(hr),me=Object.assign(gr,{Button:wr,Items:br,Item:jr}),Ke=s.createContext(null);function Qe(){let e=s.useContext(Ke);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Qe),t}return e}function qe(){let[e,t]=s.useState([]);return[e.length>0?e.join(" "):void 0,s.useMemo(()=>function(n){let a=y(c=>(t(o=>[...o,c]),()=>t(o=>{let i=o.slice(),d=i.indexOf(c);return d!==-1&&i.splice(d,1),i}))),l=s.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props}),[a,n.slot,n.name,n.props]);return S.createElement(Ke.Provider,{value:l},n.children)},[t])]}let yr="label";function kr(e,t){let n=te(),{id:a=`headlessui-label-${n}`,passive:l=!1,...c}=e,o=Qe(),i=q(t);Z(()=>o.register(a),[a,o.register]);let d={ref:i,...o.props,id:a};return l&&("onClick"in d&&(delete d.htmlFor,delete d.onClick),"onClick"in c&&delete c.onClick),J({ourProps:d,theirProps:c,slot:o.slot||{},defaultTag:yr,name:o.name||"Label"})}let Rr=Q(kr),Er=Object.assign(Rr,{});var Nr=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Nr||{});let Cr={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:ze(n,a=>a.element.current)}},1(e,t){let n=e.options.slice(),a=e.options.findIndex(l=>l.id===t.id);return a===-1?e:(n.splice(a,1),{...e,options:n})}},Ce=s.createContext(null);Ce.displayName="RadioGroupDataContext";function Je(e){let t=s.useContext(Ce);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Je),n}return t}let Pe=s.createContext(null);Pe.displayName="RadioGroupActionsContext";function Xe(e){let t=s.useContext(Pe);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xe),n}return t}function Pr(e,t){return Re(t.type,Cr,e,t)}let Ir="div";function Mr(e,t){let n=te(),{id:a=`headlessui-radiogroup-${n}`,value:l,defaultValue:c,form:o,name:i,onChange:d,by:x=(v,$)=>v===$,disabled:b=!1,...g}=e,f=y(typeof x=="string"?(v,$)=>{let P=x;return(v==null?void 0:v[P])===($==null?void 0:$[P])}:x),[m,R]=s.useReducer(Pr,{options:[]}),p=m.options,[M,z]=qe(),[u,O]=Be(),D=s.useRef(null),k=q(D,t),[E,U]=Vt(l,d,c),A=s.useMemo(()=>p.find(v=>!v.propsRef.current.disabled),[p]),W=s.useMemo(()=>p.some(v=>f(v.propsRef.current.value,E)),[p,E]),L=y(v=>{var $;if(b||f(v,E))return!1;let P=($=p.find(V=>f(V.propsRef.current.value,v)))==null?void 0:$.propsRef.current;return P!=null&&P.disabled?!1:(U==null||U(v),!0)});He({container:D.current,accept(v){return v.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let he=y(v=>{let $=D.current;if(!$)return;let P=Te($),V=p.filter(N=>N.propsRef.current.disabled===!1).map(N=>N.element.current);switch(v.key){case j.Enter:Gt(v.currentTarget);break;case j.ArrowLeft:case j.ArrowUp:if(v.preventDefault(),v.stopPropagation(),Fe(V,Y.Previous|Y.WrapAround)===Oe.Success){let N=p.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&L(N.propsRef.current.value)}break;case j.ArrowRight:case j.ArrowDown:if(v.preventDefault(),v.stopPropagation(),Fe(V,Y.Next|Y.WrapAround)===Oe.Success){let N=p.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&L(N.propsRef.current.value)}break;case j.Space:{v.preventDefault(),v.stopPropagation();let N=p.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&L(N.propsRef.current.value)}break}}),B=y(v=>(R({type:0,...v}),()=>R({type:1,id:v.id}))),de=s.useMemo(()=>({value:E,firstOption:A,containsCheckedOption:W,disabled:b,compare:f,...m}),[E,A,W,b,f,m]),ot=s.useMemo(()=>({registerOption:B,change:L}),[B,L]),it={ref:k,id:a,role:"radiogroup","aria-labelledby":M,"aria-describedby":u,onKeyDown:he},ct=s.useMemo(()=>({value:E}),[E]),ue=s.useRef(null),dt=Ee();return s.useEffect(()=>{ue.current&&c!==void 0&&dt.addEventListener(ue.current,"reset",()=>{L(c)})},[ue,L]),S.createElement(O,{name:"RadioGroup.Description"},S.createElement(z,{name:"RadioGroup.Label"},S.createElement(Pe.Provider,{value:ot},S.createElement(Ce.Provider,{value:de},i!=null&&E!=null&&Ht({[i]:E}).map(([v,$],P)=>S.createElement(wt,{features:bt.Hidden,ref:P===0?V=>{var N;ue.current=(N=V==null?void 0:V.closest("form"))!=null?N:null}:void 0,...jt({key:v,as:"input",type:"radio",checked:$!=null,hidden:!0,readOnly:!0,form:o,name:v,value:$})})),J({ourProps:it,theirProps:g,slot:ct,defaultTag:Ir,name:"RadioGroup"})))))}var $r=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))($r||{});let Fr="div";function Or(e,t){var n;let a=te(),{id:l=`headlessui-radiogroup-option-${a}`,value:c,disabled:o=!1,...i}=e,d=s.useRef(null),x=q(d,t),[b,g]=qe(),[f,m]=Be(),{addFlag:R,removeFlag:p,hasFlag:M}=yt(1),z=kt({value:c,disabled:o}),u=Je("RadioGroup.Option"),O=Xe("RadioGroup.Option");Z(()=>O.registerOption({id:l,element:d,propsRef:z}),[l,O,d,e]);let D=y(B=>{var de;if(we(B.currentTarget))return B.preventDefault();O.change(c)&&(R(2),(de=d.current)==null||de.focus())}),k=y(B=>{if(we(B.currentTarget))return B.preventDefault();R(2)}),E=y(()=>p(2)),U=((n=u.firstOption)==null?void 0:n.id)===l,A=u.disabled||o,W=u.compare(u.value,c),L={ref:x,id:l,role:"radio","aria-checked":W?"true":"false","aria-labelledby":b,"aria-describedby":f,"aria-disabled":A?!0:void 0,tabIndex:(()=>A?-1:W||!u.containsCheckedOption&&U?0:-1)(),onClick:A?void 0:D,onFocus:A?void 0:k,onBlur:A?void 0:E},he=s.useMemo(()=>({checked:W,disabled:A,active:M(2)}),[W,A,M]);return S.createElement(m,{name:"RadioGroup.Description"},S.createElement(g,{name:"RadioGroup.Label"},J({ourProps:L,theirProps:i,slot:he,defaultTag:Fr,name:"RadioGroup.Option"})))}let Dr=Q(Mr),Ar=Q(Or),pe=Object.assign(Dr,{Option:Ar,Label:Er,Description:gt});function Sr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"}))}const Tr=s.forwardRef(Sr),Lr=Tr;function zr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"}))}const Br=s.forwardRef(zr),_r=Br;function Ur({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M3 3.5A1.5 1.5 0 014.5 2h6.879a1.5 1.5 0 011.06.44l4.122 4.12A1.5 1.5 0 0117 7.622V16.5a1.5 1.5 0 01-1.5 1.5h-11A1.5 1.5 0 013 16.5v-13zm10.857 5.691a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 00-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}))}const Wr=s.forwardRef(Ur),Vr=Wr;function Gr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5V7.621a1.5 1.5 0 00-.44-1.06l-4.12-4.122A1.5 1.5 0 0011.378 2H4.5zm2.25 8.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 3a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"}))}const Hr=s.forwardRef(Gr),Kr=Hr;function Qr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const qr=s.forwardRef(Qr),Jr=qr;function Xr({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M3.75 3A1.75 1.75 0 002 4.75v3.26a3.235 3.235 0 011.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0016.25 5h-4.836a.25.25 0 01-.177-.073L9.823 3.513A1.75 1.75 0 008.586 3H3.75zM3.75 9A1.75 1.75 0 002 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0018 15.25v-4.5A1.75 1.75 0 0016.25 9H3.75z"}))}const Yr=s.forwardRef(Xr),Zr=Yr;function en({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z",clipRule:"evenodd"}))}const tn=s.forwardRef(en),Ye=tn;function rn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M9.661 2.237a.531.531 0 01.678 0 11.947 11.947 0 007.078 2.749.5.5 0 01.479.425c.069.52.104 1.05.104 1.59 0 5.162-3.26 9.563-7.834 11.256a.48.48 0 01-.332 0C5.26 16.564 2 12.163 2 7c0-.538.035-1.069.104-1.589a.5.5 0 01.48-.425 11.947 11.947 0 007.077-2.75zm4.196 5.954a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}))}const nn=s.forwardRef(rn),an=nn;function sn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const ln=s.forwardRef(sn),on=ln;function cn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}const dn=s.forwardRef(cn),un=dn;function mn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"}))}const pn=s.forwardRef(mn),fn=pn;function xn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const vn=s.forwardRef(xn),hn=vn;function gn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}))}const wn=s.forwardRef(gn),bn=wn;function jn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"}))}const yn=s.forwardRef(jn),kn=yn;function Rn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const En=s.forwardRef(Rn),Nn=En;function Cn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"}))}const Pn=s.forwardRef(Cn),Ze=Pn;function In({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"}))}const Mn=s.forwardRef(In),$n=Mn;function Fn({title:e,titleId:t,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"}))}const On=s.forwardRef(Fn),Dn=On,F={ResetPlanOptions:"reset-plan-options",ResetPlanDates:"reset-plan-dates",PlanOptions:"plan-options",Dates:"dates",DateStart:"date-start",DateEnd:"date-end",Category:"category",External:"external",ResetTestsReport:"reset-tests-report",TestsReportErrors:"tests-report-errors",TestsReportMessages:"tests-report-messages"},h={Add:"add",Remove:"remove",Direct:"direct",Indirect:"indirect",Metadata:"metadata",Default:"default"},ae={Breaking:"breaking",NonBreaking:"non-breaking",ForwardOnly:"forward-only",IndirectBreaking:"indirect-breaking",IndirectNonBreaking:"indirect-non-breaking"},[An,Sn]=zn(),et={skip_tests:!1,no_gaps:!1,skip_backfill:!1,forward_only:!1,auto_apply:!1,no_auto_categorization:!1,include_unmodified:!0,restate_models:void 0,create_from:"prod"},tt={start:void 0,end:void 0},Ie={...tt,...et,categories:Sn,defaultCategory:An,change_categorization:new Map,virtualUpdateDescription:"All changes and their downstream dependencies can be fully previewed before they get promoted. If during plan creation no data gaps have been detected and only references to new model versions need to be updated, then such an update is referred to as a Virtual Update. Virtual Updates impose no additional runtime overhead or cost.",isInitialPlanRun:!1,errors:[],testsReportErrors:void 0,testsReportMessages:void 0},rt=s.createContext(Ie),nt=s.createContext(()=>{});function Zn({children:e}){const[t,n]=s.useReducer(Tn,Object.assign(Ie));return r.jsx(rt.Provider,{value:Object.assign(t),children:r.jsx(nt.Provider,{value:n,children:e})})}function Me(){return s.useContext(rt)}function at(){return s.useContext(nt)}function Tn(e,t){return t=Array.isArray(t)?t:[t],t.reduce(Ln,e)}function Ln(e=Ie,{type:t,...n}){switch(t){case F.ResetPlanDates:return Object.assign({},e,tt);case F.ResetPlanOptions:return Object.assign({},e,et);case F.ResetTestsReport:return Object.assign({},e,{testsReportErrors:void 0,testsReportMessages:void 0});case F.PlanOptions:return Object.assign({},e,n);case F.Dates:return Object.assign({},e,{start:n.start,end:n.end});case F.External:return Object.assign({},e,{isInitialPlanRun:n.isInitialPlanRun??!1});case F.DateStart:return Object.assign({},e,{start:n.start});case F.DateEnd:return Object.assign({},e,{end:n.end});case F.TestsReportErrors:return Object.assign({},e,{testsReportErrors:n.testsReportErrors});case F.TestsReportMessages:return Object.assign({},e,{testsReportMessages:n.testsReportMessages});case F.Category:{const{change:a,category:l}=n;return ce(a==null?void 0:a.name)&&e.change_categorization.set(a.name,{category:l,change:a}),Object.assign({},e,{change_categorization:new Map(e.change_categorization)})}default:return Object.assign({},e)}}function zn(){const e={id:ae.Breaking,name:"Breaking Change",description:"It will rebuild all models",value:ne.NUMBER_1},t=[e,{id:ae.NonBreaking,name:"Non-Breaking Change",description:"It will exclude all indirect models caused by this change",value:ne.NUMBER_2},{id:ae.ForwardOnly,name:"Forward-Only Change",description:"The change requires no rebuilding",value:ne.NUMBER_3},{id:ae.IndirectBreaking,name:"Indirect Breaking Change",description:"The change was caused indirectly and is breaking",value:ne.NUMBER_4},{id:ae.IndirectNonBreaking,name:"Indirect Non-Breaking Change",description:"The change was caused indirectly by a non-breaking change",value:ne.NUMBER_5}];return[e,t]}function K({children:e,headline:t,type:n,className:a}){return r.jsxs("div",{className:w("flex flex-col rounded-md p-4",n===h.Add&&"bg-success-5",n===h.Remove&&"bg-danger-5",n===h.Direct&&"bg-secondary-5",n===h.Indirect&&"bg-warning-5",n===h.Default&&"bg-neutral-5",a),children:[ce(t)&&r.jsx("h4",{className:w("mb-2 font-bold whitespace-nowrap",n===h.Add&&"text-success-600 dark:text-success-300",n===h.Remove&&"text-danger-600 dark:text-danger-300",n===h.Direct&&"text-secondary-600 dark:text-secondary-300",n===h.Indirect&&"text-warning-600 dark:text-warning-300",n===h.Default&&"text-neutral-600 dark:text-neutral-300"),children:t}),e]})}function Bn({changes:e=[],type:t}){return r.jsx("ul",{children:e.map(n=>r.jsxs("li",{className:w("flex items-center px-1 leading-5 mb-1",t===h.Add&&"text-success-600 dark:text-success-300",t===h.Remove&&"text-danger-600 dark:text-danger-300",t===h.Direct&&"text-secondary-600 dark:text-secondary-300",t===h.Indirect&&"text-warning-600 dark:text-warning-300",t===h.Default&&"text-neutral-600 dark:text-neutral-300"),children:[t===h.Add?r.jsx(nr,{className:"h-3 mr-2"}):t===h.Remove?r.jsx(er,{className:"h-3 mr-2"}):r.jsx(Ge,{className:"h-4 mr-2"}),r.jsx("small",{title:n.displayViewName,className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:Rt(n.displayViewName,50,25)})]},n.name))})}function _n({changes:e=[]}){const t=at(),{categories:n}=Me(),a=C(l=>l.models);return s.useEffect(()=>{t(e.map(l=>({type:F.Category,category:n.find(({value:c})=>c===l.change_category),change:l})))},[e]),r.jsx("ul",{children:e.map(l=>r.jsx("li",{className:"text-secondary-500 dark:text-primary-500 mt-1",children:r.jsx(ee,{children:({open:c})=>r.jsxs(r.Fragment,{children:[r.jsxs(ee.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[r.jsx(xe,{className:"w-full",change:l}),(()=>{const o=c?We:Ve;return r.jsx(o,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500"})})()]}),r.jsxs(ee.Panel,{className:"text-sm px-4 mb-4 overflow-hidden",children:[_(l.indirect)&&r.jsx(st,{type:"indirect",models:l.indirect}),r.jsx(oe,{className:"border-neutral-200 mt-2"}),r.jsx(Un,{change:l}),r.jsx(oe,{className:"border-neutral-200 mt-2"}),r.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:[ce(l==null?void 0:l.diff)&&r.jsx(lt,{diff:l==null?void 0:l.diff}),(()=>{var i;const o=a.get(l.name);return Et(o)?r.jsx(r.Fragment,{}):r.jsx("div",{className:"h-[16rem] bg-theme-lighter rounded-xl py-2",children:r.jsx(Kt,{showColumns:!1,showConnected:!0,children:r.jsx(Qt,{model:o,highlightedNodes:{"border-4 border-warning-500":((i=l.indirect)==null?void 0:i.map(d=>d.name))??[],"border-4 border-secondary-500":[l.name],"*":[]}})})})})()]})]})]})})},l.name))})}function Un({change:e}){var l,c;const t=at(),{change_categorization:n,categories:a}=Me();return r.jsx(pe,{className:"flex flex-col mt-2",value:((c=(l=n.get(e.name))==null?void 0:l.category)==null?void 0:c.value)??e.change_category,onChange:o=>{t({type:F.Category,category:a.find(({value:i})=>i===o),change:e})},children:a.map(o=>r.jsx(pe.Option,{value:o.value,className:()=>w("relative flex rounded-md"),children:({checked:i})=>r.jsxs("div",{className:w("text-sm flex items-center px-2 py-1 w-full rounded-lg",i?"text-secondary-500 dark:text-primary-300":"text-prose"),children:[r.jsx("div",{className:"mt-[0.125rem] mr-2 border-2 border-neutral-400 min-w-[1rem] h-4 rounded-full flex justify-center items-center",children:i&&r.jsx("span",{className:"inline-block w-2 h-2 bg-secondary-500 dark:bg-primary-300 rounded-full"})}),r.jsxs("div",{children:[r.jsx(pe.Label,{as:"p",children:o.name}),r.jsx(pe.Description,{as:"span",className:"text-xs text-neutral-500",children:o.description})]})]})},o.name))})}function Wn({changes:e=[]}){return r.jsx("ul",{children:e.map(t=>r.jsx("li",{className:"text-warning-700 dark:text-warning-500",children:_(t.direct)?r.jsx(ee,{children:({open:n})=>r.jsxs(r.Fragment,{children:[r.jsxs(ee.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[r.jsx(xe,{change:t}),(()=>{const a=n?We:Ve;return r.jsx(a,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500 mt-0.5"})})()]}),r.jsx(ee.Panel,{className:"text-sm px-4 mb-4",children:r.jsx(st,{type:"direct",models:t.direct??[]})})]})}):r.jsx(xe,{change:t})},t.name))})}function xe({change:e,className:t}){var l;const{change_categorization:n}=Me(),a=(l=n.get(e.name))==null?void 0:l.category;return r.jsxs("div",{className:w("flex items-center font-bold",t),children:[r.jsx(Ge,{className:"h-4 mr-2"}),r.jsx("small",{className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:e.displayViewName}),ce(a)&&r.jsx("span",{className:"ml-2 text-xs px-1 bg-neutral-400 text-neutral-100  dark:bg-neutral-400 dark:text-neutral-800 rounded whitespace-nowrap mr-2",children:a.name})]})}function st({type:e,models:t}){return r.jsx("ul",{className:w("mt-2 ml-4",e==="indirect"&&"text-warning-700 dark:text-warning-500",e==="direct"&&"text-secondary-500 dark:text-primary-500"),children:t.map(n=>r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"h-3 w-3 border-l-2 border-b-2 inline-block mr-2"}),n.displayViewName]},n.name))})}function lt({diff:e}){return r.jsx("div",{className:"my-4 bg-dark-lighter rounded-lg overflow-hidden",children:r.jsx("pre",{className:"p-4 text-primary-100 max-h-[30vh] text-xs overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e.split(`
`).map((t,n)=>r.jsx("p",{className:w(t.startsWith("+")&&"text-success-500 bg-success-500/10 px-2",t.startsWith("-")&&"text-danger-500 bg-danger-500/10 px-2",t.startsWith("@@")&&"text-primary-300 my-5 px-2"),children:t},`${t}-${n}`))})})}K.Default=Bn;K.Direct=_n;K.Indirect=Wn;K.Diff=lt;K.Title=xe;function ea({sidebar:e,content:t}){const n=Nt(),a=C(o=>o.splitPaneSizes),l=C(o=>o.setSplitPaneSizes),c=C(o=>o.modules);return r.jsxs("div",{className:"flex overflow-hidden w-full h-full",children:[c.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(Gn,{className:"overflow-hidden py-1 px-2 flex flex-col items-center"}),r.jsx(oe,{orientation:"vertical"})]}),r.jsxs("div",{className:"flex flex-col overflow-hidden w-full h-full",children:[c.includes(I.environments)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-w-[10rem] px-2 h-8 w-full flex items-center",children:[r.jsxs("div",{className:"flex",children:[r.jsx("button",{onClick:()=>n(-1),className:"inline-block text-neutral-500 text-xs hover:bg-neutral-5 px-1 py-1 rounded-full",children:r.jsx(Lr,{className:"min-w-4 h-4"})}),r.jsx("button",{onClick:()=>n(1),className:"inline-block text-neutral-500 text-xs hover:bg-neutral-5 px-1 py-1 rounded-full",children:r.jsx(_r,{className:"min-w-4 h-4"})})]}),r.jsx(Vn,{})]}),r.jsx(oe,{})]}),ce(e)?r.jsxs(Bt,{sizes:a,minSize:[0,0],snapOffset:0,className:"flex w-full h-full overflow-hidden",onDragEnd:l,children:[r.jsx("div",{className:"w-full h-full overflow-hidden",children:e}),r.jsx("div",{className:"w-full h-full overflow-hidden",children:t})]}):r.jsx("div",{className:"flex w-full h-full overflow-hidden justify-center",children:t})]})]})}function Vn(){const e=C(d=>d.environment),t=C(d=>d.modules),n=je(d=>d.planAction),a=je(d=>d.planOverview),{isFetching:l}=Ct(),{isFetching:c}=Pt(),{isFetching:o}=It(e.name,{planOptions:{skip_tests:!0,include_unmodified:!0}}),i=t.includes(I.plans)||t.includes(I["plan-progress"]);return r.jsx("div",{className:"h-8 flex w-full items-center justify-end text-neutral-500",children:c?r.jsx(Se,{children:"Loading Environments..."}):l?r.jsx(Se,{children:"Loading Models..."}):r.jsxs(r.Fragment,{children:[i&&r.jsx(H,{title:n.isProcessing?n.displayStatus(a):"Plan",to:G.Plan,icon:n.isProcessing?r.jsx(ye,{variant:se.Success,className:"w-3 py-1"}):r.jsx(Ze,{className:w("w-5",a.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100")}),iconActive:n.isProcessing?r.jsx(ye,{variant:se.Success,className:"w-3 py-1"}):r.jsx(Ye,{className:w("w-5",a.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100")}),before:r.jsx("p",{className:w("block mx-1 text-xs font-bold",a.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100"),children:n.isProcessing?n.displayStatus(a):"Plan"}),className:w("px-2 rounded-full py-0.5 mr-1",a.isFailed?"bg-danger-10 dark:bg-danger-500":"bg-success-500"),classActive:w(a.isFailed?"bg-danger-10 dark:bg-danger-500":"bg-success-500")}),r.jsx(Kn,{className:"border-none h-6 ",size:le.sm,showAddEnvironment:t.includes(I.plans),disabled:o||n.isProcessing||e.isInitialProd}),[I["plan-progress"],I.plans].some(d=>t.includes(d))&&r.jsx(Hn,{}),t.includes(I.errors)&&r.jsx(qt,{})]})})}function Gn({className:e}){const{errors:t}=_e(),n=C(o=>o.models),a=C(o=>o.modules),l=Array.from(new Set(n.values())).length,c=a.includes(I.plans)||a.includes(I["plan-progress"]);return r.jsxs("div",{className:e,children:[a.includes(I.editor)&&r.jsx(H,{title:"File Explorer",to:G.Editor,className:"px-2 py-1 hover:bg-neutral-5 dark:hover:bg-neutral-10 text-primary-500 rounded-xl my-1",classActive:"bg-primary-10 text-primary-500",icon:r.jsx(kn,{className:"min-w-6 w-6"}),iconActive:r.jsx(Zr,{className:"min-w-6 w-6"})}),a.includes(I.docs)&&r.jsx(H,{title:"Docs",to:G.Docs,icon:r.jsx(hn,{className:"min-w-6 w-6"}),iconActive:r.jsx(Kr,{className:"min-w-6 w-6"}),className:"relative rounded-xl my-1 px-2 py-1 hover:bg-neutral-5 dark:hover:bg-neutral-10 text-neutral-600 dark:text-neutral-300",children:r.jsx("span",{className:"flex text-center text-[9px] min-w-4 absolute bottom-0 right-0 font-bold px-1 py-0.5 rounded-full bg-primary-500 text-primary-100",children:l})}),a.includes(I.errors)&&r.jsx(H,{title:"Errors",to:G.Errors,className:w("relative px-2 py-1 rounded-xl my-1 py-0.5 hover:bg-neutral-5 dark:hover:bg-neutral-10",t.size>0?"text-danger-500":"text-neutral-600"),classActive:"px-2 bg-danger-10 text-danger-500",icon:r.jsx(bn,{className:"w-6"}),iconActive:r.jsx(Jr,{className:"w-6"}),disabled:t.size===0,children:t.size>0&&r.jsx("span",{className:"flex text-center text-[9px] min-w-4 absolute bottom-0 right-0 font-bold px-1 py-0.5 rounded-full bg-danger-500 text-danger-100",children:t.size})}),c&&r.jsx(H,{title:"Plan",to:G.Plan,className:"px-2 py-1 hover:bg-neutral-5 dark:hover:bg-neutral-10 text-success-500 rounded-xl my-1",classActive:"bg-success-10 text-success-500",icon:r.jsx(Ze,{className:"w-6"}),iconActive:r.jsx(Ye,{className:"w-6"})}),a.includes(I.tests)&&r.jsx(H,{title:"Tests",to:G.Tests,icon:r.jsx(fn,{className:"w-6"}),iconActive:r.jsx(Vr,{className:"w-6"}),className:"rounded-xl my-1 px-2 py-1 hover:bg-neutral-5 dark:hover:bg-neutral-10"}),a.includes(I.audits)&&r.jsx(H,{title:"Audits",to:G.Audits,icon:r.jsx($n,{className:"w-6"}),iconActive:r.jsx(an,{className:"w-6"}),className:"rounded-xl my-1 px-2 py-1 hover:bg-neutral-5 dark:hover:bg-neutral-10"})]})}function H({title:e,to:t,icon:n,iconActive:a,classActive:l="px-2 bg-neutral-10",disabled:c=!1,children:o,before:i,className:d}){return r.jsx(Mt,{title:e,to:t,className:({isActive:x})=>w("flex items-center",c&&"opacity-50 cursor-not-allowed",x&&ie(c)&&l,d),style:({isActive:x})=>x||c?{pointerEvents:"none"}:{},children:({isActive:x})=>r.jsxs("span",{className:w("flex items-center",x?"font-bold":"font-normal"),children:[i,x?a:n,o]})})}function Se({children:e}){return r.jsxs($t,{className:"inline-block",children:[r.jsx(ye,{className:"w-3 h-3 border border-neutral-10 mr-2"}),r.jsx("span",{className:"inline-block text-xs",children:e})]})}function Hn(){const e=je(l=>l.planOverview),[t,n]=s.useState(e);return s.useEffect(()=>{ie(e.isEmpty)&&e.isFinished&&n(new Ft(e))},[e]),(ie(e.isLatest)||e.isFetching)&&t.hasUpdates?r.jsxs("span",{className:"flex group items-center bg-neutral-5 dark:bg-neutral-20 px-1 py-1 rounded-full",children:[Ot(t.hasChanges)&&r.jsx("p",{className:"flex text-xs ml-2 mr-2 dark:text-neutral-300",children:"Changes"}),_(t.added)&&r.jsx(X,{headline:"Added",type:h.Add,changes:t.added,className:"-mr-2 group-hover:mr-0 z-[5]"}),_(t.direct)&&r.jsx(X,{headline:"Directly Modified",type:h.Direct,changes:t.direct,className:"-mr-2 group-hover:mr-0 z-[4]"}),_(t.indirect)&&r.jsx(X,{headline:"Indirectly Modified",type:h.Indirect,changes:t.indirect,className:"-mr-2 group-hover:mr-0 z-[3]"}),_(t.metadata)&&r.jsx(X,{headline:"Metadata",type:h.Metadata,changes:t.metadata,className:"-mr-2 group-hover:mr-0 z-[2]"}),_(t.removed)&&r.jsx(X,{headline:"Removed",type:h.Remove,changes:t.removed,className:"-mr-2 group-hover:mr-0 z-[1]"}),_(t.backfills)?r.jsx(X,{headline:"Backfills",type:h.Default,changes:t.backfills,className:"ml-4 group-hover:ml-2 z-[6]"}):r.jsx("div",{className:"ml-2 group-hover:ml-2 z-[6]"})]}):r.jsx("span",{className:"block ml-1 px-3 py-1 first-child:ml-0 rounded-full whitespace-nowrap font-bold text-xs text-center bg-neutral-5 dark:bg-neutral-20 cursor-default text-neutral-500 dark:text-neutral-300",children:"No Changes"})}function Kn({disabled:e=!1,className:t,showAddEnvironment:n=!0,size:a=le.sm,onSelect:l}){const{addError:c}=_e(),o=C(f=>f.environment),i=C(f=>f.environments),d=C(f=>f.setEnvironment),x=C(f=>f.removeLocalEnvironment),b=Dt(me.Button);function g(f){Tt(f.name).then(()=>{x(f)}).catch(m=>{c(Lt.Environments,m)})}return r.jsx(me,{as:"div",className:"relative",children:({close:f})=>r.jsxs(r.Fragment,{children:[r.jsxs(b,{variant:se.Info,size:a,disabled:e,className:w(t,"bg-neutral-5 hover:bg-neutral-10 dark:bg-neutral-20"),children:[r.jsx("span",{className:w("block overflow-hidden truncate",(o.isLocal||e)&&"text-neutral-500",o.isRemote&&"text-primary-600 dark:text-primary-300"),children:o.name}),r.jsx("span",{className:"pointer-events-none inset-y-0 right-0 flex items-center pl-2",children:r.jsx(un,{className:w("w-4",e?"text-neutral-400 dark:text-neutral-200":"text-neutral-800 dark:text-neutral-200"),"aria-hidden":"true"})})]}),r.jsx(Ue,{as:s.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"absolute top-10 right-1 min-w-[20rem] max-w-[25vw] overflow-hidden shadow-xl bg-theme border-2 border-neutral-100 dark:border-neutral-800 rounded-md flex flex-col z-10",children:r.jsxs(me.Items,{className:"overflow-auto max-h-80 pb-2 hover:scrollbar scrollbar--vertical",children:[Array.from(i).map(m=>r.jsx(me.Item,{disabled:m===o,children:({active:R})=>r.jsxs("div",{onClick:p=>{p.stopPropagation(),d(m),l==null||l()},className:w("flex justify-between items-center pl-2 pr-1 py-1 overflow-auto",m===o?"cursor-default":"cursor-pointer"),children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(on,{className:w("w-4 h-4 mt-[6px]",m===o&&"opacity-100 text-primary-500",R&&"opacity-100 text-neutral-500",m!==o&&"opacity-0")}),r.jsxs("span",{className:"block",children:[r.jsxs("span",{className:"flex items-baseline",children:[r.jsx("span",{className:w("block truncate ml-2",m.isRemote&&"text-primary-500"),children:m.name}),r.jsxs("small",{className:"block ml-2",children:["(",m.type,")"]})]}),m.isProd&&r.jsx("span",{className:"flex ml-2",children:r.jsx("small",{className:"text-xs text-neutral-500",children:"Production Environment"})}),m.isDefault&&r.jsx("span",{className:"flex ml-2",children:r.jsx("small",{className:"text-xs text-neutral-500",children:"Default Environment"})})]})]}),r.jsxs("div",{className:"flex items-center",children:[m.isPinned&&r.jsx(Dn,{title:"Pinned",className:"w-4 text-primary-500 dark:text-primary-100 mx-1"}),ie(m.isPinned)&&m.isLocal&&m!==o&&r.jsx(ke,{className:"!m-0 !px-1 bg-transparent hover:bg-transparent border-none",size:le.xs,format:At.Ghost,variant:se.Neutral,onClick:p=>{p.stopPropagation(),x(m)},children:r.jsx(Nn,{className:"w-4 text-neutral-500 dark:text-neutral-100"})}),ie(m.isPinned)&&m.isRemote&&m!==o&&r.jsx(ke,{className:"!px-2 !my-0",size:le.xs,variant:se.Danger,onClick:p=>{p.stopPropagation(),g(m)},children:"Delete"})]})]})},m.name)),n&&r.jsxs(r.Fragment,{children:[r.jsx(oe,{}),r.jsx(Qn,{onAdd:f,className:"mt-2 px-2"})]})]})})})]})})}function Qn({onAdd:e,className:t,label:n="Add",size:a=le.sm}){const l=C(g=>g.getNextEnvironment),c=C(g=>g.isExistingEnvironment),o=C(g=>g.addLocalEnvironment),[i,d]=s.useState(""),[x,b]=s.useState(l().name);return r.jsxs("div",{className:w("flex w-full items-center",t),children:[r.jsx(Ae,{className:"my-0 mx-0 mr-4 min-w-[10rem] w-full",size:a,children:({className:g})=>r.jsx(Ae.Textfield,{className:w(g,"w-full"),placeholder:"Environment",value:i,onInput:f=>{f.stopPropagation(),d(f.target.value)}})}),r.jsx(ke,{className:"my-0 mx-0 font-bold",size:a,disabled:St(i)||c(i),onClick:g=>{g.stopPropagation(),o(i,x),d(""),b(l().name),e==null||e()},children:n})]})}function X({headline:e,type:t,changes:n,className:a}){const[l,c]=s.useState(!1);return r.jsx(De,{onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},className:"relative flex",children:()=>r.jsxs(r.Fragment,{children:[r.jsx("span",{className:w("transition-all flex min-w-[1rem] h-4 text-center mx-0.5 px-1 rounded-full text-[10px] font-black text-neutral-100 cursor-default border border-inherit",t===h.Add&&"bg-success-500 border-success-500",t===h.Remove&&"bg-danger-500 border-danger-500",t===h.Direct&&"bg-secondary-500 border-secondary-500",t===h.Indirect&&"bg-warning-500 border-warning-500",t===h.Metadata&&"bg-neutral-400 border-neutral-400",t===h.Default&&"bg-neutral-600 border-neutral-600",a),children:n.length}),r.jsx(Ue,{show:l,as:s.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:r.jsx(De.Panel,{className:"absolute top-6 right-0 z-10 transform flex p-2 bg-theme-lighter shadow-xl focus:ring-2 ring-opacity-5 rounded-lg ",children:r.jsx(K,{headline:e,type:t,className:"w-full h-full max-w-[50vw] max-h-[40vh] overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical",children:r.jsx(K.Default,{type:t,changes:n})})})})]})})}export{Qn as A,_r as C,F as E,qe as H,Er as M,ea as P,Kn as S,Me as a,h as b,K as c,Zn as d,nr as e,at as u};
