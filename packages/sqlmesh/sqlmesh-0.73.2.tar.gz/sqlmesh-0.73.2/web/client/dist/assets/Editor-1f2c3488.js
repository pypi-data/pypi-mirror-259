import{r as S,w as X,k as te,j as s,o as C,f as P,i as G,q as bt,s as I,a as E,aK as F,l as y,Z as ne,b as Z,b8 as jt,aQ as Ft,B as k,m as V,ba as et,D as J,S as ge,v as me,a_ as qe,bb as $t,bc as yt,bd as tt,_ as Pt,u as nt,c as Mt,g as At,a3 as It}from"./index-a034c31a.js";import{v as he,M as Nt,P as Et,S as Ue}from"./_commonjs-dynamic-modules-c2a76892.js";import{I as $,X as Vt,M as Dt,O as kt,P as Lt,Q as zt,R as Tt,u as ot,a as Fe,U as Ht,V as Gt,C as Ot}from"./ModelLineage-281f0bc5.js";import{e as Bt}from"./Page-1523fb0b.js";import{B as Qe}from"./Banner-f5153252.js";import{r as A,T as Ee}from"./Tab-dc5fdab3.js";import{u as qt}from"./index-d8c63072.js";import{D as Ut}from"./ReportErrors-705315f3.js";function Qt({title:e,titleId:n,...t},o){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},t),e?S.createElement("title",{id:n},e):null,S.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}const Wt=S.forwardRef(Qt),lt=Wt;function Xt({title:e,titleId:n,...t},o){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},t),e?S.createElement("title",{id:n},e):null,S.createElement("path",{d:"M15 3.75H9v16.5h6V3.75zM16.5 20.25h3.375c1.035 0 1.875-.84 1.875-1.875V5.625c0-1.036-.84-1.875-1.875-1.875H16.5v16.5zM4.125 3.75H7.5v16.5H4.125a1.875 1.875 0 01-1.875-1.875V5.625c0-1.036.84-1.875 1.875-1.875z"}))}const Yt=S.forwardRef(Xt),Zt=Yt;function Jt(e){switch(e){case X.SQL:return"SQL";case X.PY:return"Python";case X.YAML:case X.YML:return"YAML";default:return"Plain Text"}}function Kt(e,n){return e.file.extension===X.SQL&&e.file.isLocal&&te(n)}const D=function({text:n,children:t,className:o}){return s.jsxs("small",{className:C("font-bold whitespace-nowrap text-xs",o),children:[P(n)&&s.jsxs("span",{children:[n,":Â "]}),t]})};function en({text:e,className:n}){return s.jsx("span",{className:C("font-normal",n),children:e})}function tn({ok:e,className:n}){return s.jsx("span",{className:C("inline-block w-2 h-2 rounded-full",G(e)&&"bg-warning-500",bt(e)&&"bg-success-500",I(e)&&"bg-danger-500",n)})}D.Text=en;D.Light=tn;const z={Model:"model",Test:"test",Audit:"audit",Macro:"macro",Hook:"hook",Log:"log",Config:"config",Seed:"seed",Metric:"metric",Schema:"schema",Unknown:"unknown"};function nn({tab:e}){const n=E(i=>i.isModel),t=F(i=>i.engine),o=F(i=>i.dialects),l=F(i=>i.refreshTab);S.useEffect(()=>{var a;const i=(a=o[0])==null?void 0:a.dialect_name;G(e.dialect)&&P(i)&&r(i)},[o,e]);function r(i){e.dialect=i,l(e),t.postMessage({topic:"dialect",payload:e.dialect})}return s.jsxs("div",{className:"flex w-full items-center px-2 min-h-[2rem]",children:[e.file.isRemote&&s.jsx(D,{className:"mr-2",text:"Saved",children:s.jsx(D.Light,{ok:I(e.file.isChanged)})}),e.file.isRemote&&e.file.isSQL&&s.jsx(D,{className:"mr-2",text:"Formatted",children:s.jsx(D.Light,{ok:e.file.isFormatted})}),s.jsx(D,{className:"mr-2",text:"Language",children:s.jsx(D.Text,{text:Jt(e.file.extension)})}),Kt(e,o)&&s.jsx(D,{className:"mr-2",text:"Dialect",children:s.jsx($,{size:y.sm,children:({className:i,size:a})=>s.jsx($.Selector,{className:i,size:a,list:o.map(c=>({text:c.dialect_title,value:ne(c.dialect_name)?"sqlglot":c.dialect_name})),onChange:c=>{r(c)},value:e.dialect})})}),n(e.file.path)&&!ne(e.dialect)&&s.jsx(D,{className:"mr-2",text:"Dialect",children:s.jsx(D.Text,{text:e.dialect})}),s.jsx(D,{className:"mr-2",text:"SQLMesh Type",children:s.jsx(D.Text,{text:on(e.file.path)})})]})}function on(e){return ne(e)?z.Unknown:e.startsWith("models")?z.Model:e.startsWith("tests")?z.Test:e.startsWith("logs")?z.Log:e.startsWith("macros")?z.Macro:e.startsWith("hooks")?z.Hook:e.startsWith("seeds")?z.Seed:e.startsWith("metrics")?z.Metric:["config.yaml","config.yml","config.py"].includes(e)?z.Config:["schema.yaml","schema.yml"].includes(e)?z.Schema:z.Unknown}function ln(){const e=Z(f=>f.selectedFile),n=Z(f=>f.setSelectedFile),t=F(f=>f.tab),o=F(f=>f.tabs),l=F(f=>f.replaceTab),r=F(f=>f.createTab),i=F(f=>f.selectTab),a=F(f=>f.addTab),[c,u]=S.useMemo(()=>{const f=[],p=[];return o.forEach(g=>{g.file.isLocal&&f.push(g),g.file.isRemote&&p.push(g)}),[f,p]},[o]);S.useEffect(()=>{if(G(e)||(t==null?void 0:t.file)===e||e instanceof jt)return;const f=r(e);P(t)&&t.file instanceof Ft&&I(t.file.isChanged)&&t.file.isRemote&&I(o.has(e))?l(t,f):a(f),i(f)},[e]);function d(){const f=r();a(f),i(f),n(f.file)}return s.jsxs("div",{className:"flex items-center",children:[s.jsx(k,{className:"h-6 m-0 ml-1 mr-2 border-none",variant:V.Alternative,size:y.sm,onClick:f=>{f.stopPropagation(),d()},children:s.jsx(Bt,{className:"inline-block w-3 h-4"})}),s.jsxs("ul",{className:"w-full whitespace-nowrap min-h-[2rem] max-h-[2rem] overflow-hidden overflow-x-auto hover:scrollbar scrollbar--horizontal",children:[c.map((f,p)=>s.jsx(We,{tab:f,title:`Custom SQL ${p+1}`},f.id)),u.map(f=>s.jsx(We,{tab:f,title:f.file.name},f.id))]})]})}function We({tab:e,title:n}){const t=S.useRef(null),o=E(d=>d.addConfirmation),l=Z(d=>d.setSelectedFile),r=F(d=>d.tab),i=F(d=>d.selectTab),a=F(d=>d.closeTab);S.useEffect(()=>{G(e)||(e.el=t.current??void 0,(r==null?void 0:r.id)===e.id&&setTimeout(()=>{var d;(d=e==null?void 0:e.el)==null||d.scrollIntoView({behavior:"smooth",inline:"center"})},300))},[t,e,r]);function c(){e.file.isChanged?o({headline:"Closing Tab",description:"All unsaved changes will be lost. Do you want to close the tab anyway?",yesText:"Yes, Close Tab",noText:"No, Cancel",action:()=>{a(e.file)}}):a(e.file)}const u=e.file.id===(r==null?void 0:r.file.id);return s.jsx("li",{ref:t,className:C("inline-block py-1 pr-2 last-child:pr-0 overflow-hidden text-center overflow-ellipsis cursor-pointer"),onClick:d=>{d.stopPropagation(),i(e),l(e.file)},children:s.jsxs("span",{className:C("flex border-2 justify-between items-center pl-1 pr-1 py-[0.125rem] min-w-[8rem] rounded-md group border-transparent border-r border-r-theme-darker dark:border-r-theme-lighter",u?"bg-neutral-200 border-neutral-200 text-neutral-900 dark:bg-dark-lighter dark:border-dark-lighter dark:text-primary-500":"bg-trasparent hover:bg-theme-darker dark:hover:bg-theme-lighter"),children:[s.jsx("small",{className:"text-xs",children:n}),s.jsx("small",{className:C("group-hover:hidden text-xs inline-block ml-3 mr-1 w-2 h-2 rounded-full",e.file.isChanged?"bg-warning-500":"bg-transparent")}),s.jsx(Vt,{className:"hidden group-hover:inline-block text-neutral-600 dark:text-neutral-100 w-4 h-4 ml-2 mr-0 cursor-pointer",onClick:d=>{d.stopPropagation(),c()}})]})})}function Ve(e){if(G(e))return[[],[]];const n=e.toArray(),t=Array.from(n).map(rn);return[e.schema.fields.map(l=>({name:l.name,type:sn(l.type.toString())})),t]}function rn(e=[]){return Array.from(e).reduce((n,[t,o])=>Object.assign(n,{[t]:G(o)?void 0:String(o)}),{})}function sn(e){return e==="Int32"||e==="Int64"?"int":e==="Float64"?"float":"text"}const Xe=24*60*60*1e3,an=1e3,de=50;function un({tab:e,isOpen:n=!0,toggle:t}){const o=E(i=>i.models),l=E(i=>i.isModel),r=S.useMemo(()=>o.get(e.file.path),[e,o]);return s.jsx("div",{className:C("flex flex-col w-full h-full items-center overflow-hidden"),children:l(e.file.path)?P(r)&&s.jsx(dn,{tab:e,model:r,isOpen:n,toggle:t}):s.jsx(cn,{tab:e,isOpen:n,toggle:t})})}function dn({tab:e,model:n,isOpen:t=!0,toggle:o}){const l=E(a=>a.environment),r=E(a=>a.environments),i=Array.from(r).filter(({isRemote:a})=>a).map(({name:a})=>({text:a,value:a}));return s.jsxs(A.Group,{children:[s.jsxs("div",{className:"flex w-full items-center",children:[s.jsx(k,{className:C("h-6 w-6 !px-0 border-none bg-neutral-10 dark:bg-neutral-20",t?"text-secondary-500 dark:text-secondary-300":"text-neutral-500 dark:text-neutral-300"),variant:V.Info,size:y.sm,onClick:a=>{a.stopPropagation(),o==null||o()},children:s.jsx(lt,{className:"w-4 h-4"})}),t&&s.jsx(Ee,{className:"flex justify-center items-center",list:["Evaluate","Columns",i.length>1&&l.isRemote&&"Diff"].filter(Boolean)})]}),t&&s.jsxs(A.Panels,{className:"h-full w-full overflow-hidden",children:[s.jsx(A.Panel,{unmount:!1,className:C("flex flex-col w-full h-full relative overflow-hidden","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:s.jsx(pn,{model:n})}),s.jsx(A.Panel,{unmount:!1,className:"text-xs w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 px-2",children:s.jsx(Dt,{className:"max-h-[15rem]",nodeId:n.name,columns:n.columns,disabled:n.isModelPython,withHandles:!1,withSource:!1,withDescription:!0,limit:10})}),i.length>1&&l.isRemote&&s.jsx(A.Panel,{unmount:!1,className:C("flex flex-col w-full h-full relative overflow-hidden","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:s.jsx(mn,{tab:e,model:n,list:i.filter(({value:a})=>l.name!==a),target:{text:l.name,value:l.name}})})]})]})}function cn({tab:e,isOpen:n=!0,toggle:t}){return s.jsxs(A.Group,{children:[s.jsxs("div",{className:"flex w-full items-center",children:[s.jsx(k,{className:C("h-6 w-6 !px-0 border-none bg-neutral-10 dark:bg-neutral-20",n?"text-secondary-500 dark:text-secondary-300":"text-neutral-500 dark:text-neutral-300"),variant:V.Info,size:y.sm,onClick:o=>{o.stopPropagation(),t==null||t()},children:s.jsx(lt,{className:"w-4 h-4"})}),n&&s.jsx(Ee,{className:"flex justify-center items-center",list:["Run Query","Diff"]})]}),n&&s.jsxs(A.Panels,{className:"h-full w-full overflow-hidden",children:[s.jsx(A.Panel,{unmount:!1,className:C("flex flex-col w-full h-full relative overflow-hidden","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:s.jsx(fn,{tab:e})}),s.jsx(A.Panel,{unmount:!1,className:C("flex flex-col w-full h-full relative overflow-hidden","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:s.jsx(hn,{})})]})]})}function gn({children:e}){return s.jsx("fieldset",{className:"flex my-3",children:e})}function fe({children:e}){return s.jsx("div",{className:"flex w-full h-full py-1 overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical",children:e})}function pe({children:e}){return s.jsx("div",{className:"flex w-full py-1 px-1 justify-end",children:e})}function fn({tab:e}){const n=F(c=>c.setPreviewQuery),t=F(c=>c.setPreviewTable),o=F(c=>c.engine),{refetch:l,isFetching:r,cancel:i}=et({sql:e.file.content});S.useEffect(()=>()=>{i()},[]);function a(){t(void 0),n(e.file.content),l().then(({data:c})=>{t(Ve(c))})}return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx(J,{}),s.jsxs(pe,{children:[s.jsx(k,{size:y.sm,variant:V.Alternative,onClick:c=>{c.stopPropagation(),o.postMessage({topic:"format",payload:{sql:e.file.content}})},children:"Format"}),r?s.jsxs("div",{className:"flex items-center",children:[s.jsx(ge,{className:"w-3"}),s.jsx("small",{className:"text-xs text-neutral-400 block mx-2",children:"Running Query..."}),s.jsx(k,{size:y.sm,variant:V.Danger,onClick:c=>{c.stopPropagation(),i()},children:"Cancel"})]}):s.jsx(k,{size:y.sm,variant:V.Alternative,disabled:r,onClick:c=>{c.stopPropagation(),a()},children:"Run Query"})]})]})}function pn({model:e}){const n=E(g=>g.environment),t=E(g=>g.isModel),o=F(g=>g.setPreviewQuery),l=F(g=>g.setPreviewTable),[r,i]=S.useState({model:e.displayName,start:me(qe(Date.now()-Xe)),end:me(new Date),execution_time:me(qe(Date.now()-Xe)),limit:1e3}),{refetch:a}=$t(r),{refetch:c,isFetching:u,cancel:d}=yt(r),f=t(e.path)&&Object.values(r).every(Boolean);S.useEffect(()=>()=>{d()},[]);function p(){o(void 0),l(void 0),a().then(({data:g})=>{o(g==null?void 0:g.sql)}),c().then(({data:g})=>{l(Ve(g))})}return s.jsxs(s.Fragment,{children:[s.jsx(fe,{children:s.jsxs("form",{className:"w-full",children:[I(f)&&s.jsx(gn,{children:s.jsx(Qe,{variant:V.Warning,children:s.jsxs(Qe.Description,{className:"w-full mr-2 text-sm",children:["Please fill out all fields to ",s.jsx("b",{children:"evaluate the model"}),"."]})})}),s.jsxs("fieldset",{className:"px-2 w-full text-neutral-500",children:[s.jsx($,{className:"w-full mx-0",label:"Start Date",size:y.sm,children:({className:g})=>s.jsx($.Textfield,{className:C(g,"w-full"),placeholder:"02/11/2023",value:r.start,onInput:h=>{h.stopPropagation(),i({...r,start:h.target.value??""})}})}),s.jsx($,{className:"w-full mx-0",label:"End Date",size:y.sm,children:({className:g})=>s.jsx($.Textfield,{className:C(g,"w-full"),placeholder:"02/13/2023",value:r.end,onInput:h=>{h.stopPropagation(),i({...r,end:h.target.value??""})}})}),s.jsx($,{className:"w-full mx-0",label:"Execution Time",size:y.sm,children:({className:g})=>s.jsx($.Textfield,{className:C(g,"w-full"),placeholder:"02/13/2023",value:r.execution_time,onInput:h=>{h.stopPropagation(),i({...r,execution_time:h.target.value??""})}})}),P(r.limit)&&s.jsx($,{className:"w-full mx-0",label:"Limit",size:y.sm,children:({className:g})=>s.jsx($.Textfield,{className:C(g,"w-full"),type:"number",placeholder:"1000",value:r.limit,onInput:h=>{h.stopPropagation(),i({...r,limit:h.target.valueAsNumber??an})}})})]})]})}),s.jsx(J,{}),s.jsx(pe,{children:s.jsx("div",{className:"flex w-full justify-end",children:t(e.path)&&u?s.jsxs("div",{className:"flex items-center",children:[s.jsx(ge,{className:"w-3"}),s.jsx("small",{className:"text-xs text-neutral-400 block mx-2",children:"Evaluating..."}),s.jsx(k,{size:y.sm,variant:V.Danger,onClick:g=>{g.stopPropagation(),d()},children:"Cancel"})]}):s.jsx(k,{size:y.sm,variant:V.Alternative,disabled:I(f)||u||n.isInitialProd,onClick:g=>{g.stopPropagation(),p()},children:"Evaluate"})})})]})}function mn({tab:e,model:n,list:t,target:o}){const l=E(R=>R.isModel),r=F(R=>R.setPreviewDiff),[i,a]=S.useState(t[0].value),[c,u]=S.useState(de),[d,f]=S.useState(""),[p,g]=S.useState(""),{refetch:h,isFetching:m,cancel:x}=tt({source:i,target:o.value,model_or_snapshot:n.name,limit:c,on:d,where:p}),v=S.useCallback(()=>{r(void 0),h().then(({data:R})=>{r(R)})},[n.name]);S.useEffect(()=>()=>{x()},[]),S.useEffect(()=>{a(t[0].value)},[t]);const j=l(e.file.path)&&[i,o,c].every(Boolean);return s.jsxs(s.Fragment,{children:[s.jsx(fe,{children:s.jsx("form",{className:"w-full",children:s.jsxs("fieldset",{className:"px-2 w-full text-neutral-500",children:[s.jsx($,{className:"w-full mx-0",label:"Source",disabled:t.length<2,size:y.sm,children:({disabled:R,className:_})=>s.jsx($.Selector,{className:C(_,"w-full"),list:t,value:i,disabled:R,onChange:a})}),s.jsx($,{className:"w-full mx-0",label:"Target",disabled:!0,children:({disabled:R,className:_})=>s.jsx($.Textfield,{className:C(_,"w-full"),disabled:R,value:o.value})}),s.jsx($,{className:"w-full mx-0",label:"Limit",size:y.sm,children:({className:R})=>s.jsx($.Textfield,{className:C(R,"w-full"),type:"number",placeholder:"1000",value:c,onInput:_=>{_.stopPropagation(),u(_.target.valueAsNumber??de)}})}),s.jsx($,{className:"w-full mx-0",label:"ON",size:y.sm,children:({className:R})=>s.jsx($.Textfield,{className:C(R,"w-full"),placeholder:"s.id = t.id",value:d,onInput:_=>{_.stopPropagation(),f(_.target.value)}})}),s.jsx($,{className:"w-full mx-0",label:"WHERE",size:y.sm,children:({className:R})=>s.jsx($.Textfield,{className:C(R,"w-full"),placeholder:"id > 10",value:p,onInput:_=>{_.stopPropagation(),g(_.target.value)}})})]})})}),s.jsx(J,{}),s.jsx(pe,{children:s.jsx("div",{className:"flex w-full justify-end items-center px-2",children:m?s.jsxs("div",{className:"flex items-center",children:[s.jsx(ge,{className:"w-3"}),s.jsx("small",{className:"text-xs text-neutral-400 block mx-2",children:"Getting Diff..."}),s.jsx(k,{size:y.sm,variant:V.Danger,onClick:R=>{R.stopPropagation(),x()},children:"Cancel"})]}):s.jsx(k,{className:"ml-2",size:y.sm,variant:V.Alternative,disabled:I(j)||m,onClick:R=>{R.stopPropagation(),v()},children:"Get Diff"})})})]})}function hn(){const e=F(x=>x.setPreviewDiff),[n,t]=S.useState(""),[o,l]=S.useState(""),[r,i]=S.useState(de),[a,c]=S.useState(""),[u,d]=S.useState(""),{refetch:f,isFetching:p,cancel:g}=tt({source:n,target:o,limit:r,on:a,where:u});S.useEffect(()=>()=>{g()},[]);function h(){e(void 0),f().then(({data:x})=>{e(x)})}const m=[n,o,r,a].every(Boolean);return s.jsxs(s.Fragment,{children:[s.jsx(fe,{children:s.jsx("form",{className:"w-full",children:s.jsxs("fieldset",{className:"px-2 w-full text-neutral-500",children:[s.jsx($,{className:"w-full mx-0",label:"Source",size:y.sm,children:({className:x})=>s.jsx($.Textfield,{className:C(x,"w-full"),placeholder:"exp.tst_model__dev",value:n,onInput:v=>{v.stopPropagation(),t(v.target.value)}})}),s.jsx($,{className:"w-full mx-0",label:"Target",size:y.sm,children:({className:x})=>s.jsx($.Textfield,{className:C(x,"w-full"),placeholder:"exp.tst_snapshot__1353336088",value:o,onInput:v=>{v.stopPropagation(),l(v.target.value)}})}),s.jsx($,{className:"w-full mx-0",label:"Limit",size:y.sm,children:({className:x})=>s.jsx($.Textfield,{className:C(x,"w-full"),type:"number",placeholder:"1000",value:r,onInput:v=>{v.stopPropagation(),i(v.target.valueAsNumber??de)}})}),s.jsx($,{className:"w-full mx-0",label:"ON",size:y.sm,children:({className:x})=>s.jsx($.Textfield,{className:C(x,"w-full"),placeholder:"s.id = t.id",value:a,onInput:v=>{v.stopPropagation(),c(v.target.value)}})}),s.jsx($,{className:"w-full mx-0",label:"WHERE",size:y.sm,children:({className:x})=>s.jsx($.Textfield,{className:C(x,"w-full"),placeholder:"id > 10",value:u,onInput:v=>{v.stopPropagation(),d(v.target.value)}})})]})})}),s.jsx(J,{}),s.jsx(pe,{children:p?s.jsxs("div",{className:"flex items-center",children:[s.jsx(ge,{className:"w-3"}),s.jsx("small",{className:"text-xs text-neutral-400 block mx-2",children:"Getting Diff..."}),s.jsx(k,{size:y.sm,variant:V.Danger,onClick:x=>{x.stopPropagation(),g()},children:"Cancel"})]}):s.jsx(k,{className:"ml-2",size:y.sm,variant:V.Alternative,disabled:I(m)||p,onClick:x=>{x.stopPropagation(),h()},children:"Get Diff"})})]})}const oe="s__",le="t__",De="NULL";function xn({source_schema:e,target_schema:n},t,o){const l=Array.from(new Set(o.flat())),r=Object.keys(e),i=Object.keys(n),c=Array.from(new Set(r.concat(i))).filter(f=>r.includes(f)&&i.includes(f)),u=r.filter(f=>!i.includes(f)),d=i.filter(f=>!r.includes(f));return{all:Array.from(new Set([l,t.modifiedColumns&&c,t.addedColumns&&d,t.removedColumns&&u].filter(Boolean).flat())),added:d.length,deleted:u.length,modified:c.length-l.length}}function vn(e,n,t){const o=Object.values(e.row_diff.sample)[0]??{},l=[],r=[],i=[];return Object.keys(o).forEach(a=>{U(e,a,t)?r.push(a):q(e,a,t)?l.push(a):i.push(a)}),{all:[n.modifiedRows&&i,n.addedRows&&r,n.removedRows&&l].filter(Boolean).flat(),added:r.length,deleted:l.length,modified:i.length}}function $e(e,n,t){const o=H(e,oe,n,t),l=H(e,le,n,t);return o!==l}function q(e,n,t){return t.every(([o,l])=>{const r=H(e,oe,o,n),i=H(e,le,l,n);return P(r)&&G(i)})}function U(e,n,t){return t.every(([o,l])=>{const r=H(e,oe,o,n),i=H(e,le,l,n);return G(r)&&P(i)})}function xe(e,n,t,o){return t in e.schema_diff.added||t in e.schema_diff.removed?!1:n.some(l=>I(U(e,l,o))&&I(q(e,l,o))&&$e(e,t,l))}function H(e,n,t,o){var l;return(l=e.row_diff.sample[`${n}${t}`])==null?void 0:l[o]}function wn(e,n,t){return H(e,oe,n,t)??De}function Sn(e,n,t){return H(e,le,n,t)??De}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q(e,n){return typeof e=="function"?e(n):e}function L(e,n){return t=>{n.setState(o=>({...o,[e]:Q(t,o[e])}))}}function ce(e){return e instanceof Function}function Cn(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Rn(e,n){const t=[],o=l=>{l.forEach(r=>{t.push(r);const i=n(r);i!=null&&i.length&&o(i)})};return o(e),t}function b(e,n,t){let o=[],l;return()=>{let r;t.key&&t.debug&&(r=Date.now());const i=e();if(!(i.length!==o.length||i.some((u,d)=>o[d]!==u)))return l;o=i;let c;if(t.key&&t.debug&&(c=Date.now()),l=n(...i),t==null||t.onChange==null||t.onChange(l),t.key&&t.debug&&t!=null&&t.debug()){const u=Math.round((Date.now()-r)*100)/100,d=Math.round((Date.now()-c)*100)/100,f=d/16,p=(g,h)=>{for(g=String(g);g.length<h;)g=" "+g;return g};console.info(`%câ± ${p(d,5)} /${p(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return l}}function _n(e,n,t,o){var l,r;const a={...e._getDefaultColumnDef(),...n},c=a.accessorKey;let u=(l=(r=a.id)!=null?r:c?c.replace(".","_"):void 0)!=null?l:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:c&&(c.includes(".")?d=p=>{let g=p;for(const m of c.split(".")){var h;g=(h=g)==null?void 0:h[m]}return g}:d=p=>p[a.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:o,depth:t,columnDef:a,columns:[],getFlatColumns:b(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(g=>g.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var p;return(p=e.options.debugAll)!=null?p:e.options.debugColumns}}),getLeafColumns:b(()=>[e._getOrderColumnsFn()],p=>{var g;if((g=f.columns)!=null&&g.length){let h=f.columns.flatMap(m=>m.getLeafColumns());return p(h)}return[f]},{key:"column.getLeafColumns",debug:()=>{var p;return(p=e.options.debugAll)!=null?p:e.options.debugColumns}})};for(const p of e._features)p.createColumn==null||p.createColumn(f,e);return f}function Ye(e,n,t){var o;let r={id:(o=t.id)!=null?o:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],a=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(a),i.push(c)};return a(r),i},getContext:()=>({table:e,header:r,column:n})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(r,e)}),r}const bn={createTable:e=>{e.getHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,l)=>{var r,i;const a=(r=o==null?void 0:o.map(f=>t.find(p=>p.id===f)).filter(Boolean))!=null?r:[],c=(i=l==null?void 0:l.map(f=>t.find(p=>p.id===f)).filter(Boolean))!=null?i:[],u=t.filter(f=>!(o!=null&&o.includes(f.id))&&!(l!=null&&l.includes(f.id)));return ie(n,[...a,...u,...c],e)},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,l)=>(t=t.filter(r=>!(o!=null&&o.includes(r.id))&&!(l!=null&&l.includes(r.id))),ie(n,t,e,"center")),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,o)=>{var l;const r=(l=o==null?void 0:o.map(i=>t.find(a=>a.id===i)).filter(Boolean))!=null?l:[];return ie(n,r,e,"left")},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,o)=>{var l;const r=(l=o==null?void 0:o.map(i=>t.find(a=>a.id===i)).filter(Boolean))!=null?l:[];return ie(n,r,e,"right")},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getFooterGroups=b(()=>[e.getHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftFooterGroups=b(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterFooterGroups=b(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightFooterGroups=b(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getFlatHeaders=b(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftFlatHeaders=b(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterFlatHeaders=b(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightFlatHeaders=b(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterLeafHeaders=b(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftLeafHeaders=b(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightLeafHeaders=b(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeafHeaders=b(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,o)=>{var l,r,i,a,c,u;return[...(l=(r=n[0])==null?void 0:r.headers)!=null?l:[],...(i=(a=t[0])==null?void 0:a.headers)!=null?i:[],...(c=(u=o[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}})}};function ie(e,n,t,o){var l,r;let i=0;const a=function(p,g){g===void 0&&(g=1),i=Math.max(i,g),p.filter(h=>h.getIsVisible()).forEach(h=>{var m;(m=h.columns)!=null&&m.length&&a(h.columns,g+1)},0)};a(e);let c=[];const u=(p,g)=>{const h={depth:g,id:[o,`${g}`].filter(Boolean).join("_"),headers:[]},m=[];p.forEach(x=>{const v=[...m].reverse()[0],j=x.column.depth===h.depth;let R,_=!1;if(j&&x.column.parent?R=x.column.parent:(R=x.column,_=!0),v&&(v==null?void 0:v.column)===R)v.subHeaders.push(x);else{const M=Ye(t,R,{id:[o,g,R.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${m.filter(Y=>Y.column===R).length}`:void 0,depth:g,index:m.length});M.subHeaders.push(x),m.push(M)}h.headers.push(x),x.headerGroup=h}),c.push(h),g>0&&u(m,g-1)},d=n.map((p,g)=>Ye(t,p,{depth:i,index:g}));u(d,i-1),c.reverse();const f=p=>p.filter(h=>h.column.getIsVisible()).map(h=>{let m=0,x=0,v=[0];h.subHeaders&&h.subHeaders.length?(v=[],f(h.subHeaders).forEach(R=>{let{colSpan:_,rowSpan:M}=R;m+=_,v.push(M)})):m=1;const j=Math.min(...v);return x=x+j,h.colSpan=m,h.rowSpan=x,{colSpan:m,rowSpan:x}});return f((l=(r=c[0])==null?void 0:r.headers)!=null?l:[]),c}const ae={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ve=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),jn={getDefaultColumnDef:()=>ae,getInitialState:e=>({columnSizing:{},columnSizingInfo:ve(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:L("columnSizing",e),onColumnSizingInfoChange:L("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,o,l;const r=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:ae.minSize,(o=r??e.columnDef.size)!=null?o:ae.size),(l=e.columnDef.maxSize)!=null?l:ae.maxSize)},e.getStart=t=>{const o=t?t==="left"?n.getLeftVisibleLeafColumns():n.getRightVisibleLeafColumns():n.getVisibleLeafColumns(),l=o.findIndex(r=>r.id===e.id);if(l>0){const r=o[l-1];return r.getStart(t)+r.getSize()}return 0},e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:o,...l}=t;return l})},e.getCanResize=()=>{var t,o;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((o=n.options.enableColumnResizing)!=null?o:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const o=l=>{if(l.subHeaders.length)l.subHeaders.forEach(o);else{var r;t+=(r=l.column.getSize())!=null?r:0}};return o(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=()=>{const t=n.getColumn(e.column.id),o=t==null?void 0:t.getCanResize();return l=>{if(!t||!o||(l.persist==null||l.persist(),we(l)&&l.touches&&l.touches.length>1))return;const r=e.getSize(),i=e?e.getLeafHeaders().map(m=>[m.column.id,m.column.getSize()]):[[t.id,t.getSize()]],a=we(l)?Math.round(l.touches[0].clientX):l.clientX,c={},u=(m,x)=>{typeof x=="number"&&(n.setColumnSizingInfo(v=>{var j,R;const _=x-((j=v==null?void 0:v.startOffset)!=null?j:0),M=Math.max(_/((R=v==null?void 0:v.startSize)!=null?R:0),-.999999);return v.columnSizingStart.forEach(Y=>{let[K,re]=Y;c[K]=Math.round(Math.max(re+re*M,0)*100)/100}),{...v,deltaOffset:_,deltaPercentage:M}}),(n.options.columnResizeMode==="onChange"||m==="end")&&n.setColumnSizing(v=>({...v,...c})))},d=m=>u("move",m),f=m=>{u("end",m),n.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p={moveHandler:m=>d(m.clientX),upHandler:m=>{document.removeEventListener("mousemove",p.moveHandler),document.removeEventListener("mouseup",p.upHandler),f(m.clientX)}},g={moveHandler:m=>(m.cancelable&&(m.preventDefault(),m.stopPropagation()),d(m.touches[0].clientX),!1),upHandler:m=>{var x;document.removeEventListener("touchmove",g.moveHandler),document.removeEventListener("touchend",g.upHandler),m.cancelable&&(m.preventDefault(),m.stopPropagation()),f((x=m.touches[0])==null?void 0:x.clientX)}},h=Fn()?{passive:!1}:!1;we(l)?(document.addEventListener("touchmove",g.moveHandler,h),document.addEventListener("touchend",g.upHandler,h)):(document.addEventListener("mousemove",p.moveHandler,h),document.addEventListener("mouseup",p.upHandler,h)),n.setColumnSizingInfo(m=>({...m,startOffset:a,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:i,isResizingColumn:t.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?ve():(t=e.initialState.columnSizingInfo)!=null?t:ve())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0}}};let ue=null;function Fn(){if(typeof ue=="boolean")return ue;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return ue=e,ue}function we(e){return e.type==="touchstart"}const $n={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:L("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var o,l;if(!n){e._queue(()=>{n=!0});return}if((o=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),e.toggleAllRowsExpanded=o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=o=>{var l,r;e.setExpanded(o?{}:(l=(r=e.initialState)==null?void 0:r.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},e.getIsAllRowsExpanded=()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const i=r.split(".");o=Math.max(o,i.length)}),o},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(o=>{var l;const r=o===!0?!0:!!(o!=null&&o[e.id]);let i={};if(o===!0?Object.keys(n.getRowModel().rowsById).forEach(a=>{i[a]=!0}):i=o,t=(l=t)!=null?l:!r,!r&&t)return{...i,[e.id]:!0};if(r&&!t){const{[e.id]:a,...c}=i;return c}return o})},e.getIsExpanded=()=>{var t;const o=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:o===!0||o!=null&&o[e.id])},e.getCanExpand=()=>{var t,o,l;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((o=n.options.enableExpanding)!=null?o:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let t=!0,o=e;for(;t&&o.parentId;)o=n.getRow(o.parentId,!0),t=o.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},rt=(e,n,t)=>{var o;const l=t.toLowerCase();return!!(!((o=e.getValue(n))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(l))};rt.autoRemove=e=>T(e);const st=(e,n,t)=>{var o;return!!(!((o=e.getValue(n))==null||(o=o.toString())==null)&&o.includes(t))};st.autoRemove=e=>T(e);const it=(e,n,t)=>{var o;return((o=e.getValue(n))==null||(o=o.toString())==null?void 0:o.toLowerCase())===(t==null?void 0:t.toLowerCase())};it.autoRemove=e=>T(e);const at=(e,n,t)=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(t)};at.autoRemove=e=>T(e)||!(e!=null&&e.length);const ut=(e,n,t)=>!t.some(o=>{var l;return!((l=e.getValue(n))!=null&&l.includes(o))});ut.autoRemove=e=>T(e)||!(e!=null&&e.length);const dt=(e,n,t)=>t.some(o=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(o)});dt.autoRemove=e=>T(e)||!(e!=null&&e.length);const ct=(e,n,t)=>e.getValue(n)===t;ct.autoRemove=e=>T(e);const gt=(e,n,t)=>e.getValue(n)==t;gt.autoRemove=e=>T(e);const ke=(e,n,t)=>{let[o,l]=t;const r=e.getValue(n);return r>=o&&r<=l};ke.resolveFilterValue=e=>{let[n,t]=e,o=typeof n!="number"?parseFloat(n):n,l=typeof t!="number"?parseFloat(t):t,r=n===null||Number.isNaN(o)?-1/0:o,i=t===null||Number.isNaN(l)?1/0:l;if(r>i){const a=r;r=i,i=a}return[r,i]};ke.autoRemove=e=>T(e)||T(e[0])&&T(e[1]);const O={includesString:rt,includesStringSensitive:st,equalsString:it,arrIncludes:at,arrIncludesAll:ut,arrIncludesSome:dt,equals:ct,weakEquals:gt,inNumberRange:ke};function T(e){return e==null||e===""}const yn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:L("columnFilters",e),onGlobalFilterChange:L("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const o=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t==null?void 0:t.getValue(e.id);return typeof o=="string"?O.includesString:typeof o=="number"?O.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?O.equals:Array.isArray(o)?O.arrIncludes:O.weakEquals},e.getFilterFn=()=>{var t,o;return ce(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(o=n.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?t:O[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,o,l;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((o=n.options.enableColumnFilters)!=null?o:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var t,o,l,r;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((o=n.options.enableGlobalFilter)!=null?o:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((r=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(o=>o.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,o;return(t=(o=n.getState().columnFilters)==null?void 0:o.findIndex(l=>l.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(o=>{const l=e.getFilterFn(),r=o==null?void 0:o.find(d=>d.id===e.id),i=Q(t,r?r.value:void 0);if(Ze(l,i,e)){var a;return(a=o==null?void 0:o.filter(d=>d.id!==e.id))!=null?a:[]}const c={id:e.id,value:i};if(r){var u;return(u=o==null?void 0:o.map(d=>d.id===e.id?c:d))!=null?u:[]}return o!=null&&o.length?[...o,c]:[c]})},e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>O.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:o}=e.options;return ce(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[o])!=null?n:O[o]},e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),o=l=>{var r;return(r=Q(n,l))==null?void 0:r.filter(i=>{const a=t.find(c=>c.id===i.id);if(a){const c=a.getFilterFn();if(Ze(c,i.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)},e.resetColumnFilters=n=>{var t,o;e.setColumnFilters(n?[]:(t=(o=e.initialState)==null?void 0:o.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function Ze(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Pn=(e,n,t)=>t.reduce((o,l)=>{const r=l.getValue(e);return o+(typeof r=="number"?r:0)},0),Mn=(e,n,t)=>{let o;return t.forEach(l=>{const r=l.getValue(e);r!=null&&(o>r||o===void 0&&r>=r)&&(o=r)}),o},An=(e,n,t)=>{let o;return t.forEach(l=>{const r=l.getValue(e);r!=null&&(o<r||o===void 0&&r>=r)&&(o=r)}),o},In=(e,n,t)=>{let o,l;return t.forEach(r=>{const i=r.getValue(e);i!=null&&(o===void 0?i>=i&&(o=l=i):(o>i&&(o=i),l<i&&(l=i)))}),[o,l]},Nn=(e,n)=>{let t=0,o=0;if(n.forEach(l=>{let r=l.getValue(e);r!=null&&(r=+r)>=r&&(++t,o+=r)}),t)return o/t},En=(e,n)=>{if(!n.length)return;const t=n.map(r=>r.getValue(e));if(!Cn(t))return;if(t.length===1)return t[0];const o=Math.floor(t.length/2),l=t.sort((r,i)=>r-i);return t.length%2!==0?l[o]:(l[o-1]+l[o])/2},Vn=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),Dn=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,kn=(e,n)=>n.length,Se={sum:Pn,min:Mn,max:An,extent:In,mean:Nn,median:En,unique:Vn,uniqueCount:Dn,count:kn},Ln={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:L("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(o=>o!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,o,l,r;return(t=(o=(l=(r=e.columnDef.enableGrouping)!=null?r:!0)!=null?l:n.options.enableGrouping)!=null?o:!0)!=null?t:!!e.accessorFn},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t==null?void 0:t.getValue(e.id);if(typeof o=="number")return Se.sum;if(Object.prototype.toString.call(o)==="[object Date]")return Se.extent},e.getAggregationFn=()=>{var t,o;if(!e)throw new Error;return ce(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(o=n.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?t:Se[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,o;e.setGrouping(n?[]:(t=(o=e.initialState)==null?void 0:o.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const o=n.getColumn(t);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[t]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,o)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=t.subRows)!=null&&l.length)}}};function zn(e,n,t){if(!(n!=null&&n.length)||!t)return e;const o=e.filter(r=>!n.includes(r.id));return t==="remove"?o:[...n.map(r=>e.find(i=>i.id===r)).filter(Boolean),...o]}const Tn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:L("columnOrder",e)}),createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=b(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,o)=>l=>{let r=[];if(!(n!=null&&n.length))r=l;else{const i=[...n],a=[...l];for(;a.length&&i.length;){const c=i.shift(),u=a.findIndex(d=>d.id===c);u>-1&&r.push(a.splice(u,1)[0])}r=[...r,...a]}return zn(r,t,o)},{key:!1})}},ye=0,Pe=10,Ce=()=>({pageIndex:ye,pageSize:Pe}),Hn={getInitialState:e=>({...e,pagination:{...Ce(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:L("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var o,l;if(!n){e._queue(()=>{n=!0});return}if((o=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=o=>{const l=r=>Q(o,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=o=>{var l;e.setPagination(o?Ce():(l=e.initialState.pagination)!=null?l:Ce())},e.setPageIndex=o=>{e.setPagination(l=>{let r=Q(o,l.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,i)),{...l,pageIndex:r}})},e.resetPageIndex=o=>{var l,r;e.setPageIndex(o?ye:(l=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?l:ye)},e.resetPageSize=o=>{var l,r;e.setPageSize(o?Pe:(l=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?l:Pe)},e.setPageSize=o=>{e.setPagination(l=>{const r=Math.max(1,Q(o,l.pageSize)),i=l.pageSize*l.pageIndex,a=Math.floor(i/r);return{...l,pageIndex:a,pageSize:r}})},e.setPageCount=o=>e.setPagination(l=>{var r;let i=Q(o,(r=e.options.pageCount)!=null?r:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...l,pageCount:i}}),e.getPageOptions=b(()=>[e.getPageCount()],o=>{let l=[];return o&&o>0&&(l=[...new Array(o)].fill(null).map((r,i)=>i)),l},{key:!1,debug:()=>{var o;return(o=e.options.debugAll)!=null?o:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:o}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:o<l-1},e.previousPage=()=>e.setPageIndex(o=>o-1),e.nextPage=()=>e.setPageIndex(o=>o+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},Re=()=>({left:[],right:[]}),_e=()=>({top:[],bottom:[]}),Gn={getInitialState:e=>({columnPinning:Re(),rowPinning:_e(),...e}),getDefaultOptions:e=>({onColumnPinningChange:L("columnPinning",e),onRowPinningChange:L("rowPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const o=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var r,i;if(t==="right"){var a,c;return{left:((a=l==null?void 0:l.left)!=null?a:[]).filter(f=>!(o!=null&&o.includes(f))),right:[...((c=l==null?void 0:l.right)!=null?c:[]).filter(f=>!(o!=null&&o.includes(f))),...o]}}if(t==="left"){var u,d;return{left:[...((u=l==null?void 0:l.left)!=null?u:[]).filter(f=>!(o!=null&&o.includes(f))),...o],right:((d=l==null?void 0:l.right)!=null?d:[]).filter(f=>!(o!=null&&o.includes(f)))}}return{left:((r=l==null?void 0:l.left)!=null?r:[]).filter(f=>!(o!=null&&o.includes(f))),right:((i=l==null?void 0:l.right)!=null?i:[]).filter(f=>!(o!=null&&o.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(o=>{var l,r,i;return((l=o.columnDef.enablePinning)!=null?l:!0)&&((r=(i=n.options.enableColumnPinning)!=null?i:n.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:o,right:l}=n.getState().columnPinning,r=t.some(a=>o==null?void 0:o.includes(a)),i=t.some(a=>l==null?void 0:l.includes(a));return r?"left":i?"right":!1},e.getPinnedIndex=()=>{var t,o;const l=e.getIsPinned();return l?(t=(o=n.getState().columnPinning)==null||(o=o[l])==null?void 0:o.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.pin=(t,o,l)=>{const r=o?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],i=l?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],a=new Set([...i,e.id,...r]);n.setRowPinning(c=>{var u,d;if(t==="bottom"){var f,p;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((p=c==null?void 0:c.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(t==="top"){var g,h;return{top:[...((g=c==null?void 0:c.top)!=null?g:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:o,enablePinning:l}=n.options;return typeof o=="function"?o(e):(t=o??l)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:o,bottom:l}=n.getState().rowPinning,r=t.some(a=>o==null?void 0:o.includes(a)),i=t.some(a=>l==null?void 0:l.includes(a));return r?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var t,o;const l=e.getIsPinned();if(!l)return-1;const r=(t=n._getPinnedRows(l))==null?void 0:t.map(i=>{let{id:a}=i;return a});return(o=r==null?void 0:r.indexOf(e.id))!=null?o:-1},e.getCenterVisibleCells=b(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,o,l)=>{const r=[...o??[],...l??[]];return t.filter(i=>!r.includes(i.column.id))},{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}}),e.getLeftVisibleCells=b(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,,],(t,o)=>(o??[]).map(r=>t.find(i=>i.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}}),e.getRightVisibleCells=b(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,o)=>(o??[]).map(r=>t.find(i=>i.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}})},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,o;return e.setColumnPinning(n?Re():(t=(o=e.initialState)==null?void 0:o.columnPinning)!=null?t:Re())},e.getIsSomeColumnsPinned=n=>{var t;const o=e.getState().columnPinning;if(!n){var l,r;return!!((l=o.left)!=null&&l.length||(r=o.right)!=null&&r.length)}return!!((t=o[n])!=null&&t.length)},e.getLeftLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(o=>n.find(l=>l.id===o)).filter(Boolean),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugColumns}}),e.getRightLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(o=>n.find(l=>l.id===o)).filter(Boolean),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugColumns}}),e.getCenterLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o)=>{const l=[...t??[],...o??[]];return n.filter(r=>!l.includes(r.id))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugColumns}}),e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,o;return e.setRowPinning(n?_e():(t=(o=e.initialState)==null?void 0:o.rowPinning)!=null?t:_e())},e.getIsSomeRowsPinned=n=>{var t;const o=e.getState().rowPinning;if(!n){var l,r;return!!((l=o.top)!=null&&l.length||(r=o.bottom)!=null&&r.length)}return!!((t=o[n])!=null&&t.length)},e._getPinnedRows=n=>b(()=>[e.getRowModel().rows,e.getState().rowPinning[n]],(t,o)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(o??[]).map(i=>{const a=e.getRow(i,!0);return a.getIsAllParentsExpanded()?a:null}):(o??[]).map(i=>t.find(a=>a.id===i))).filter(Boolean).map(i=>({...i,position:n}))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,o)=>{const l=new Set([...t??[],...o??[]]);return n.filter(r=>!l.has(r.id))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})}},On={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:L("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const o={...t},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(r=>{r.getCanSelect()&&(o[r.id]=!0)}):l.forEach(r=>{delete o[r.id]}),o})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const o=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...t};return e.getRowModel().rows.forEach(r=>{Me(l,r.id,o,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=b(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?be(e,t):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}}),e.getFilteredSelectedRowModel=b(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?be(e,t):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}}),e.getGroupedSelectedRowModel=b(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?be(e,t):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let o=!!(n.length&&Object.keys(t).length);return o&&n.some(l=>l.getCanSelect()&&!t[l.id])&&(o=!1),o},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:t}=e.getState();let o=!!n.length;return o&&n.some(l=>!t[l.id])&&(o=!1),o},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,o)=>{const l=e.getIsSelected();n.setRowSelection(r=>{var i;if(t=typeof t<"u"?t:!l,e.getCanSelect()&&l===t)return r;const a={...r};return Me(a,e.id,t,(i=o==null?void 0:o.selectChildren)!=null?i:!0,n),a})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return Le(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Ae(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Ae(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return o=>{var l;t&&e.toggleSelected((l=o.target)==null?void 0:l.checked)}}}},Me=(e,n,t,o,l)=>{var r;const i=l.getRow(n);t?(i.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),i.getCanSelect()&&(e[n]=!0)):delete e[n],o&&(r=i.subRows)!=null&&r.length&&i.getCanSelectSubRows()&&i.subRows.forEach(a=>Me(e,a.id,t,o,l))};function be(e,n){const t=e.getState().rowSelection,o=[],l={},r=function(i,a){return i.map(c=>{var u;const d=Le(c,t);if(d&&(o.push(c),l[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:r(c.subRows)}),d)return c}).filter(Boolean)};return{rows:r(n.rows),flatRows:o,rowsById:l}}function Le(e,n){var t;return(t=n[e.id])!=null?t:!1}function Ae(e,n,t){var o;if(!((o=e.subRows)!=null&&o.length))return!1;let l=!0,r=!1;return e.subRows.forEach(i=>{if(!(r&&!l)&&(i.getCanSelect()&&(Le(i,n)?r=!0:l=!1),i.subRows&&i.subRows.length)){const a=Ae(i,n);a==="all"?r=!0:(a==="some"&&(r=!0),l=!1)}}),l?"all":r?"some":!1}const Ie=/([0-9]+)/gm,Bn=(e,n,t)=>ft(W(e.getValue(t)).toLowerCase(),W(n.getValue(t)).toLowerCase()),qn=(e,n,t)=>ft(W(e.getValue(t)),W(n.getValue(t))),Un=(e,n,t)=>ze(W(e.getValue(t)).toLowerCase(),W(n.getValue(t)).toLowerCase()),Qn=(e,n,t)=>ze(W(e.getValue(t)),W(n.getValue(t))),Wn=(e,n,t)=>{const o=e.getValue(t),l=n.getValue(t);return o>l?1:o<l?-1:0},Xn=(e,n,t)=>ze(e.getValue(t),n.getValue(t));function ze(e,n){return e===n?0:e>n?1:-1}function W(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ft(e,n){const t=e.split(Ie).filter(Boolean),o=n.split(Ie).filter(Boolean);for(;t.length&&o.length;){const l=t.shift(),r=o.shift(),i=parseInt(l,10),a=parseInt(r,10),c=[i,a].sort();if(isNaN(c[0])){if(l>r)return 1;if(r>l)return-1;continue}if(isNaN(c[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}return t.length-o.length}const ee={alphanumeric:Bn,alphanumericCaseSensitive:qn,text:Un,textCaseSensitive:Qn,datetime:Wn,basic:Xn},Yn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:L("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const l of t){const r=l==null?void 0:l.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return ee.datetime;if(typeof r=="string"&&(o=!0,r.split(Ie).length>1))return ee.alphanumeric}return o?ee.text:ee.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,o;if(!e)throw new Error;return ce(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(o=n.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?t:ee[e.columnDef.sortingFn]},e.toggleSorting=(t,o)=>{const l=e.getNextSortingOrder(),r=typeof t<"u"&&t!==null;n.setSorting(i=>{const a=i==null?void 0:i.find(g=>g.id===e.id),c=i==null?void 0:i.findIndex(g=>g.id===e.id);let u=[],d,f=r?t:l==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&o?a?d="toggle":d="add":i!=null&&i.length&&c!==i.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(r||l||(d="remove")),d==="add"){var p;u=[...i,{id:e.id,desc:f}],u.splice(0,u.length-((p=n.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=i.map(g=>g.id===e.id?{...g,desc:f}:g):d==="remove"?u=i.filter(g=>g.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var t,o;return((t=(o=e.columnDef.sortDescFirst)!=null?o:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var o,l;const r=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==r&&((o=n.options.enableSortingRemoval)==null||o)&&(!(t&&(l=n.options.enableMultiRemove)!=null)||l)?!1:i==="desc"?"asc":"desc":r},e.getCanSort=()=>{var t,o;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((o=n.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,o;return(t=(o=e.columnDef.enableMultiSort)!=null?o:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const o=(t=n.getState().sorting)==null?void 0:t.find(l=>l.id===e.id);return o?o.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,o;return(t=(o=n.getState().sorting)==null?void 0:o.findIndex(l=>l.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(o=>o.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return o=>{t&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(o):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,o;e.setSorting(n?[]:(t=(o=e.initialState)==null?void 0:o.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Zn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:L("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(o=>({...o,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,o;return(t=(o=n.getState().columnVisibility)==null?void 0:o[e.id])!=null?t:!0},e.getCanHide=()=>{var t,o;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((o=n.options.enableHiding)!=null?o:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=b(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(o=>o.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}}),e.getVisibleCells=b(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,o,l)=>[...t,...o,...l],{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}})},createTable:e=>{const n=(t,o)=>b(()=>[o(),o().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),{key:t,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugColumns}});e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var o;e.setColumnVisibility(t?{}:(o=e.initialState.columnVisibility)!=null?o:{})},e.toggleAllColumnsVisible=t=>{var o;t=(o=t)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,r)=>({...l,[r.id]:t||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var o;e.toggleAllColumnsVisible((o=t.target)==null?void 0:o.checked)}}},Je=[bn,Zn,Tn,Gn,yn,Yn,Ln,$n,Hn,On,jn];function Jn(e){var n;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let t={_features:Je};const o=t._features.reduce((d,f)=>Object.assign(d,f.getDefaultOptions==null?void 0:f.getDefaultOptions(t)),{}),l=d=>t.options.mergeOptions?t.options.mergeOptions(o,d):{...o,...d};let i={...{},...(n=e.initialState)!=null?n:{}};t._features.forEach(d=>{var f;i=(f=d.getInitialState==null?void 0:d.getInitialState(i))!=null?f:i});const a=[];let c=!1;const u={_features:Je,options:{...o,...e},initialState:i,_queue:d=>{a.push(d),c||(c=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();c=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{t.setState(t.initialState)},setOptions:d=>{const f=Q(d,t.options);t.options=l(f)},getState:()=>t.options.state,setState:d=>{t.options.onStateChange==null||t.options.onStateChange(d)},_getRowId:(d,f,p)=>{var g;return(g=t.options.getRowId==null?void 0:t.options.getRowId(d,f,p))!=null?g:`${p?[p.id,f].join("."):f}`},getCoreRowModel:()=>(t._getCoreRowModel||(t._getCoreRowModel=t.options.getCoreRowModel(t)),t._getCoreRowModel()),getRowModel:()=>t.getPaginationRowModel(),getRow:(d,f)=>{const p=(f?t.getCoreRowModel():t.getRowModel()).rowsById[d];if(!p)throw new Error;return p},_getDefaultColumnDef:b(()=>[t.options.defaultColumn],d=>{var f;return d=(f=d)!=null?f:{},{header:p=>{const g=p.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:p=>{var g,h;return(g=(h=p.renderValue())==null||h.toString==null?void 0:h.toString())!=null?g:null},...t._features.reduce((p,g)=>Object.assign(p,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...d}},{debug:()=>{var d;return(d=t.options.debugAll)!=null?d:t.options.debugColumns},key:!1}),_getColumnDefs:()=>t.options.columns,getAllColumns:b(()=>[t._getColumnDefs()],d=>{const f=function(p,g,h){return h===void 0&&(h=0),p.map(m=>{const x=_n(t,m,h,g),v=m;return x.columns=v.columns?f(v.columns,x,h+1):[],x})};return f(d)},{key:!1,debug:()=>{var d;return(d=t.options.debugAll)!=null?d:t.options.debugColumns}}),getAllFlatColumns:b(()=>[t.getAllColumns()],d=>d.flatMap(f=>f.getFlatColumns()),{key:!1,debug:()=>{var d;return(d=t.options.debugAll)!=null?d:t.options.debugColumns}}),_getAllFlatColumnsById:b(()=>[t.getAllFlatColumns()],d=>d.reduce((f,p)=>(f[p.id]=p,f),{}),{key:!1,debug:()=>{var d;return(d=t.options.debugAll)!=null?d:t.options.debugColumns}}),getAllLeafColumns:b(()=>[t.getAllColumns(),t._getOrderColumnsFn()],(d,f)=>{let p=d.flatMap(g=>g.getLeafColumns());return f(p)},{key:!1,debug:()=>{var d;return(d=t.options.debugAll)!=null?d:t.options.debugColumns}}),getColumn:d=>t._getAllFlatColumnsById()[d]};Object.assign(t,u);for(let d=0;d<t._features.length;d++){const f=t._features[d];f==null||f.createTable==null||f.createTable(t)}return t}function Kn(e,n,t,o){const l=()=>{var i;return(i=r.getValue())!=null?i:e.options.renderFallbackValue},r={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(o),renderValue:l,getContext:b(()=>[e,t,n,r],(i,a,c,u)=>({table:i,column:a,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(i=>{i.createCell==null||i.createCell(r,t,n,e)},{}),r}const Te=(e,n,t,o,l,r,i)=>{let a={id:n,index:o,original:t,depth:l,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(a._valuesCache.hasOwnProperty(c))return a._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return a._valuesCache[c]=u.accessorFn(a.original,o),a._valuesCache[c]},getUniqueValues:c=>{if(a._uniqueValuesCache.hasOwnProperty(c))return a._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[c]=u.columnDef.getUniqueValues(a.original,o),a._uniqueValuesCache[c]):(a._uniqueValuesCache[c]=[a.getValue(c)],a._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=a.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:r??[],getLeafRows:()=>Rn(a.subRows,c=>c.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let c=[],u=a;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:b(()=>[e.getAllLeafColumns()],c=>c.map(u=>Kn(e,a,u,u.id)),{key:!1,debug:()=>{var c;return(c=e.options.debugAll)!=null?c:e.options.debugRows}}),_getAllCellsByColumnId:b(()=>[a.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var c;return(c=e.options.debugAll)!=null?c:e.options.debugRows}})};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(a,e)}return a};function eo(){return e=>b(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},o=function(l,r,i){r===void 0&&(r=0);const a=[];for(let u=0;u<l.length;u++){const d=Te(e,e._getRowId(l[u],u,i),l[u],u,r,void 0,i==null?void 0:i.id);if(t.flatRows.push(d),t.rowsById[d.id]=d,a.push(d),e.options.getSubRows){var c;d.originalSubRows=e.options.getSubRows(l[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=o(d.originalSubRows,r+1,d))}}return a};return t.rows=o(n),t},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function to(e,n,t){return t.options.filterFromLeafRows?no(e,n,t):oo(e,n,t)}function no(e,n,t){var o;const l=[],r={},i=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,a=function(c,u){u===void 0&&(u=0);const d=[];for(let p=0;p<c.length;p++){var f;let g=c[p];const h=Te(t,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(h.columnFilters=g.columnFilters,(f=g.subRows)!=null&&f.length&&u<i){if(h.subRows=a(g.subRows,u+1),g=h,n(g)&&!h.subRows.length){d.push(g),r[g.id]=g,l.push(g);continue}if(n(g)||h.subRows.length){d.push(g),r[g.id]=g,l.push(g);continue}}else g=h,n(g)&&(d.push(g),r[g.id]=g,l.push(g))}return d};return{rows:a(e),flatRows:l,rowsById:r}}function oo(e,n,t){var o;const l=[],r={},i=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,a=function(c,u){u===void 0&&(u=0);const d=[];for(let p=0;p<c.length;p++){let g=c[p];if(n(g)){var f;if((f=g.subRows)!=null&&f.length&&u<i){const m=Te(t,g.id,g.original,g.index,g.depth,void 0,g.parentId);m.subRows=a(g.subRows,u+1),g=m}d.push(g),l.push(g),r[g.id]=g}}return d};return{rows:a(e),flatRows:l,rowsById:r}}function lo(){return e=>b(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,o)=>{if(!n.rows.length||!(t!=null&&t.length)&&!o){for(let p=0;p<n.flatRows.length;p++)n.flatRows[p].columnFilters={},n.flatRows[p].columnFiltersMeta={};return n}const l=[],r=[];(t??[]).forEach(p=>{var g;const h=e.getColumn(p.id);if(!h)return;const m=h.getFilterFn();m&&l.push({id:p.id,filterFn:m,resolvedValue:(g=m.resolveFilterValue==null?void 0:m.resolveFilterValue(p.value))!=null?g:p.value})});const i=t.map(p=>p.id),a=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());o&&a&&c.length&&(i.push("__global__"),c.forEach(p=>{var g;r.push({id:p.id,filterFn:a,resolvedValue:(g=a.resolveFilterValue==null?void 0:a.resolveFilterValue(o))!=null?g:o})}));let u,d;for(let p=0;p<n.flatRows.length;p++){const g=n.flatRows[p];if(g.columnFilters={},l.length)for(let h=0;h<l.length;h++){u=l[h];const m=u.id;g.columnFilters[m]=u.filterFn(g,m,u.resolvedValue,x=>{g.columnFiltersMeta[m]=x})}if(r.length){for(let h=0;h<r.length;h++){d=r[h];const m=d.id;if(d.filterFn(g,m,d.resolvedValue,x=>{g.columnFiltersMeta[m]=x})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const f=p=>{for(let g=0;g<i.length;g++)if(p.columnFilters[i[g]]===!1)return!1;return!0};return to(n.rows,f,e)},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function ro(){return e=>b(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const o=e.getState().sorting,l=[],r=o.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),i={};r.forEach(c=>{const u=e.getColumn(c.id);u&&(i[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=c=>{const u=c.map(d=>({...d}));return u.sort((d,f)=>{for(let g=0;g<r.length;g+=1){var p;const h=r[g],m=i[h.id],x=(p=h==null?void 0:h.desc)!=null?p:!1;let v=0;if(m.sortUndefined){const j=d.getValue(h.id),R=f.getValue(h.id),_=j===void 0,M=R===void 0;(_||M)&&(v=_&&M?0:_?m.sortUndefined:-m.sortUndefined)}if(v===0&&(v=m.sortingFn(d,f,h.id)),v!==0)return x&&(v*=-1),m.invertSorting&&(v*=-1),v}return d.index-f.index}),u.forEach(d=>{var f;l.push(d),(f=d.subRows)!=null&&f.length&&(d.subRows=a(d.subRows))}),u};return{rows:a(t.rows),flatRows:l,rowsById:t.rowsById}},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(e,n){return e?so(e)?S.createElement(e,n):e:null}function so(e){return io(e)||typeof e=="function"||ao(e)}function io(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function ao(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function uo(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=S.useState(()=>({current:Jn(n)})),[o,l]=S.useState(()=>t.current.initialState);return t.current.setOptions(r=>({...r,...e,state:{...o,...e.state},onStateChange:i=>{l(i),e.onStateChange==null||e.onStateChange(i)}})),t.current}const Ne=24;function co({headline:e,data:n=[[],[]],action:t}){var v,j;const o=S.useRef(null),l=S.useMemo(()=>n[0].map(({name:R,type:_})=>({accessorKey:R,meta:{type:_}})),[n[0]]),[r,i]=S.useState([]),[a,c]=S.useState(""),u=uo({data:n[1],columns:l,state:{sorting:r,globalFilter:a},onGlobalFilterChange:c,onSortingChange:i,getCoreRowModel:eo(),getSortedRowModel:ro(),getFilteredRowModel:lo()}),d=n[0].length+1,{rows:f}=u.getRowModel(),p=qt({getScrollElement:()=>o.current,estimateSize:()=>Ne,count:f.length,overscan:10}),g=p.getVirtualItems(),h=p.getTotalSize(),m=g.length>0?((v=g==null?void 0:g[0])==null?void 0:v.start)??0:0,x=g.length>0?h-(((j=g==null?void 0:g[g.length-1])==null?void 0:j.end)??0):0;return S.useEffect(()=>{c(""),i([])},[n]),s.jsxs("div",{className:"w-full h-full flex flex-col",children:[s.jsx(go,{headline:e,filter:a,setFilter:c}),t,s.jsx("div",{ref:o,className:"w-full h-full overflow-auto hover:scrollbar scrollbar--horizontal scrollbar--vertical",children:s.jsxs("table",{cellPadding:0,cellSpacing:0,className:"w-full slashed-zero tabular-nums text-neutral-700 dark:text-neutral-300 text-xs font-medium whitespace-nowrap text-left",children:[te(l)&&s.jsx("thead",{className:"sticky top-0",children:u.getHeaderGroups().map(R=>s.jsxs("tr",{className:"bg-neutral-10 backdrop-blur-lg",style:{height:`${Ne}px`},children:[s.jsx("th",{className:"pl-2 pr-4 pt-1 text-sm pb-1 border-r-2 last:border-r-0 border-light dark:border-dark",children:"Row #"}),R.headers.map(_=>s.jsx("th",{className:"pl-2 pr-4 pt-1 text-sm pb-1 border-r-2 last:border-r-0 border-light dark:border-dark",children:_.isPlaceholder?s.jsx(s.Fragment,{}):s.jsxs("div",{className:C(_.column.getCanSort()?"flex cursor-pointer select-none":"",["int","float"].includes(_.column.columnDef.meta.type)&&"justify-end"),onClick:_.column.getToggleSortingHandler(),children:[_.column.getCanSort()&&s.jsx(kt,{className:"mr-1 w-4"}),Ke(_.column.columnDef.header,_.getContext()),{asc:s.jsx(Lt,{className:"ml-1 w-4"}),desc:s.jsx(zt,{className:"ml-1 w-4"})}[_.column.getIsSorted()]??null]})},_.id))]},R.id))}),s.jsxs("tbody",{children:[m>0&&s.jsx("tr",{children:s.jsx("td",{style:{height:`${m}px`}})}),te(g)?g.map(R=>{const _=f[R.index];return s.jsxs("tr",{className:"even:bg-neutral-5 hover:text-neutral-900 hover:bg-neutral-20 dark:hover:text-neutral-100",style:{maxHeight:`${R.size}px`},children:[s.jsx("td",{style:{maxHeight:`${R.size}px`},className:"pl-2 pr-4 text-sm border-r-2 last:border-r-0 border-light dark:border-dark",children:_.index+1}),_.getVisibleCells().map(M=>s.jsx("td",{style:{maxHeight:`${R.size}px`},className:C("p-4 py-1 border-r-2 last:border-r-0 border-light dark:border-dark",["int","float"].includes(M.column.columnDef.meta.type)&&"text-right"),children:Ke(M.column.columnDef.cell,M.getContext())},M.id))]},_.id)}):s.jsx(mt,{columns:d>0?d:void 0}),x>0&&s.jsx("tr",{children:s.jsx("td",{style:{height:`${x}px`}})})]})]})}),s.jsx(pt,{count:f.length})]})}function go({headline:e,filter:n,setFilter:t}){return s.jsxs("div",{className:"flex items-center text-neutral-600 dark:text-neutral-300 text-xs font-medium py-1",children:[P(e)&&s.jsx("h4",{className:"w-full font-bold",children:e}),s.jsx("div",{className:"flex justify-end items-center",children:s.jsx($,{className:"!m-0 mb-2",size:y.sm,children:({className:o})=>s.jsx($.Textfield,{type:"search",className:C(o,"w-full"),value:n,placeholder:"Filter Rows",onInput:l=>{t(l.target.value)}})})})]})}function pt({count:e}){return s.jsx("div",{className:"text-neutral-700 dark:text-neutral-300 text-xs font-medium py-2",children:s.jsxs("p",{children:["Total Rows: ",e]})})}function mt({rows:e=7,columns:n=5}){return s.jsx(s.Fragment,{children:Array(e).fill(void 0).map((t,o)=>s.jsx("tr",{className:"odd:bg-neutral-10",style:{height:`${Ne}px`},children:Array(n).fill(void 0).map((l,r)=>s.jsx("td",{className:"p-4 py-1 border-r-2 last:border-r-0 border-light dark:border-dark"},r))},o))})}function fo({diff:e}){const[n,t]=S.useState({modifiedRows:!0,addedRows:!0,removedRows:!0,modifiedColumns:!0,addedColumns:!0,removedColumns:!0}),o=xn(e.schema_diff,n,e.on),l=vn(e,n,e.on),r=n.addedRows&&!n.removedRows&&!n.modifiedRows,i=!n.addedRows&&n.removedRows&&!n.modifiedRows,a=Array.from(new Set(e.on.flat())),c=Object.values(e.row_diff.sample).some(u=>Object.keys(u).length>0);return s.jsxs("div",{className:"px-2 h-full flex flex-col rounded-lg",children:[c&&s.jsxs(s.Fragment,{children:[s.jsx(ho,{diff:e,rows:l,columns:o}),s.jsx("div",{className:"mt-2 mb-1 flex rounded-lg items-center",children:s.jsx("div",{className:"w-full flex justify-end items-center",children:s.jsx(Tt,{options:Object.keys(n).reduce((u,d)=>(u[d]=f=>t(p=>({...p,[d]:f})),u),{}),value:Object.keys(n).map(u=>I(n[u])?void 0:u).filter(Boolean)})})})]}),s.jsx("div",{className:"overflow-auto h-full hover:scrollbar scrollbar--horizontal scrollbar--vertical",children:s.jsxs("table",{cellPadding:0,cellSpacing:0,className:"w-full text-xs text-neutral-600 dark:text-neutral-200 font-normal border-separate",children:[s.jsx("thead",{className:"sticky bg-theme top-0 z-10",children:s.jsx("tr",{children:o.all.map(u=>s.jsx("th",{colSpan:xe(e,l.all,u,e.on)?2:1,className:C("text-left whitespace-nowrap py-1 px-2 font-bold",u in e.schema_diff.added?"border-t-2 border-l-2 border-r-2 border-success-500":u in e.schema_diff.removed?"border-t-2 border-l-2 border-r-2 border-danger-500":a.includes(u)?"border-brand-500 border-l-2 border-t-2 border-r-2":"border-r border-b border-neutral-100 dark:border-neutral-700 last:border-r-0",a.includes(u)?"bg-brand-10":"bg-neutral-5"),children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"mr-2",children:[s.jsx("span",{children:u}),"Â ",s.jsxs("small",{className:"text-neutral-500 font-medium",children:["(",e.schema_diff.source_schema[u]??e.schema_diff.target_schema[u],")"]})]}),I(a.includes(u))&&s.jsx("div",{className:"ml-2",children:s.jsxs("small",{className:"inline-block bg-neutral-10 px-2 py-0.5 rounded-full",children:[Math.round(l.all.filter(d=>$e(e,u,d)).length/l.all.length*100),"%"]})})]})},u))})}),s.jsx("tbody",{children:te(l.all)?l.all.map(u=>s.jsx("tr",{children:o.all.map(d=>xe(e,l.all,d,e.on)?s.jsxs(s.Fragment,{children:[s.jsx("td",{className:C("p-1 border-r border-b border-neutral-100 dark:border-neutral-700 last:border-r-0",U(e,u,e.on)&&"bg-success-10 text-success-500",q(e,u,e.on)&&"bg-danger-5 text-danger-500"),children:s.jsx("div",{className:C("px-2 py-1 whitespace-nowrap font-bold rounded-md ",U(e,u,e.on)&&"bg-success-10 text-success-500",q(e,u,e.on)&&"bg-danger-5 text-danger-500"),children:wn(e,d,u)})},`${u}-${d}-source`),s.jsx("td",{className:C("p-1 border-r border-b border-neutral-100 dark:border-neutral-700 last:border-r-0",U(e,u,e.on)&&"bg-success-10 text-success-500",q(e,u,e.on)&&"bg-danger-5 text-danger-500"),children:s.jsx("div",{className:C("px-2 py-1 whitespace-nowrap font-bold rounded-md",$e(e,d,u)&&"bg-primary-10 text-primary-500",U(e,u,e.on)&&"!bg-success-10 !text-success-500",q(e,u,e.on)&&"!bg-danger-5 !text-danger-500"),children:Sn(e,d,u)})},`${u}-${d}-target`)]}):s.jsx("td",{className:C("p-1",d in e.schema_diff.added?"bg-success-10 border-l-2 border-r-2 border-success-500 text-success-500 font-bold":d in e.schema_diff.removed?"bg-danger-5 border-l-2 border-r-2 border-danger-500 !text-danger-500 font-bold":a.includes(d)?"border-brand-500 border-l-2 border-r-2":"border-r border-b border-neutral-100 dark:border-neutral-700 last:border-r-0",q(e,u,e.on)&&"!bg-danger-5 text-danger-500 font-bold",U(e,u,e.on)&&"bg-success-10 text-success-500 font-bold"),children:s.jsx("div",{className:C("px-2 py-1 whitespace-nowrap rounded-md",(d in e.schema_diff.added||U(e,u,e.on))&&"bg-success-10 text-success-500 font-bold",(d in e.schema_diff.removed||q(e,u,e.on))&&"!bg-danger-5 !text-danger-500 font-bold"),children:H(e,oe,d,u)??H(e,le,d,u)??De})},`${u}-${d}`))},u)):s.jsx(mt,{columns:o.all.length>0?o.all.length:void 0})}),te(l.all)&&s.jsx("tfoot",{className:"sticky bg-theme bottom-0",children:s.jsx("tr",{children:o.all.map(u=>xe(e,l.all,u,e.on)?s.jsxs(s.Fragment,{children:[s.jsx("th",{className:C("text-left whitespace-nowrap px-2 py-1 border-r border-t border-neutral-100 dark:border-neutral-700 last:border-r-0",a.includes(u)?"bg-brand-10":"bg-neutral-10"),children:"Source"},`${u}-source`),s.jsx("th",{className:C("text-left whitespace-nowrap px-2 py-1 border-r border-t border-neutral-100 dark:border-neutral-700 last:border-r-0",a.includes(u)?"bg-brand-10":"bg-primary-10"),children:"Target"},`${u}-target`)]}):s.jsxs("th",{className:C("text-left whitespace-nowrap px-2 py-1 font-bold",u in e.schema_diff.added?"border-b-2 border-l-2 border-r-2 border-success-500":u in e.schema_diff.removed?"border-b-2 border-l-2 border-r-2 border-danger-500":a.includes(u)?"border-brand-500 border-l-2 border-b-2 border-r-2":"border-r border-t border-neutral-100 dark:border-neutral-700 last:border-r-0",a.includes(u)?"bg-brand-10":"bg-neutral-10"),children:[(u in e.schema_diff.removed||i)&&s.jsx("span",{children:"Source"}),(u in e.schema_diff.added||r)&&s.jsx("span",{children:"Target"})]},u))})})]})}),s.jsxs("div",{className:"flex justify-between items-center px-2 mt-2",children:[s.jsx(pt,{count:l.all.length}),s.jsx(po,{})]})]})}function po(){const e=[["Grain","bg-brand-500"],["Changed","bg-primary-500"],["Added","bg-success-500"],["Deleted","bg-danger-500"]];return s.jsx("div",{className:"flex text-xs",children:e.map(([n="",t])=>s.jsx(mo,{text:n,className:t},n))})}function mo({text:e,className:n}){return s.jsxs("div",{className:"flex ml-2 items-center",children:[s.jsx("span",{className:C("inline-block w-3 h-3 mr-2 rounded-full",n)}),s.jsx("small",{className:"text-neutral-600 dark:text-neutral-400",children:e})]})}function ho({diff:e,rows:n,columns:t}){return s.jsx(he,{defaultOpen:!1,children:({open:o})=>s.jsxs(s.Fragment,{children:[s.jsxs(he.Button,{className:"flex items-center w-full justify-between rounded-lg text-left text-sm px-4 pt-3 pb-2 bg-neutral-10 hover:bg-theme-darker dark:hover:bg-theme-lighter text-neutral-600 dark:text-neutral-400",children:[s.jsx("h2",{className:"whitespace-nowrap text-xl font-bold mb-1",children:"Stats"}),o?s.jsx(Nt,{className:"h-6 w-6 text-primary-500"}):s.jsx(Et,{className:"h-6 w-6 text-primary-500"})]}),s.jsx(he.Panel,{className:"px-4 pb-2 text-sm text-neutral-500",children:s.jsxs("div",{className:"p-2 grid grid-cols-3 gap-4 mb-3",children:[s.jsx(je,{text:"Row Count Change",children:s.jsxs("p",{className:"text-6xl font-light text-primary-500 mt-3",children:[Math.round(Math.abs(e.row_diff.count_pct_change)),s.jsx("small",{className:"text-sm",children:"%"})]})}),s.jsxs(je,{text:"Column Count Change",count:n.all.length,children:[s.jsx("p",{className:"text-center text-6xl font-light text-primary-500 mt-3",children:n.modified}),s.jsx("p",{className:"text-center text-6xl font-light text-success-500 mt-3",children:n.added}),s.jsx("p",{className:"text-center text-6xl font-light text-danger-500 mt-3",children:n.deleted})]}),s.jsxs(je,{text:"Column Changes",count:t.all.length,children:[s.jsx("p",{className:"text-center text-6xl font-light text-primary-500 mt-3",children:t.modified}),s.jsx("p",{className:"text-center text-6xl font-light text-success-500 mt-3",children:t.added}),s.jsx("p",{className:"text-center text-6xl font-light text-danger-500 mt-3",children:t.deleted})]})]})})]})})}function je({text:e,children:n,className:t,count:o}){return s.jsxs("div",{className:C("rounded-xl overflow-hidden px-3 py-6 bg-primary-10",t),children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h3",{className:"text-neutral-500 dark:text-neutral-300 text-sm font-bold",children:e}),P(o)&&s.jsx("div",{children:s.jsx("small",{className:"inline-block px-2 py-0.5 bg-neutral-10 rounded-full",children:o})})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:n})]})}const xo=S.lazy(async()=>await Pt(()=>import("./ModelLineage-281f0bc5.js").then(e=>e.Y),["assets/ModelLineage-281f0bc5.js","assets/index-a034c31a.js","assets/index-53fee055.css","assets/_commonjs-dynamic-modules-c2a76892.js","assets/_commonjs-dynamic-modules-4a73456b.css","assets/ModelLineage-b6aa14d4.css"])),B={Query:"Query",Table:"Data Preview",Console:"Logs",Lineage:"Lineage",Diff:"Diff",Errors:"Errors"};function vo({tab:e,className:n}){const{errors:t}=nt(),o=Mt(),l=E(j=>j.models),r=E(j=>j.isModel),i=F(j=>j.direction),a=F(j=>j.previewQuery),c=F(j=>j.previewTable),u=F(j=>j.previewDiff),d=F(j=>j.setDirection),[f,p]=S.useState(-1),g=ot(e.file.path,j=>{o(`${At.DocsModels}/${j.name}`)}),h=l.get(e.file.path),m=I(e.file.isEmpty)&&P(h)&&r(e.file.path),x=t.size>0&&([c,u].some(P)||m),v=S.useMemo(()=>[P(c)&&B.Table,P(a)&&B.Query,m&&B.Lineage,P(u)&&B.Diff,x&&B.Errors].filter(Boolean),[e.id,c,a,u,m,t,x]);return S.useEffect(()=>{x?p(v.indexOf(B.Errors)):P(u)?p(v.indexOf(B.Diff)):P(c)?p(v.indexOf(B.Table)):m&&p(v.indexOf(B.Lineage))},[v,c,a,u,m,t,x]),s.jsx("div",{className:C("w-full h-full flex flex-col text-prose overflow-auto hover:scrollbar scrollbar--vertical",n),children:It(v)?s.jsx("div",{className:"flex justify-center items-center w-full h-full",children:s.jsx("h3",{className:"text-md",children:"No Data To Preview"})}):s.jsxs(A.Group,{onChange:p,selectedIndex:f,children:[s.jsx(Ee,{list:v,children:s.jsx("div",{className:"ml-2",children:s.jsx(k,{className:"!m-0 !py-0.5 px-[0.25rem] border-none",variant:V.Alternative,size:y.sm,onClick:()=>{d(i==="horizontal"?"vertical":"horizontal")},children:s.jsx(Zt,{"aria-label":i==="horizontal"?"Use vertical layout":"Use horizontal layout",className:"text-primary-500 w-5"})})})},v.join("-")),s.jsxs(A.Panels,{className:"h-full w-full overflow-hidden",children:[P(c)&&s.jsx(A.Panel,{unmount:!1,className:C("w-full h-full pt-4 relative px-2","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:s.jsx(co,{data:c})}),P(a)&&s.jsx(A.Panel,{unmount:!1,className:"w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 p-2",children:s.jsx("div",{className:"w-full h-full p-2 bg-primary-10 rounded-lg overflow-auto hover:scrollbar scrollbar--horizontal scrollbar--vertical",children:s.jsx(Fe,{type:X.SQL,content:a??"",extensions:g,className:"text-xs"})})}),m&&s.jsx(A.Panel,{unmount:!1,className:C("w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 py-2"),children:s.jsx(xo,{model:h},e.file.fingerprint)}),P(u==null?void 0:u.row_diff)&&s.jsx(A.Panel,{unmount:!1,className:C("w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 py-2"),children:s.jsx(fo,{diff:u},e.id)}),x&&s.jsx(A.Panel,{unmount:!1,className:"w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 py-2",children:s.jsx("ul",{className:"w-full h-full p-2 overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:Array.from(t).reverse().map(j=>s.jsx("li",{className:"bg-danger-10 mb-4 last:m-0 p-2 rounded-md",children:s.jsx(Ut,{scope:j.key,error:j})},j.id))})})]})]},e.id)})}function He(){const e=F(n=>n.tab);return s.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[s.jsx(ln,{}),s.jsx(J,{}),G(e)?s.jsx(Ge,{}):s.jsx(ht,{tab:e})]})}function Ge(){return s.jsx("div",{className:"flex justify-center items-center w-full h-full",children:s.jsx("div",{className:"p-4 text-center text-theme-darker dark:text-theme-lighter",children:s.jsx("h2",{className:"text-3xl",children:"Select File or Add New SQL Tab"})})})}function ht({tab:e}){const{errors:n}=nt(),t=E(w=>w.environment),o=E(w=>w.models),l=E(w=>w.isModel),r=Z(w=>w.files),i=Z(w=>w.selectedFile),a=Z(w=>w.setSelectedFile),c=F(w=>w.direction),u=F(w=>w.engine),d=F(w=>w.previewTable),f=F(w=>w.previewDiff),p=F(w=>w.refreshTab),g=F(w=>w.setPreviewQuery),h=F(w=>w.setPreviewTable),m=F(w=>w.setPreviewDiff),x=F(w=>w.setDialects),{setManuallySelectedColumn:v}=Ht(),j=S.useCallback(function(w){a(r.get(w.path))},[r]),R=S.useCallback(function(w,N){v([w,N])},[]),_=Gt(),M=ot(e.file.path,j,R),[Y,K]=S.useState(!1),re=S.useMemo(()=>[..._,{key:"Ctrl-Enter",preventDefault:!0,run(){return vt(),!0}}],[_]),Oe=S.useCallback(w=>{if(w.data.topic==="dialects"){const N=o.get(e.file.path);e.dialect=(N==null?void 0:N.dialect)??"",x(w.data.payload),p(e)}if(w.data.topic==="format"){if(ne(w.data.payload))return;e.file.content=w.data.payload,p(e)}},[e.id]),Be=S.useCallback(function(N){e.file.content=N,p(e)},[e.id]);S.useEffect(()=>(u.addEventListener("message",Oe),K(!1),G(i)&&a(e==null?void 0:e.file),()=>{u.removeEventListener("message",Oe)}),[e.id]),S.useEffect(()=>{g(void 0),h(void 0),m(void 0)},[e.id,e.file.fingerprint]),S.useEffect(()=>{m(void 0)},[t]);const{refetch:xt}=et({sql:e.file.content});function vt(){h(void 0),g(e.file.content),xt().then(({data:w})=>{h(Ve(w))})}function wt(){const w=o.get(e.file.path),N=I(e.file.isEmpty)&&P(w)&&l(e.file.path);return(e.file.isLocal||n.size>0)&&[d,f].some(Boolean)||N?[70,30]:[100,0]}function St(){const w=o.get(e==null?void 0:e.file.path);return Y&&(P(w)&&l(e.file.path)||e.file.isLocal)&&I(ne(e.file.content))?[70,30]:[100,0]}const se=32,Ct=2;return s.jsxs(Ue,{className:C("w-full h-full overflow-hidden",c==="vertical"?"flex flex-col":"flex"),sizes:wt(),direction:c,minSize:[se,0],snapOffset:0,children:[s.jsxs("div",{className:C("flex flex-col",c==="vertical"?"w-full ":"h-full"),children:[s.jsxs(Ue,{className:"flex h-full overflow-hidden",sizes:St(),minSize:se,snapOffset:se,handleDrag:(w,N)=>{const _t=N.parent.getBoundingClientRect().width*(w[1]??0)/100;K(_t>=se+Ct)},children:[s.jsxs("div",{className:"flex flex-col h-full",children:[e.file.isLocal&&s.jsx(Fe,{type:X.SQL,dialect:e.dialect,keymaps:re,content:e.file.content,extensions:M,onChange:Be}),e.file.isRemote&&s.jsx(Ot,{keymaps:_,path:e.file.path,children:({file:w,keymaps:N})=>s.jsx(Fe,{type:w.extension,dialect:e.dialect,extensions:M,keymaps:N,content:w.content,onChange:Be})})]}),s.jsx("div",{className:"flex flex-col h-full",children:s.jsx(un,{tab:e,toggle:()=>K(w=>!w),isOpen:Y})})]},e.id),s.jsx(J,{}),s.jsx(nn,{tab:e},e.file.fingerprint)]}),s.jsx(vo,{tab:e,className:C(c==="vertical"?"flex flex-col":"flex")})]},c)}He.Empty=Ge;He.Loading=Ge;He.Main=ht;export{He as default};
