Metadata-Version: 2.1
Name: contactsoftware-functions
Version: 0.5.0
Summary: Library for creating Functions for CIM Database Cloud.
License: MIT
Author: Julian Alberts
Author-email: jal@contact.de
Requires-Python: >=3.9,<4.0
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Dist: PyYAML (>=6.0,<7.0)
Requires-Dist: appdirs (>=1.4.4,<2.0.0)
Requires-Dist: click (>=8.0.4,<9.0.0)
Requires-Dist: pydantic (>=2.3)
Requires-Dist: requests (>=2.27.1,<3.0.0)
Requires-Dist: requests-mock (>=1.9.0,<2.0.0)
Requires-Dist: rich (>=12.0.1,<13.0.0)
Requires-Dist: urllib3 (==1.26.18)
Description-Content-Type: text/markdown

 <h1><a href="https://github.com/cslab/functions-sdk"><img src="https://www.contact-software.com/design/img/logo-icon.svg" width="50" alt="CONTACT Logo"></a> Functions-Library</h1>

This library is used for creating Functions for CIM Database Cloud.

### Installation

```console
$ pip install contactsoftware-functions
```

### Example usage

```python
from cs.functions import MetaData, WorkloadResponse, Service
from cs.functions.event import DocumentReleaseEvent
from cs.functions.action import AbortAndShowErrorAction


def my_function(metadata: MetaData, event: DocumentReleaseEvent, service: Service):
    number = service.generator.get_number("error_counter")
    message = f"Document {event.data.documents[0].z_nummer} can't be released by {metadata.app_user}! Attempt: {number}"
    return WorkloadResponse(
        event_id=event.event_id,
        actions=[AbortAndShowErrorAction(id="123", message=message)],
    )
```

