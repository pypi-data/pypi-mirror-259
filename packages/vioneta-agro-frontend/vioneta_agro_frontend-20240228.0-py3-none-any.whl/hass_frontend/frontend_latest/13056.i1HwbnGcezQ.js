export const id=13056;export const ids=[13056,56852];export const modules={59216:(t,e,a)=>{a.d(e,{Q:()=>o,o:()=>d});var s=a(62412),l=a(53616),c=a(93408);const r=(t,e,a,c)=>{const r=a((0,s.c)(t,e),c);return r instanceof Date?(0,l.c)(r,e):r},d=(t,e,a,s,l)=>a.time_zone===c.KU.server?r(t,s.time_zone,e,l):e(t,l),o=(t,e,a,s,l)=>a.time_zone===c.KU.server?r(t,s.time_zone,e,l):e(t,l)},69832:(t,e,a)=>{a.d(e,{a:()=>s});const s=(t,e)=>{const a={};for(const s of t){const t=e(s);t in a?a[t].push(s):a[t]=[s]}return a}},21612:(t,e,a)=>{a.d(e,{CA:()=>c,MX:()=>d,O2:()=>_,OQ:()=>i,Qv:()=>u,UB:()=>o,Up:()=>s,WA:()=>r,aA:()=>h,cf:()=>n,qg:()=>l});const s=33524==a.j?["migration_error","setup_error","setup_retry"]:null,l=33524==a.j?["not_loaded","loaded","setup_error","setup_retry"]:null,c=(t,e,a)=>{const s={type:"config_entries/subscribe"};return a&&a.type&&(s.type_filter=a.type),t.connection.subscribeMessage((t=>e(t)),s)},r=(t,e)=>{const a={};return e&&(e.type&&(a.type_filter=e.type),e.domain&&(a.domain=e.domain)),t.callWS({type:"config_entries/get",...a})},d=(t,e)=>t.callWS({type:"config_entries/get_single",entry_id:e}),o=(t,e,a)=>t.callWS({type:"config_entries/update",entry_id:e,...a}),i=(t,e)=>t.callApi("DELETE",`config/config_entries/entry/${e}`),n=(t,e)=>t.callApi("POST",`config/config_entries/entry/${e}/reload`),_=(t,e)=>t.callWS({type:"config_entries/disable",entry_id:e,disabled_by:"user"}),h=(t,e)=>t.callWS({type:"config_entries/disable",entry_id:e,disabled_by:null}),u=(t,e)=>{const a=[...t],s=t=>{const a=e[t.domain];return"helper"===(null==a?void 0:a.integration_type)?-1:1};return a.sort(((t,e)=>s(e)-s(t)))}},71132:(t,e,a)=>{a.a(t,(async(t,s)=>{try{a.d(e,{C0:()=>G,CQ:()=>W,Ce:()=>O,GG:()=>R,Kc:()=>P,QB:()=>$,QZ:()=>w,SG:()=>L,SK:()=>B,au:()=>S,gT:()=>z,gZ:()=>C,im:()=>D,oP:()=>q,q0:()=>M,sn:()=>F,uV:()=>T,uY:()=>Q,us:()=>E});var l=a(40569),c=a(67696),r=a(58580),d=a(54468),o=a(1168),i=a(85580),n=a(20392),_=a(91984),h=a(29880),u=a(31656),m=a(52160),y=a(59216),b=a(98611),g=a(69832),f=a(21612),p=a(32012),k=t([b]);b=(k.then?(await k)():k)[0];const v=[],$=()=>({stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}),w=()=>({stat_energy_to:"",stat_compensation:null,entity_energy_price:null,number_energy_price:null}),P=()=>({type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}),C=()=>({type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}),W=()=>({type:"battery",stat_energy_from:"",stat_energy_to:""}),S=()=>({type:"gas",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}),M=()=>({type:"water",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}),G=t=>t.callWS({type:"energy/info"}),T=async t=>(await t.loadBackendTranslation("issues","energy"),t.callWS({type:"energy/validate"})),E=t=>t.callWS({type:"energy/get_prefs"}),z=async(t,e)=>{const a=t.callWS({type:"energy/save_prefs",...e});return H(t),a},x=async(t,e,a,s,l,c="hour")=>t.callWS({type:"energy/fossil_energy_consumption",start_time:e.toISOString(),end_time:null==l?void 0:l.toISOString(),energy_statistic_ids:a,co2_statistic_id:s,period:c}),D=t=>(0,g.a)(t.energy_sources,(t=>t.type)),q=(t,e,a)=>{const s=[];for(const l of t.energy_sources)if(!a||a.includes(l.type))if("solar"!==l.type)if("gas"!==l.type&&"water"!==l.type)if("battery"!==l.type){for(const t of l.flow_from){s.push(t.stat_energy_from),t.stat_cost&&s.push(t.stat_cost);const a=e.cost_sensors[t.stat_energy_from];a&&s.push(a)}for(const t of l.flow_to){s.push(t.stat_energy_to),t.stat_compensation&&s.push(t.stat_compensation);const a=e.cost_sensors[t.stat_energy_to];a&&s.push(a)}}else s.push(l.stat_energy_from),s.push(l.stat_energy_to);else{s.push(l.stat_energy_from),l.stat_cost&&s.push(l.stat_cost);const t=e.cost_sensors[l.stat_energy_from];t&&s.push(t)}else s.push(l.stat_energy_from);return s},K=async(t,e,a,s,_)=>{const[h,u]=await Promise.all([(0,f.WA)(t,{domain:"co2signal"}),G(t)]),m=h.length?h[0]:void 0;let b;if(m)for(const e of Object.values(t.entities)){if("co2signal"!==e.platform)continue;const a=t.states[e.entity_id];if(a&&"%"===a.attributes.unit_of_measurement){b=a.entity_id;break}}const g=[];for(const t of e.energy_sources)if("grid"===t.type)for(const e of t.flow_from)g.push(e.stat_energy_from);const k=q(e,u,["grid","solar","battery","gas"]),v=q(e,u,["water"]),$=[...k,...v],w=(0,l.c)(s||new Date,a),P=w>35?"month":w>2?"day":"hour",C=t.config.unit_system.length||"",W={energy:"kWh",volume:"km"===C?"m³":"ft³"},S={volume:"km"===C?"L":"gal"},M=k.length?(0,p.WU)(t,a,s,k,P,W,["change"]):{},T=v.length?(0,p.WU)(t,a,s,v,P,S,["change"]):{};let E,z,D,K,H,U={},Q={};_&&(z=(0,y.Q)(a,c.c,t.locale,t.config)&&(0,y.Q)(s||new Date,r.c,t.locale,t.config)?(0,y.o)(a,d.c,t.locale,t.config,-(0,y.Q)(s||new Date,o.c,t.locale,t.config,a)-1):(0,y.o)(a,i.c,t.locale,t.config,-1*(w+1)),D=(0,n.c)(a,-1),k.length&&(U=(0,p.WU)(t,z,D,k,P,W,["change"])),v.length&&(Q=(0,p.WU)(t,z,D,v,P,S,["change"]))),void 0!==b&&(K=x(t,a,g,b,s,w>35?"month":w>2?"day":"hour"),_&&(H=x(t,z,g,b,D,w>35?"month":w>2?"day":"hour")));const O={},A=$.length?(0,p.kH)(t,$):[],[B,F,R,L,j,V,Y]=await Promise.all([M,T,U,Q,A,K,H]),I={...B,...F};_&&(E={...R,...L}),$.length&&j.forEach((t=>{O[t.statistic_id]=t}));return{start:a,end:s,startCompare:z,endCompare:D,info:u,prefs:e,stats:I,statsMetadata:O,statsCompare:E,co2SignalConfigEntry:m,co2SignalEntity:b,fossilEnergyConsumption:V,fossilEnergyConsumptionCompare:Y}},H=t=>{v.forEach((e=>{const a=Q(t,{key:e});a.clearPrefs(),a._active&&a.refresh()}))},U=t=>{if(t._refreshTimeout&&clearTimeout(t._refreshTimeout),t._active&&(!t.end||t.end>new Date)){const e=new Date;e.getMinutes()>=20&&e.setHours(e.getHours()+1),e.setMinutes(20,0,0),t._refreshTimeout=window.setTimeout((()=>t.refresh()),e.getTime()-Date.now())}},Q=(t,e={})=>{let a="_energy";if(e.key){if(!e.key.startsWith("energy_"))throw new Error("Key need to start with energy_");a=`_${e.key}`}if(t.connection[a])return t.connection[a];v.push(e.key);const s=(0,m.S)(t.connection,a,(async()=>(s.prefs||(s.prefs=await E(t)),U(s),K(t,s.prefs,s.start,s.end,s.compare)))),l=s.subscribe;s.subscribe=t=>{const e=l(t);return s._active++,void 0===s._refreshTimeout&&U(s),()=>{s._active--,s._active<1&&(clearTimeout(s._refreshTimeout),s._refreshTimeout=void 0),e()}},s._active=0,s.prefs=e.prefs;const c=new Date,r=(0,b.O)(c,t.locale,t.config).split(":")[0];s.start=(0,y.o)("0"===r?(0,i.c)(c,-1):c,_.c,t.locale,t.config),s.end=(0,y.o)("0"===r?(0,i.c)(c,-1):c,h.c,t.locale,t.config);const d=()=>{s._updatePeriodTimeout=window.setTimeout((()=>{s.start=(0,y.o)(new Date,_.c,t.locale,t.config),s.end=(0,y.o)(new Date,h.c,t.locale,t.config),d()}),(0,u.c)((0,y.o)(c,h.c,t.locale,t.config),1).getTime()-Date.now())};return d(),s.clearPrefs=()=>{s.prefs=void 0},s.setPeriod=(e,a)=>{var l;s.start=e,s.end=a,s.start.getTime()!==(0,y.o)(new Date,_.c,t.locale,t.config).getTime()||(null===(l=s.end)||void 0===l?void 0:l.getTime())!==(0,y.o)(new Date,h.c,t.locale,t.config).getTime()||s._updatePeriodTimeout?s._updatePeriodTimeout&&(clearTimeout(s._updatePeriodTimeout),s._updatePeriodTimeout=void 0):d()},s.setCompare=t=>{s.compare=t},s},O=t=>t.callWS({type:"energy/solar_forecast"}),A=["volume","energy"],B=(t,e={},a)=>{for(const s of t.energy_sources){if("gas"!==s.type)continue;if(a&&a===s.stat_energy_from)continue;const t=e[s.stat_energy_from];if(A.includes(null==t?void 0:t.unit_class))return t.unit_class}},F=(t,e,a={})=>{const s=B(e,a);if(void 0!==s)return"energy"===s?"kWh":"km"===t.config.unit_system.length?"m³":"ft³"},R=t=>"km"===t.config.unit_system.length?"L":"gal",L="/docs/energy/faq/#troubleshooting-missing-entities";s()}catch(t){s(t)}}))},81540:(t,e,a)=>{a.d(e,{K:()=>d});var s=a(5576),l=a(37668),c=a(54915),r=a(55736);const d=t=>(0,s.c)(null,(function(t,e){class a extends e{constructor(...e){super(...e),t(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,l.c)((0,c.c)(a.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,l.c)((0,c.c)(a.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){const t=this.__unsubs.pop();t instanceof Promise?t.then((t=>t())):t()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(t){if((0,l.c)((0,c.c)(a.prototype),"updated",this).call(this,t),t.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const e of t.keys())if(this.hassSubscribeRequiredHostProps.includes(e))return void this.__checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var t;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some((t=>void 0===this[t]))||(this.__unsubs=this.hassSubscribe())}}]}}),t)},900:(t,e,a)=>{a.d(e,{f:()=>d});var s=a(58904),l=a.n(s),c=a(25175),r=a(33060);function d(t,e,a,s,d,o){const i=t.getPropertyValue(d+"-"+o).trim(),n=i.length>0?i:t.getPropertyValue(d).trim();let _;if(n.startsWith("#"))_=n;else{const t=l()[n];if(!t)return n;_=(0,c.MF)(t)}return 0===i.length&&o&&(_=(0,c.MF)((0,c.KU)(e?(0,r.a)((0,c.Yw)((0,c.LB)(_)),o):(0,r.k)((0,c.Yw)((0,c.LB)(_)),o)))),s?_+=a?"32":"7F":a&&(_+="7F"),_}},13056:(t,e,a)=>{a.a(t,(async(t,s)=>{try{a.r(e),a.d(e,{HuiEnergySourcesTableCard:()=>g});var l=a(5576),c=a(26252),r=a(84244),d=a(55736),o=a(83120),i=a(6600),n=a(900),_=(a(13332),a(71132)),h=a(32012),u=a(81540),m=a(72268),y=t([_]);_=(y.then?(await y)():y)[0];const b={grid_return:"--energy-grid-return-color",grid_consumption:"--energy-grid-consumption-color",battery_in:"--energy-battery-in-color",battery_out:"--energy-battery-out-color",solar:"--energy-solar-color",gas:"--energy-gas-color",water:"--energy-water-color"};let g=(0,l.c)([(0,d.Kx)("hui-energy-sources-table-card")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,d.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.K2)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,d.K2)()],key:"_data",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:()=>["_config"]},{kind:"method",key:"hassSubscribe",value:function(){var t;return[(0,_.uY)(this.hass,{key:null===(t=this._config)||void 0===t?void 0:t.collection_key}).subscribe((t=>{this._data=t}))]}},{kind:"method",key:"getCardSize",value:function(){return 3}},{kind:"method",key:"setConfig",value:function(t){this._config=t}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,m.eC)(this,t)||t.size>1||!t.has("hass")}},{kind:"method",key:"render",value:function(){var t,e,a,s,l,c,d,u,m;if(!this.hass||!this._config)return r.qs;if(!this._data)return r.kP`${this.hass.localize("ui.panel.lovelace.cards.energy.loading")}`;let y=0,g=0,f=0,p=0,k=0,v=0,$=0,w=0,P=!1,C=!1,W=!1,S=0,M=0,G=0,T=0,E=0,z=0,x=0,D=0;const q=(0,_.im)(this._data.prefs),K=getComputedStyle(this),H=(null===(t=q.grid)||void 0===t?void 0:t[0].flow_from.some((t=>t.stat_cost||t.entity_energy_price||t.number_energy_price)))||(null===(e=q.grid)||void 0===e?void 0:e[0].flow_to.some((t=>t.stat_compensation||t.entity_energy_price||t.number_energy_price)))||(null===(a=q.gas)||void 0===a?void 0:a.some((t=>t.stat_cost||t.entity_energy_price||t.number_energy_price)))||(null===(s=q.water)||void 0===s?void 0:s.some((t=>t.stat_cost||t.entity_energy_price||t.number_energy_price))),U=(0,_.sn)(this.hass,this._data.prefs,this._data.statsMetadata)||"",Q=(0,_.GG)(this.hass)||"m³",O=void 0!==this._data.statsCompare;return r.kP` <ha-card> ${this._config.title?r.kP`<h1 class="card-header">${this._config.title}</h1>`:""} <div class="mdc-data-table"> <div class="mdc-data-table__table-container"> <table class="mdc-data-table__table" aria-label="Energy sources"> <thead> <tr class="mdc-data-table__header-row"> <th class="mdc-data-table__header-cell"></th> <th class="mdc-data-table__header-cell" role="columnheader" scope="col"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.source")} </th> ${O?r.kP`<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.previous_energy")} </th> ${H?r.kP`<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.previous_cost")} </th>`:""}`:""} <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.energy")} </th> ${H?r.kP` <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.cost")} </th>`:""} </tr> </thead> <tbody class="mdc-data-table__content"> ${null===(l=q.solar)||void 0===l?void 0:l.map(((t,e)=>{var a;const s=(0,h.Gi)(this._data.stats[t.stat_energy_from])||0;f+=s;const l=O&&(0,h.Gi)(this._data.statsCompare[t.stat_energy_from])||0;return G+=l,r.kP`<tr class="mdc-data-table__row"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${(0,o.C)({borderColor:(0,n.f)(K,this.hass.themes.darkMode,!1,!1,b.solar,e),backgroundColor:(0,n.f)(K,this.hass.themes.darkMode,!0,!1,b.solar,e)})}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${(0,h.aE)(this.hass,t.stat_energy_from,null===(a=this._data)||void 0===a?void 0:a.statsMetadata[t.stat_energy_from])} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(l,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(s,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""} </tr>`}))} ${q.solar?r.kP`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.solar_total")} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(G,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(f,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""} </tr>`:""} ${null===(c=q.battery)||void 0===c?void 0:c.map(((t,e)=>{var a,s;const l=(0,h.Gi)(this._data.stats[t.stat_energy_from])||0,c=(0,h.Gi)(this._data.stats[t.stat_energy_to])||0;p+=l-c;const d=O&&(0,h.Gi)(this._data.statsCompare[t.stat_energy_from])||0,_=O&&(0,h.Gi)(this._data.statsCompare[t.stat_energy_to])||0;return T+=d-_,r.kP`<tr class="mdc-data-table__row"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${(0,o.C)({borderColor:(0,n.f)(K,this.hass.themes.darkMode,!1,!1,b.battery_out,e),backgroundColor:(0,n.f)(K,this.hass.themes.darkMode,!0,!1,b.battery_out,e)})}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${(0,h.aE)(this.hass,t.stat_energy_from,null===(a=this._data)||void 0===a?void 0:a.statsMetadata[t.stat_energy_from])} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(d,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(l,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""} </tr> <tr class="mdc-data-table__row"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${(0,o.C)({borderColor:(0,n.f)(K,this.hass.themes.darkMode,!1,!1,b.battery_in,e),backgroundColor:(0,n.f)(K,this.hass.themes.darkMode,!0,!1,b.battery_in,e)})}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${(0,h.aE)(this.hass,t.stat_energy_to,null===(s=this._data)||void 0===s?void 0:s.statsMetadata[t.stat_energy_to])} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(-1*_,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(-1*c,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""} </tr>`}))} ${q.battery?r.kP`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.battery_total")} </th> ${O?r.kP` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(T,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(p,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell"></td>`:""} </tr>`:""} ${null===(d=q.grid)||void 0===d?void 0:d.map((t=>r.kP`${t.flow_from.map(((t,e)=>{var a;const s=(0,h.Gi)(this._data.stats[t.stat_energy_from])||0;y+=s;const l=O&&(0,h.Gi)(this._data.statsCompare[t.stat_energy_from])||0;S+=l;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],d=c?(0,h.Gi)(this._data.stats[c])||0:null;null!==d&&(P=!0,g+=d);const _=O&&c?(0,h.Gi)(this._data.statsCompare[c])||0:null;return null!==_&&(M+=_),r.kP`<tr class="mdc-data-table__row"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${(0,o.C)({borderColor:(0,n.f)(K,this.hass.themes.darkMode,!1,!1,b.grid_consumption,e),backgroundColor:(0,n.f)(K,this.hass.themes.darkMode,!0,!1,b.grid_consumption,e)})}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${(0,h.aE)(this.hass,t.stat_energy_from,null===(a=this._data)||void 0===a?void 0:a.statsMetadata[t.stat_energy_from])} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(l,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==_?(0,i.iy)(_,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(s,this.hass.locale)} kWh </td> ${H?r.kP` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==d?(0,i.iy)(d,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""} </tr>`}))} ${t.flow_to.map(((t,e)=>{var a;const s=-1*((0,h.Gi)(this._data.stats[t.stat_energy_to])||0);y+=s;const l=t.stat_compensation||this._data.info.cost_sensors[t.stat_energy_to],c=l?-1*((0,h.Gi)(this._data.stats[l])||0):null;null!==c&&(P=!0,g+=c);const d=-1*(O&&(0,h.Gi)(this._data.statsCompare[t.stat_energy_to])||0);S+=d;const _=O&&l?-1*((0,h.Gi)(this._data.statsCompare[l])||0):null;return null!==_&&(M+=_),r.kP`<tr class="mdc-data-table__row"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${(0,o.C)({borderColor:(0,n.f)(K,this.hass.themes.darkMode,!1,!1,b.grid_return,e),backgroundColor:(0,n.f)(K,this.hass.themes.darkMode,!0,!1,b.grid_return,e)})}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${(0,h.aE)(this.hass,t.stat_energy_to,null===(a=this._data)||void 0===a?void 0:a.statsMetadata[t.stat_energy_to])} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(d,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==_?(0,i.iy)(_,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(s,this.hass.locale)} kWh </td> ${H?r.kP` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==c?(0,i.iy)(c,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""} </tr>`}))}`))} ${q.grid?r.kP` <tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.grid_total")} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(S,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${P?(0,i.iy)(M,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(y,this.hass.locale)} kWh </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${P?(0,i.iy)(g,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""} </tr>`:""} ${null===(u=q.gas)||void 0===u?void 0:u.map(((t,e)=>{var a;const s=(0,h.Gi)(this._data.stats[t.stat_energy_from])||0;k+=s;const l=O&&(0,h.Gi)(this._data.statsCompare[t.stat_energy_from])||0;E+=l;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],d=c?(0,h.Gi)(this._data.stats[c])||0:null;null!==d&&(C=!0,v+=d);const _=O&&c?(0,h.Gi)(this._data.statsCompare[c])||0:null;return null!==_&&(z+=_),r.kP`<tr class="mdc-data-table__row"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${(0,o.C)({borderColor:(0,n.f)(K,this.hass.themes.darkMode,!1,!1,b.gas,e),backgroundColor:(0,n.f)(K,this.hass.themes.darkMode,!0,!1,b.gas,e)})}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${(0,h.aE)(this.hass,t.stat_energy_from,null===(a=this._data)||void 0===a?void 0:a.statsMetadata[t.stat_energy_from])} </th> ${O?r.kP` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(l,this.hass.locale)} ${U} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==_?(0,i.iy)(_,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(s,this.hass.locale)} ${U} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==d?(0,i.iy)(d,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""} </tr>`}))} ${q.gas?r.kP`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.gas_total")} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(E,this.hass.locale)} ${U} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${C?(0,i.iy)(z,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(k,this.hass.locale)} ${U} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${C?(0,i.iy)(v,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""} </tr>`:""} ${null===(m=q.water)||void 0===m?void 0:m.map(((t,e)=>{var a;const s=(0,h.Gi)(this._data.stats[t.stat_energy_from])||0;$+=s;const l=O&&(0,h.Gi)(this._data.statsCompare[t.stat_energy_from])||0;x+=l;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],d=c?(0,h.Gi)(this._data.stats[c])||0:null;null!==d&&(W=!0,w+=d);const _=O&&c?(0,h.Gi)(this._data.statsCompare[c])||0:null;return null!==_&&(D+=_),r.kP`<tr class="mdc-data-table__row"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${(0,o.C)({borderColor:(0,n.f)(K,this.hass.themes.darkMode,!1,!1,b.water,e),backgroundColor:(0,n.f)(K,this.hass.themes.darkMode,!0,!1,b.water,e)})}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${(0,h.aE)(this.hass,t.stat_energy_from,null===(a=this._data)||void 0===a?void 0:a.statsMetadata[t.stat_energy_from])} </th> ${O?r.kP` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(l,this.hass.locale)} ${Q} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==_?(0,i.iy)(_,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(s,this.hass.locale)} ${Q} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${null!==d?(0,i.iy)(d,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""} </tr>`}))} ${q.water?r.kP`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.water_total")} </th> ${O?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(x,this.hass.locale)} ${Q} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${W?(0,i.iy)(D,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""}`:""} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)($,this.hass.locale)} ${Q} </td> ${H?r.kP`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${W?(0,i.iy)(w,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""} </td>`:""} </tr>`:""} ${[C,W,P].filter(Boolean).length>1?r.kP`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.total_costs")} </th> ${O?r.kP`<td class="mdc-data-table__cell"></td> <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(z+M+D,this.hass.locale,{style:"currency",currency:this.hass.config.currency})} </td>`:""} <td class="mdc-data-table__cell"></td> <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${(0,i.iy)(v+g+w,this.hass.locale,{style:"currency",currency:this.hass.config.currency})} </td> </tr>`:""} </tbody> </table> </div> </div> </ha-card>`}},{kind:"get",static:!0,key:"styles",value:function(){return r.gV`${(0,r.sR)(c)} .mdc-data-table{width:100%;border:0}.mdc-data-table__cell,.mdc-data-table__header-cell{color:var(--primary-text-color);border-bottom-color:var(--divider-color);text-align:var(--float-start)}.mdc-data-table__row:not(.mdc-data-table__row--selected):hover{background-color:rgba(var(--rgb-primary-text-color),.04)}.total{--mdc-typography-body2-font-weight:500}.total .mdc-data-table__cell{border-top:1px solid var(--divider-color)}ha-card{height:100%;overflow:hidden}.card-header{padding-bottom:0}.content{padding:16px}.has-header{padding-top:0}.cell-bullet{width:32px;padding-right:0;padding-inline-end:0;padding-inline-start:16px;direction:var(--direction)}.bullet{border-width:1px;border-style:solid;border-radius:4px;height:16px;width:32px}.mdc-data-table__cell--numeric{direction:ltr}`}}]}}),(0,u.K)(r.oH));s()}catch(t){s(t)}}))}};
//# sourceMappingURL=13056.i1HwbnGcezQ.js.map