export const id=16980;export const ids=[16980];export const modules={86512:(e,t,i)=>{function o(e,t,i){return t.reduce(((e,t,o,r)=>{if(void 0!==e){if(!e[t]&&i){const i=r[o+1];e[t]=void 0===i||"number"==typeof i?[]:{}}return e[t]}}),e)}function r(e,t,i,r,a){const d=Array.isArray(e)?[...e]:{...e},s=r?o(d,r):d,l=a?o(d,a,!0):d;if(!Array.isArray(s)||!Array.isArray(l))return e;const n=s.splice(t,1)[0];return l.splice(i,0,n),d}i.d(t,{_:()=>r})},90020:(e,t,i)=>{i.d(t,{y:()=>o});const o=async e=>{if(navigator.clipboard)try{return void await navigator.clipboard.writeText(e)}catch(e){}const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},66584:(e,t,i)=>{var o=i(5576),r=i(37668),a=i(54915),d=i(84244),s=i(55736),l=i(72092),n=i(90360),c=i(77748);i(21622);const h={key:"Mod-s",run:e=>((0,n.O)(e.dom,"editor-save"),!0)},u=e=>{const t=document.createElement("ha-icon");return t.icon=e.label,t};(0,o.c)([(0,s.Kx)("ha-code-editor")],(function(e,t){class o extends t{constructor(...t){super(...t),e(this)}}return{F:o,d:[{kind:"field",key:"codemirror",value:void 0},{kind:"field",decorators:[(0,s.qq)()],key:"mode",value:()=>"yaml"},{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"readOnly",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean,attribute:"autocomplete-entities"})],key:"autocompleteEntities",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean,attribute:"autocomplete-icons"})],key:"autocompleteIcons",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"error",value:()=>!1},{kind:"field",decorators:[(0,s.K2)()],key:"_value",value:()=>""},{kind:"field",key:"_loadedCodeMirror",value:void 0},{kind:"field",key:"_iconList",value:void 0},{kind:"set",key:"value",value:function(e){this._value=e}},{kind:"get",key:"value",value:function(){return this.codemirror?this.codemirror.state.doc.toString():this._value}},{kind:"get",key:"hasComments",value:function(){if(!this.codemirror||!this._loadedCodeMirror)return!1;const e=this._loadedCodeMirror.highlightingFor(this.codemirror.state,[this._loadedCodeMirror.tags.comment]);return!!this.renderRoot.querySelector(`span.${e}`)}},{kind:"method",key:"connectedCallback",value:function(){(0,r.c)((0,a.c)(o.prototype),"connectedCallback",this).call(this),this.hasUpdated&&this.requestUpdate(),this.addEventListener("keydown",c.I),this.codemirror&&!1!==this.autofocus&&this.codemirror.focus()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,r.c)((0,a.c)(o.prototype),"disconnectedCallback",this).call(this),this.removeEventListener("keydown",c.I),this.updateComplete.then((()=>{this.codemirror.destroy(),delete this.codemirror}))}},{kind:"method",key:"scheduleUpdate",value:async function(){var e;null!==(e=this._loadedCodeMirror)&&void 0!==e||(this._loadedCodeMirror=await Promise.all([i.e(10712),i.e(44602),i.e(26108)]).then(i.bind(i,26108))),(0,r.c)((0,a.c)(o.prototype),"scheduleUpdate",this).call(this)}},{kind:"method",key:"update",value:function(e){if((0,r.c)((0,a.c)(o.prototype),"update",this).call(this,e),!this.codemirror)return void this._createCodeMirror();const t=[];e.has("mode")&&t.push({effects:this._loadedCodeMirror.langCompartment.reconfigure(this._mode)}),e.has("readOnly")&&t.push({effects:this._loadedCodeMirror.readonlyCompartment.reconfigure(this._loadedCodeMirror.EditorView.editable.of(!this.readOnly))}),e.has("_value")&&this._value!==this.value&&t.push({changes:{from:0,to:this.codemirror.state.doc.length,insert:this._value}}),t.length>0&&this.codemirror.dispatch(...t),e.has("error")&&this.classList.toggle("error-state",this.error)}},{kind:"get",key:"_mode",value:function(){return this._loadedCodeMirror.langs[this.mode]}},{kind:"method",key:"_createCodeMirror",value:function(){if(!this._loadedCodeMirror)throw new Error("Cannot create editor before CodeMirror is loaded");const e=[this._loadedCodeMirror.lineNumbers(),this._loadedCodeMirror.history(),this._loadedCodeMirror.drawSelection(),this._loadedCodeMirror.EditorState.allowMultipleSelections.of(!0),this._loadedCodeMirror.rectangularSelection(),this._loadedCodeMirror.crosshairCursor(),this._loadedCodeMirror.highlightSelectionMatches(),this._loadedCodeMirror.highlightActiveLine(),this._loadedCodeMirror.keymap.of([...this._loadedCodeMirror.defaultKeymap,...this._loadedCodeMirror.searchKeymap,...this._loadedCodeMirror.historyKeymap,...this._loadedCodeMirror.tabKeyBindings,h]),this._loadedCodeMirror.langCompartment.of(this._mode),this._loadedCodeMirror.haTheme,this._loadedCodeMirror.haSyntaxHighlighting,this._loadedCodeMirror.readonlyCompartment.of(this._loadedCodeMirror.EditorView.editable.of(!this.readOnly)),this._loadedCodeMirror.EditorView.updateListener.of(this._onUpdate)];if(!this.readOnly){const t=[];this.autocompleteEntities&&this.hass&&t.push(this._entityCompletions.bind(this)),this.autocompleteIcons&&t.push(this._mdiCompletions.bind(this)),t.length>0&&e.push(this._loadedCodeMirror.autocompletion({override:t,maxRenderedOptions:10}))}this.codemirror=new this._loadedCodeMirror.EditorView({state:this._loadedCodeMirror.EditorState.create({doc:this._value,extensions:e}),parent:this.renderRoot})}},{kind:"field",key:"_getStates",value:()=>(0,l.c)((e=>{if(!e)return[];return Object.keys(e).map((t=>({type:"variable",label:t,detail:e[t].attributes.friendly_name,info:`State: ${e[t].state}`})))}))},{kind:"method",key:"_entityCompletions",value:function(e){const t=e.matchBefore(/[a-z_]{3,}\.\w*/);if(!t||t.from===t.to&&!e.explicit)return null;const i=this._getStates(this.hass.states);return i&&i.length?{from:Number(t.from),options:i,validFor:/^[a-z_]{3,}\.\w*$/}:null}},{kind:"field",key:"_getIconItems",value(){return async()=>{if(!this._iconList){let e;e=(await i.e(87192).then(i.t.bind(i,64812,19))).default,this._iconList=e.map((e=>({type:"variable",label:`mdi:${e.name}`,detail:e.keywords.join(", "),info:u})))}return this._iconList}}},{kind:"method",key:"_mdiCompletions",value:async function(e){const t=e.matchBefore(/mdi:\S*/);if(!t||t.from===t.to&&!e.explicit)return null;const i=await this._getIconItems();return{from:Number(t.from),options:i,validFor:/^mdi:\S*$/}}},{kind:"field",key:"_onUpdate",value(){return e=>{e.docChanged&&(this._value=e.state.doc.toString(),(0,n.O)(this,"value-changed",{value:this._value}))}}},{kind:"get",static:!0,key:"styles",value:function(){return d.gV`:host(.error-state) .cm-gutters{border-color:var(--error-state-color,red)}`}}]}}),d.i6)},27492:(e,t,i)=>{var o=i(5576),r=i(27320),a=i(15376),d=i(84244),s=i(55736),l=i(90360);(0,o.c)([(0,s.Kx)("ha-formfield")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",key:"_labelClick",value:function(){const e=this.input;if(e&&(e.focus(),!e.disabled))switch(e.tagName){case"HA-CHECKBOX":e.checked=!e.checked,(0,l.O)(e,"change");break;case"HA-RADIO":e.checked=!0,(0,l.O)(e,"change");break;default:e.click()}}},{kind:"field",static:!0,key:"styles",value:()=>[a.s,d.gV`:host(:not([alignEnd])) ::slotted(ha-switch){margin-right:10px;margin-inline-end:10px;margin-inline-start:inline}.mdc-form-field>label{direction:var(--direction);margin-inline-start:0;margin-inline-end:auto;padding-inline-start:4px;padding-inline-end:0}`]}]}}),r.e)},47560:(e,t,i)=>{i.a(e,(async(e,o)=>{try{i.r(t),i.d(t,{HaTriggerSelector:()=>n});var r=i(5576),a=i(84244),d=i(55736),s=i(58948),l=e([s]);s=(l.then?(await l)():l)[0];let n=(0,r.c)([(0,d.Kx)("ha-selector-trigger")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,d.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.qq)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,d.qq)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,d.qq)()],key:"label",value:void 0},{kind:"field",decorators:[(0,d.qq)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"method",key:"render",value:function(){var e;return a.kP` ${this.label?a.kP`<label>${this.label}</label>`:a.qs} <ha-automation-trigger .disabled="${this.disabled}" .triggers="${this.value||[]}" .hass="${this.hass}" .path="${null===(e=this.selector.trigger)||void 0===e?void 0:e.path}"></ha-automation-trigger> `}},{kind:"get",static:!0,key:"styles",value:function(){return a.gV`ha-automation-trigger{display:block;margin-bottom:16px}:host([disabled]) ha-automation-trigger{opacity:var(--light-disabled-opacity);pointer-events:none}label{display:block;margin-bottom:4px;font-weight:500}`}}]}}),a.oH);o()}catch(e){o(e)}}))},80372:(e,t,i)=>{var o=i(5576),r=i(37668),a=i(54915),d=i(18392),s=i(84244),l=i(55736),n=i(90360),c=i(32768),h=(i(66584),i(55476)),u=i(90020);(0,o.c)([(0,l.Kx)("ha-yaml-editor")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.qq)()],key:"value",value:void 0},{kind:"field",decorators:[(0,l.qq)({attribute:!1})],key:"yamlSchema",value:()=>d.DEFAULT_SCHEMA},{kind:"field",decorators:[(0,l.qq)()],key:"defaultValue",value:void 0},{kind:"field",decorators:[(0,l.qq)({type:Boolean})],key:"isValid",value:()=>!0},{kind:"field",decorators:[(0,l.qq)()],key:"label",value:void 0},{kind:"field",decorators:[(0,l.qq)({type:Boolean})],key:"autoUpdate",value:()=>!1},{kind:"field",decorators:[(0,l.qq)({type:Boolean})],key:"readOnly",value:()=>!1},{kind:"field",decorators:[(0,l.qq)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,l.qq)({type:Boolean})],key:"copyClipboard",value:()=>!1},{kind:"field",decorators:[(0,l.K2)()],key:"_yaml",value:()=>""},{kind:"method",key:"setValue",value:function(e){try{this._yaml=e&&!(e=>{if("object"!=typeof e)return!1;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0})(e)?(0,d.dump)(e,{schema:this.yamlSchema,quotingType:'"',noRefs:!0}):""}catch(t){console.error(t,e),alert(`There was an error converting to YAML: ${t}`)}}},{kind:"method",key:"firstUpdated",value:function(){this.defaultValue&&this.setValue(this.defaultValue)}},{kind:"method",key:"willUpdate",value:function(e){(0,r.c)((0,a.c)(i.prototype),"willUpdate",this).call(this,e),this.autoUpdate&&e.has("value")&&this.setValue(this.value)}},{kind:"method",key:"render",value:function(){return void 0===this._yaml?s.qs:s.kP` ${this.label?s.kP`<p>${this.label}${this.required?" *":""}</p>`:""} <ha-code-editor .hass="${this.hass}" .value="${this._yaml}" .readOnly="${this.readOnly}" mode="yaml" autocomplete-entities autocomplete-icons .error="${!1===this.isValid}" @value-changed="${this._onChange}" dir="ltr"></ha-code-editor> ${this.copyClipboard?s.kP`<div class="card-actions"> <mwc-button @click="${this._copyYaml}"> ${this.hass.localize("ui.components.yaml-editor.copy_to_clipboard")} </mwc-button> </div>`:s.qs} `}},{kind:"method",key:"_onChange",value:function(e){let t;e.stopPropagation(),this._yaml=e.detail.value;let i=!0;if(this._yaml)try{t=(0,d.load)(this._yaml,{schema:this.yamlSchema})}catch(e){i=!1}else t={};this.value=t,this.isValid=i,(0,n.O)(this,"value-changed",{value:t,isValid:i})}},{kind:"get",key:"yaml",value:function(){return this._yaml}},{kind:"method",key:"_copyYaml",value:async function(){this.yaml&&(await(0,u.y)(this.yaml),(0,h.y)(this,{message:this.hass.localize("ui.common.copied_clipboard")}))}},{kind:"get",static:!0,key:"styles",value:function(){return[c.ao,s.gV`.card-actions{border-radius:var(--actions-border-radius,0px 0px var(--ha-card-border-radius,12px) var(--ha-card-border-radius,12px));border:1px solid var(--divider-color);padding:5px 16px}ha-code-editor{flex-grow:1}`]}}]}}),s.oH)}};
//# sourceMappingURL=16980.gPRNb21MNEw.js.map