"use strict";(self.webpackChunkvioneta_agro_frontend=self.webpackChunkvioneta_agro_frontend||[]).push([[91288],{1212:function(n,t,e){e.d(t,{AZ:function(){return u},Cg:function(){return p},G7:function(){return c},I7:function(){return l},UJ:function(){return v},cz:function(){return r},e8:function(){return f},ew:function(){return a},gR:function(){return h},iE:function(){return d},kL:function(){return g},wX:function(){return m},yy:function(){return s}});e(3112);var i,o=e(20264),r="single",s=10,u=function(n){if("condition"in n&&Array.isArray(n.condition))return{condition:"and",conditions:n.condition};for(var t=0,e=["and","or","not"];t<e.length;t++){var i=e[t];if(i in n)return{condition:i,conditions:n[i]}}return n},a=function(n,t){n.callService("automation","trigger",{entity_id:t,skip_condition:!0})},c=function(n,t){return n.callApi("DELETE","config/automation/config/".concat(t))},l=function(n,t){return n.callApi("GET","config/automation/config/".concat(t))},d=function(n,t){return n.callWS({type:"automation/config",entity_id:t})},f=function(n,t,e){return n.callApi("POST","config/automation/config/".concat(t),e)},g=function(n){i=n,(0,o.I)("/config/automation/edit/new")},p=function(n){g(Object.assign(Object.assign({},n),{},{id:void 0,alias:void 0}))},h=function(){var n=i;return i=void 0,n},m=function(n,t,e,i){return n.connection.subscribeMessage(t,{type:"subscribe_trigger",trigger:e,variables:i})},v=function(n,t,e){return n.callWS({type:"test_condition",condition:t,variables:e})}},91288:function(n,t,e){e.r(t),e.d(t,{attachExternalToApp:function(){return s}});var i=e(90360),o=e(63168),r=e(1212),s=function(n){window.addEventListener("haptic",(function(t){return n.hass.auth.external.fireMessage({type:"haptic",payload:{hapticType:t.detail}})})),n.hass.auth.external.addCommandHandler((function(t){return u(n,t)}))},u=function(n,t){var e=n.hass.auth.external;if("restart"===t.command)n.hass.connection.reconnect(!0),e.fireMessage({id:t.id,type:"result",success:!0,result:null});else if("notifications/show"===t.command)(0,i.O)(n,"hass-show-notifications"),e.fireMessage({id:t.id,type:"result",success:!0,result:null});else if("sidebar/toggle"===t.command){var s;if(null!==(s=o.O.history.state)&&void 0!==s&&s.open)return e.fireMessage({id:t.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.O)(n,"hass-toggle-menu"),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}else if("sidebar/show"===t.command){var u;if(null!==(u=o.O.history.state)&&void 0!==u&&u.open)return e.fireMessage({id:t.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.O)(n,"hass-toggle-menu",{open:!0}),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}else{if("automation/editor/show"!==t.command)return!1;var a;(0,r.kL)(null===(a=t.payload)||void 0===a?void 0:a.config),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}return!0}}}]);
//# sourceMappingURL=91288.mQZNYO5Dew0.js.map