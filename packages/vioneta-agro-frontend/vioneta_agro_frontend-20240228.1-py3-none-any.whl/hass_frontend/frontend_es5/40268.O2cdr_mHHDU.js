"use strict";(self.webpackChunkvioneta_agro_frontend=self.webpackChunkvioneta_agro_frontend||[]).push([[40268],{69912:function(e,t,n){n.d(t,{Y:function(){return l}});var a=n(47224),i=n(45472),c=n(9160),r=n(72696),o=n(96440),s=(n(78744),n(46580),n(63728),n(53904),n(12568),n(10780),n(84244)),u=n(17072),l=(0,u.E$)(function(e){function t(e){var n;if((0,i.c)(this,t),(n=(0,r.c)(this,t,[e]))._element=void 0,e.type!==u.sZ.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings");return n}return(0,o.c)(t,e),(0,c.c)(t,[{key:"update",value:function(e,t){var n=this,i=(0,a.c)(t,2),c=i[0],r=i[1];return this._element&&this._element.localName===c?(r&&Object.entries(r).forEach((function(e){var t=(0,a.c)(e,2),i=t[0],c=t[1];n._element[i]=c})),s.Kg):this.render(c,r)}},{key:"render",value:function(e,t){var n=this;return this._element=document.createElement(e),t&&Object.entries(t).forEach((function(e){var t=(0,a.c)(e,2),i=t[0],c=t[1];n._element[i]=c})),this._element}}]),t}(u.QN))},85852:function(e,t,n){n.r(t),n.d(t,{HuiStatisticCardEditor:function(){return C}});var a,i=n(95892),c=n(48328),r=n(76904),o=n(47224),s=n(9160),u=n(45472),l=n(72696),d=n(88584),h=n(96440),f=n(19612),m=(n(40068),n(69592),n(99616),n(75032),n(3112),n(46580),n(24124),n(63728),n(49704),n(53904),n(12568),n(47608),n(10780),n(84244)),p=n(95548),_=n(72092),v=n(992),Q=n(90360),k=n(42132),b=(n(97084),n(32012)),y=n(57624),g=n(86708),x=(0,v.yU)(g.Q,(0,v.kt)({entity:(0,v.Q3)((0,v.Qb)()),name:(0,v.Q3)((0,v.Qb)()),icon:(0,v.Q3)((0,v.Qb)()),unit:(0,v.Q3)((0,v.Qb)()),stat_type:(0,v.Q3)((0,v.Qb)()),period:(0,v.Q3)((0,v.uW)()),theme:(0,v.Q3)((0,v.Qb)()),footer:(0,v.Q3)(y.Y7)})),O=["mean","min","max","change"],w={mean:"mean",min:"min",max:"max",change:"sum"},j={today:{calendar:{period:"day"}},yesterday:{calendar:{period:"day",offset:-1}},this_week:{calendar:{period:"week"}},last_week:{calendar:{period:"week",offset:-1}},this_month:{calendar:{period:"month"}},last_month:{calendar:{period:"month",offset:-1}},this_year:{calendar:{period:"year"}},last_year:{calendar:{period:"year",offset:-1}}},C=(0,f.c)([(0,p.Kx)("hui-statistic-card-editor")],(function(e,t){var n,f,y=function(t){function n(){var t;(0,u.c)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return t=(0,l.c)(this,n,[].concat(i)),e((0,d.c)(t)),t}return(0,h.c)(n,t),(0,s.c)(n)}(t);return{F:y,d:[{kind:"field",decorators:[(0,p.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.K2)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,p.K2)()],key:"_metadata",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,v.Uc)(e,x),this._config=e,this._fetchMetadata()}},{kind:"method",key:"firstUpdated",value:function(){var e=this;this._fetchMetadata().then((function(){var t,n,a;null!==(t=e._config)&&void 0!==t&&t.stat_type||null===(n=e._config)||void 0===n||!n.entity||(0,Q.O)(e,"config-changed",{config:Object.assign(Object.assign({},e._config),{},{stat_type:null!==(a=e._metadata)&&void 0!==a&&a.has_sum?"change":"mean"})})}))}},{kind:"field",key:"_data",value:function(){return(0,_.c)((function(e){if(!e||!e.period)return e;for(var t=0,n=Object.entries(j);t<n.length;t++){var a=(0,o.c)(n[t],2),i=a[0],c=a[1];if((0,k.I)(c,e.period))return Object.assign(Object.assign({},e),{},{period:i})}return e}))}},{kind:"field",key:"_schema",value:function(){return(0,_.c)((function(e,t,n){return[{name:"entity",required:!0,selector:{statistic:{}}},{name:"stat_type",required:!0,selector:{select:{multiple:!1,options:O.map((function(e){return{value:e,label:t("ui.panel.lovelace.editor.card.statistic.stat_type_labels.".concat(e)),disabled:!n||!(0,b.em)(n,w[e])}}))}}},{name:"period",required:!0,selector:e&&Object.keys(j).includes(e)?{select:{multiple:!1,options:Object.keys(j).map((function(e){return{value:e,label:t("ui.panel.lovelace.editor.card.statistic.periods.".concat(e))||e}}))}}:{object:{}}},{type:"grid",name:"",schema:[{name:"name",selector:{text:{}}},{name:"icon",selector:{icon:{}},context:{icon_entity:"entity"}},{name:"unit",selector:{text:{}}},{name:"theme",selector:{theme:{}}}]}]}))}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return m.qs;var e=this._data(this._config),t=this._schema("string"==typeof e.period?e.period:void 0,this.hass.localize,this._metadata);return(0,m.kP)(a||(a=(0,r.c)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> '])),this.hass,e,t,this._computeLabelCallback,this._valueChanged)}},{kind:"method",key:"_fetchMetadata",value:(f=(0,c.c)((0,i.c)().mark((function e(){return(0,i.c)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hass&&this._config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,b.kH)(this.hass,[this._config.entity]);case 4:this._metadata=e.sent[0];case 5:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{kind:"method",key:"_valueChanged",value:(n=(0,c.c)((0,i.c)().mark((function e(t){var n,a,c,r,o,s,u;return(0,i.c)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},t.detail.value),Object.keys(a).forEach((function(e){return""===a[e]&&delete a[e]})),"string"==typeof a.period&&(c=j[a.period])&&(a.period=c),!a.stat_type||!a.entity||a.entity===(null===(n=this._metadata)||void 0===n?void 0:n.statistic_id)){e.next=18;break}return e.next=6,(0,b.kH)(this.hass,[a.entity]);case 6:if(e.t1=r=e.sent,e.t0=null===e.t1,e.t0){e.next=10;break}e.t0=void 0===r;case 10:if(!e.t0){e.next=14;break}e.t2=void 0,e.next=15;break;case 14:e.t2=r[0];case 15:(o=e.t2)&&!o.has_sum&&"change"===a.stat_type&&(a.stat_type="mean"),o&&!o.has_mean&&"change"!==a.stat_type&&(a.stat_type="change");case 18:if(a.stat_type||!a.entity){e.next=32;break}return e.next=21,(0,b.kH)(this.hass,[a.entity]);case 21:if(e.t4=s=e.sent,e.t3=null===e.t4,e.t3){e.next=25;break}e.t3=void 0===s;case 25:if(!e.t3){e.next=29;break}e.t5=void 0,e.next=30;break;case 29:e.t5=s[0];case 30:u=e.t5,a.stat_type=null!=u&&u.has_sum?"change":"mean";case 32:(0,Q.O)(this,"config-changed",{config:a});case 33:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(t){return"period"===t.name?e.hass.localize("ui.panel.lovelace.editor.card.statistic.period"):"theme"===t.name?"".concat(e.hass.localize("ui.panel.lovelace.editor.card.generic.theme")," (").concat(e.hass.localize("ui.panel.lovelace.editor.card.config.optional"),")"):e.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(t.name))}}}]}}),m.oH)},63504:function(e,t,n){n.d(t,{O:function(){return h}});var a=n(97168),i=n(992),c=(0,i.kt)({user:(0,i.Qb)()}),r=(0,i.SQ)([(0,i.cT)(),(0,i.kt)({text:(0,i.Q3)((0,i.Qb)()),excemptions:(0,i.Q3)((0,i.M$)(c))})]),o=(0,i.kt)({action:(0,i.uA)("url"),url_path:(0,i.Qb)(),confirmation:(0,i.Q3)(r)}),s=(0,i.kt)({action:(0,i.uA)("call-service"),service:(0,i.Qb)(),service_data:(0,i.Q3)((0,i.kt)()),data:(0,i.Q3)((0,i.kt)()),target:(0,i.Q3)((0,i.kt)({entity_id:(0,i.Q3)((0,i.SQ)([(0,i.Qb)(),(0,i.M$)((0,i.Qb)())])),device_id:(0,i.Q3)((0,i.SQ)([(0,i.Qb)(),(0,i.M$)((0,i.Qb)())])),area_id:(0,i.Q3)((0,i.SQ)([(0,i.Qb)(),(0,i.M$)((0,i.Qb)())]))})),confirmation:(0,i.Q3)(r)}),u=(0,i.kt)({action:(0,i.uA)("navigate"),navigation_path:(0,i.Qb)(),navigation_replace:(0,i.Q3)((0,i.cT)()),confirmation:(0,i.Q3)(r)}),l=(0,i.s$)({action:(0,i.uA)("assist"),pipeline_id:(0,i.Q3)((0,i.Qb)()),start_listening:(0,i.Q3)((0,i.cT)())}),d=(0,i.kt)({action:(0,i.Ix)(["none","toggle","more-info","call-service","url","navigate","assist"]),confirmation:(0,i.Q3)(r)}),h=(0,i.kz)((function(e){if(e&&"object"===(0,a.c)(e)&&"action"in e)switch(e.action){case"call-service":return s;case"navigate":return u;case"url":return o;case"assist":return l}return d}))},86708:function(e,t,n){n.d(t,{Q:function(){return i}});var a=n(992),i=(0,a.kt)({type:(0,a.Qb)(),view_layout:(0,a.uW)()})},11368:function(e,t,n){n.d(t,{k:function(){return c}});var a=n(992),i=n(63504),c=(0,a.kt)({entity:(0,a.Qb)(),name:(0,a.Q3)((0,a.Qb)()),icon:(0,a.Q3)((0,a.Qb)()),image:(0,a.Q3)((0,a.Qb)()),show_name:(0,a.Q3)((0,a.cT)()),show_icon:(0,a.Q3)((0,a.cT)()),tap_action:(0,a.Q3)(i.O),hold_action:(0,a.Q3)(i.O),double_tap_action:(0,a.Q3)(i.O)})},57624:function(e,t,n){n.d(t,{Y7:function(){return l},sL:function(){return u}});var a=n(97168),i=n(992),c=n(63504),r=n(11368),o=(0,i.kt)({type:(0,i.Qb)(),image:(0,i.Qb)(),tap_action:(0,i.Q3)(c.O),hold_action:(0,i.Q3)(c.O),double_tap_action:(0,i.Q3)(c.O),alt_text:(0,i.Q3)((0,i.Qb)())}),s=(0,i.kt)({type:(0,i.Qb)(),entities:(0,i.M$)(r.k)}),u=(0,i.kt)({type:(0,i.Qb)(),entity:(0,i.Qb)(),detail:(0,i.Q3)((0,i.CQ)()),hours_to_show:(0,i.Q3)((0,i.CQ)())}),l=(0,i.kz)((function(e){if(e&&"object"===(0,a.c)(e)&&"type"in e)switch(e.type){case"buttons":return s;case"graph":return u;case"picture":return o}return(0,i.SQ)([s,u,o])}))}}]);
//# sourceMappingURL=40268.O2cdr_mHHDU.js.map