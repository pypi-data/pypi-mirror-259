(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{43402:function(e,t,i){"use strict";var l=i(2265),a=i(88046);let r=(0,a.A)(function(e){return l.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM18.9988 11.8778C19.0132 12.7061 18.3535 13.3893 17.5252 13.4038L13.5258 13.4736L13.5956 17.473C13.61 18.3013 12.9503 18.9845 12.122 18.9989C11.2937 19.0134 10.6105 18.3537 10.596 17.5254L10.5262 13.526L6.52684 13.5958C5.69854 13.6102 5.01535 12.9505 5.00089 12.1222C4.98644 11.2939 5.64619 10.6107 6.47449 10.5962L10.4739 10.5264L10.4041 6.52703C10.3896 5.69873 11.0494 5.01553 11.8777 5.00108C12.706 4.98662 13.3892 5.64637 13.4036 6.47467L13.4734 10.4741L17.4728 10.4043C18.3011 10.3898 18.9843 11.0495 18.9988 11.8778Z",fill:"currentColor"}))},"plus_circle");t.Z=r},26256:function(e,t,i){Promise.resolve().then(i.bind(i,9104))},9104:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return _}});var l=i(57437),a=i(2265),r=i(32081),n=i(66310),o=i(44407),s=i(43402),d=i(88046);let c=(0,d.A)(function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8395 8.05827C17.1837 5.16226 14.5944 3 11.5 3C7.91015 3 5 5.91015 5 9.5C5 10.0204 5.06115 10.5264 5.17665 11.0114C2.84229 11.1772 1 13.1234 1 15.5C1 17.9853 3.01469 20 5.49995 20H17C20.3137 20 23 17.3137 23 14C23 10.9712 20.7558 8.46659 17.8395 8.05827ZM11.6799 17.7333C11.8653 17.8878 12.1347 17.8878 12.3201 17.7333L17.4695 13.4421C17.6492 13.2924 17.5433 13 17.3095 13H14V9.5C14 9.22386 13.7761 9 13.5 9H10.5C10.2239 9 10 9.22386 10 9.5V13H6.69051C6.45669 13 6.35084 13.2924 6.53047 13.4421L11.6799 17.7333Z",fill:"currentColor"}))},"download");var u=i(29706),f=i(30713),h=i(16869),m=i(33068),p=i(65746),x=i(12275),b=i.n(x),_=()=>{let{Header:e,Content:t}=r.Layout,{data:i,error:d,isLoading:x}=(0,f.ZP)("/v1/configuration",h._i),{trigger:_}=(0,m.Z)("/v1/configuration",h.gz),g=(0,a.useRef)(),[y,w]=(0,a.useState)(0),v=()=>{w(e=>e+1)},[S,j]=(0,a.useState)("inset");(0,a.useEffect)(()=>{let e=(0,n.ql)(n.f.lg,{match:()=>{j("left")},unmatch:()=>{j("top")}});return()=>e()},[]),(0,a.useEffect)(()=>{v()},[i]);let{biliUsers:k}=(0,p.Bf)(),T=null==k?void 0:k.map(e=>({value:e.value,label:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.qE,{size:"extra-small",src:e.face}),(0,l.jsx)("span",{style:{marginLeft:8},children:e.name})]})}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e,{style:{backgroundColor:"var(--semi-color-bg-1)"},children:(0,l.jsx)(r.JL,{style:{border:"none"},header:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{backgroundColor:"#6b6c75ff",borderRadius:"var(--semi-border-radius-large)",color:"var(--semi-color-bg-0)",display:"flex",padding:"6px"},children:(0,l.jsx)(o.Z,{size:"large"})}),(0,l.jsx)("h4",{style:{marginLeft:"12px"},children:"空间配置"})]}),footer:(0,l.jsx)(r.zx,{onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.submitForm()},icon:(0,l.jsx)(s.Z,{}),theme:"solid",style:{marginRight:10},children:"保存"}),mode:"horizontal"})}),(0,l.jsx)(t,{children:(0,l.jsx)("div",{className:b().rootConfigPanel,children:(0,l.jsx)("div",{className:b().main,children:(0,l.jsx)("div",{className:b().content,children:(0,l.jsxs)(r.Form,{className:b().form,initValues:i,onSubmit:async e=>{await _(e)},getFormApi:e=>g.current=e,children:[(0,l.jsxs)("div",{className:b().frameDownload,children:[(0,l.jsxs)("div",{className:b().frameInside,children:[(0,l.jsxs)("div",{className:b().group,children:[(0,l.jsx)("div",{className:b().buttonOnlyIconSecond}),(0,l.jsx)("div",{className:b().lineStory,style:{color:"var(--semi-color-bg-0)",display:"flex"},children:(0,l.jsx)(c,{size:"small"})})]}),(0,l.jsx)("p",{className:b().meegoSharedWebWorkIt,children:"全局下载设置"})]}),(0,l.jsxs)(r.Form.Select,{label:"下载插件（downloader）",field:"downloader",placeholder:"stream-gears",maxTagCount:3,extraText:(0,l.jsxs)("div",{style:{fontSize:"14px"},children:["选择全局默认的下载插件, 可选:",(0,l.jsx)("br",{}),"1. streamlink（streamlink配合ffmpeg混合下载模式，适合用于下载hls_fmp4与hls_ts流，因为streamlink支持多线程拉取, 使用该模式下载flv流时，将会仅使用ffmpeg。请手动安装streamlink以及ffmpeg）",(0,l.jsx)("br",{}),"2. ffmpeg（纯ffmpeg下载。请手动安装ffmpeg）",(0,l.jsx)("br",{}),"3. stream-gears（默认）"]}),style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},children:[(0,l.jsx)(r.Ph.Option,{value:"steamlink",children:"steamlink（混合模式）"}),(0,l.jsx)(r.Ph.Option,{value:"ffmpeg",children:"ffmpeg"}),(0,l.jsx)(r.Ph.Option,{value:"stream-gears",children:"stream-gears（默认）"})]}),(0,l.jsx)(r.Form.InputNumber,{label:"视频分段大小（file_size）",extraText:"录像单文件大小限制，单位：Byte，超过此大小分段下载，如需使用大小分段请注释此字段。eg：4294967296（4GB）",field:"file_size",placeholder:"",suffix:"Byte",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"segment_time",extraText:"录像单文件时间限制，格式'00:00:00'（时分秒），超过此大小分段下载，如需使用大小分段请注释此字段",label:"视频分段时长（segment_time）",placeholder:"00:00:00",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.InputNumber,{field:"filtering_threshold",extraText:"小于此大小的视频文件将会被过滤删除，单位：MB",label:"碎片过滤（filtering_threshold）",suffix:"MB",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.InputNumber,{field:"delay",label:"下播延迟检测（delay)",extraText:"检测到主播下播后延迟再次检测，单位：秒，避免特殊情况提早启动上传导致漏录 当delay不存在时，默认延迟时间为0秒，没有快速上传的需求推荐设置5分钟(300秒)或按需设置。若设置的延迟时间超过60秒，则会启用分段检测机制，每隔60秒进行一次开播状态的检测。",placeholder:"0",suffix:"s",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.InputNumber,{field:"event_loop_interval",extraText:"平台检测间隔时间，单位：秒。比如虎牙所有主播检测完后会等待30秒 再去从新检测",label:"直播事件检测间隔（event_loop_interval）",suffix:"s",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.InputNumber,{field:"pool1_size",extraText:"线程池1大小，负责下载事件。每个下载都会占用1。应该设置为比主播数量要多一点的数。",label:"下载线程池大小（pool1_size）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]}),(0,l.jsxs)("div",{className:b().frameUpload,children:[(0,l.jsxs)("div",{className:b().frameInside,children:[(0,l.jsxs)("div",{className:b().group,children:[(0,l.jsx)("div",{className:b().buttonOnlyIconSecond}),(0,l.jsx)("div",{className:b().lineStory,style:{color:"var(--semi-color-bg-0)",display:"flex"},children:(0,l.jsx)(u.Z,{size:"small"})})]}),(0,l.jsx)("p",{className:b().meegoSharedWebWorkIt,children:"全局上传设置"})]}),(0,l.jsxs)(r.Form.Select,{field:"submit_api",label:"提交接口（submit_api）",extraText:"b站提交接口，默认自动选择，可选web，client",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},children:[(0,l.jsx)(r.Form.Select.Option,{value:"web",children:"网页端（web）"}),(0,l.jsx)(r.Form.Select.Option,{value:"client",children:"客户端（client）"})]}),(0,l.jsxs)(r.Form.Select,{field:"uploader",label:"上传插件（uploader）",extraText:"选择全局默认上传插件，Noop为不上传，但会执行后处理,可选bili_web，biliup-rs(默认值)",placeholder:"biliup-rs",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},children:[(0,l.jsx)(r.Form.Select.Option,{value:"bili_web",children:"bili_web"}),(0,l.jsx)(r.Form.Select.Option,{value:"biliup-rs",children:"biliup-rs"}),(0,l.jsx)(r.Form.Select.Option,{value:"Noop",children:"Noop"})]}),(0,l.jsxs)(r.Form.Select,{field:"lines",label:"上传线路（lines）",extraText:"b站上传线路选择，默认为自动模式，目前可手动切换为bda2, kodo, ws, qn",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},children:[(0,l.jsx)(r.Form.Select.Option,{value:"bda2",children:"bda2"}),(0,l.jsx)(r.Form.Select.Option,{value:"kodo",children:"kodo"}),(0,l.jsx)(r.Form.Select.Option,{value:"ws",children:"ws"}),(0,l.jsx)(r.Form.Select.Option,{value:"qn",children:"qn"})]}),(0,l.jsx)(r.Form.InputNumber,{field:"threads",extraText:"单文件并发上传数，未达到带宽上限时增大此值可提高上传速度",label:"上传并发（threads）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.InputNumber,{field:"pool2_size",extraText:"线程池2大小，负责上传事件。每个上传都会占用1。 应该设置为比主播数量要多一点的数，如果开启uploading_record需要设置的更多。",label:"上传线程池大小（pool2_size）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Switch,{field:"use_live_cover",extraText:"使用直播间封面作为投稿封面。此封面优先级低于单个主播指定的自定义封面。（目前支持bilibili,twitch,youtube。直播封面将会保存于cover文件夹下，上传后自动删除）",label:"使用直播间封面作为投稿封面（use_live_cover)"})]}),(0,l.jsx)("img",{title:"space",src:"https://lf26-static.semi.design/obj/semi-tos/template/df3b366c-5477-428a-8c07-f52e5211c1be.svg",className:b().line}),(0,l.jsxs)("div",{className:b().framePlatformConfig,children:[(0,l.jsxs)("div",{className:b().frameInside,children:[(0,l.jsxs)("div",{className:b().group,children:[(0,l.jsx)("div",{className:b().buttonOnlyIconSecond}),(0,l.jsx)("img",{title:"各平台下载设置",src:"https://lf3-static.semi.design/obj/semi-tos/template/26853bea-9a55-4c4d-939b-d0a7c8f72613.png",className:b().outlinedVersion})]}),(0,l.jsx)("p",{className:b().meegoSharedWebSettin,children:"各平台下载设置"})]}),(0,l.jsxs)(r.UO,{keepDOM:!0,children:[(0,l.jsxs)(r.UO.Panel,{header:"哔哩哔哩",itemKey:"bilibili",children:[(0,l.jsx)(r.Form.InputNumber,{field:"bili_qn",extraText:"哔哩哔哩自选画质 刚开播可能没有除了原画之外的画质 会先录制原画 后续视频分段(仅ffmpeg streamlink)时录制设置的画质 30000 杜比,20000 4K,10000 原画,401 蓝光(杜比),400 蓝光,250 超清,150 高清,80 流畅,0 B站默认(多数情况下是蓝光 400) 没有选中的画质则会自动选择相近的画质",label:"画质等级（bili_qn）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Switch,{field:"bilibili_danmaku",extraText:"录制BILIBILI弹幕，目前暂时不支持视频按时长分段下的弹幕文件自动分段，只有使用ffmpeg（包括streamlink混合模式）作为下载器才支持，默认关闭",label:"录制弹幕（bilibili_danmaku）"}),(0,l.jsx)(r.Form.Switch,{field:"bili_force_cn01",label:"强制替换 gotcha01 （bili_force_cn01）"}),(0,l.jsx)(r.Form.Input,{field:"bili_force_cn01_domains",extraText:'强制替换cn-gotcha01（叔叔自建）为指定的自选域名组（可多个域名，请用逗号分隔） 完整CDN列表请参考 https://rec.danmuji.org/dev/bilibili-cdn/ 中"B站视频云"的部分 此功能目前会和stream-gears冲突导致很多分段，请考虑使用ffmpeg录制 如果海外机器需要使用此功能，需要在bili_liveapi中指定国内的反代API来获取cn-gotcha01的节点信息。 海外机的玩法：配合一个国内的机器（例如便宜的腾讯云，阿里云等等）自建反代api.live.bilibili.com。或者使用https://docs.qq.com/doc/DV2dvbXBrckNscU9x 此处提供的公用反代API。 如果海外机到联通或者移动网络线路还不错，就可以参考***完整CDN列表***选取一些联通或者移动的节点并填入下面 每次会随机返回填入的其中一个线路，并且会自动判断所填入的节点是否可用',label:"强制替换 gotcha01 域名（bili_force_cn01_domains）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"bili_force_ov05_ip",extraText:"强制替换ov-gotcha05的下载地址为指定的自选IP",label:"强制替换 ov-gotcha05 IP地址（bili_force_ov05_ip）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Switch,{field:"bili_cdn_fallback",extraText:"CDN自动Fallback开关，默认为开启，例如海外机器优选ov05之后，如果ov05流一直无法下载，将会自动fallback到ov07进行下载。",label:"自动回退CDN（bili_cdn_fallback）"}),(0,l.jsx)(r.Form.Input,{field:"bili_liveapi",extraText:"自定义哔哩哔哩直播API，用于获取指定区域（大陆或者海外）的直播流链接，默认使用官方API。",label:"哔哩哔哩直播API（bili_liveapi）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"bili_fallback_api",extraText:"自定义fmp4流获取不到时，重新获取一遍flv直播流的api，默认不重新使用其他api重新获取一遍。 海外机器玩法：bili_liveapi设置为能获取大陆直播流的API，并将bili_fallback_api设置为官方API，然后优选fmp4流并使用streamlink下载器，最后设置优选cn-gotcha208,ov-gotcha05两个节点。 大陆机器玩法：bili_liveapi取消注释保持默认使用官方API，并将bili_fallback_api设置为能获取到海外节点API，然后优选fmp4流并使用streamlink下载器，最后设置优选cn-gotcha208,ov-gotcha05两个节点。 这样大主播可以使用cn208的fmp4流稳定录制（海外机如需可以通过自建dns优选指定线路的cn208节点），没有fmp4流的小主播也可以会退到ov05录制flv流。",label:"哔哩哔哩直播回退API（bili_fallback_api）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Switch,{field:"bili_force_source",extraText:"哔哩哔哩强制真原画（仅限TS与FMP4流的 cn-gotcha01 CDN，且 bili_qn >= 10000），默认为关闭 不保证可用性。当无法强制获取到真原画时，将会自动回退到二压原画。",label:"强制获取真原画（bili_force_source）"}),(0,l.jsxs)(r.Form.Select,{field:"bili_protocol",extraText:"哔哩哔哩直播流协议.可选 stream（flv流）,hls_ts(ts流）与hls_fmp4（fmp4流），默认为stream 仅国内IP可以解析到fmp4流。海外IP只能获取到flv流（ov05与ov07）和ts流（ov105） 由于fmp4出现需要一定时间，或者某些小主播（大部分只有原画选项的主播）无fmp4流。 目前的策略是，如果开播时间小于60s，将会反复尝试获取fmp4流，如果没获取到就回退到flv流。 由于ffmpeg只能单线程下载，并且stream-gears录制有问题，所以目前fmp4流只能使用streamlink+ffmpeg混合模式。 ",label:"直播流协议（bili_protocol）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},children:[(0,l.jsx)(r.Ph.Option,{value:"stream",children:"stream（flv流）"}),(0,l.jsx)(r.Ph.Option,{value:"hls_ts",children:"hls_ts（ts流）"}),(0,l.jsx)(r.Ph.Option,{value:"hls_fmp4",children:"hls_fmp4（fmp4流）"})]}),(0,l.jsx)(r.Form.Input,{field:"bili_perfCDN",extraText:"哔哩哔哩直播优选CDN，默认无",label:"优选CDN（bili_perfCDN）",placeholder:"cn-gotcha208,ov-gotcha05",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]}),(0,l.jsxs)(r.UO.Panel,{header:"抖音",itemKey:"douyin",children:[(0,l.jsx)(r.Form.Input,{field:"douyin_quality",extraText:"抖音自选画质 刚开播可能没有除了原画之外的画质 会先录制原画 后续视频分段(仅ffmpeg streamlink)时录制设置的画质 origin 原画,uhd 蓝光,hd 超清,sd 高清,ld 标清,md 流畅 没有选中的画质则会自动选择相近的画质优先低清晰度",label:"画质等级（douyin_quality）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Switch,{field:"douyin_danmaku",extraText:"录制抖音弹幕，默认关闭【目前暂时不支持视频按时长分段下的弹幕文件自动分段，只有使用ffmpeg（包括streamlink混合模式）作为下载器才支持】",label:"录制弹幕（douyin_danmaku）"})]}),(0,l.jsxs)(r.UO.Panel,{header:"斗鱼",itemKey:"douyu",children:[(0,l.jsx)(r.Form.InputNumber,{field:"douyu_rate",extraText:"刚开播可能没有除了原画之外的画质 会先录制原画 后续视频分段(仅ffmpeg streamlink)时录制设置的画质 0 原画,4 蓝光4m,3 超清,2 高清",label:"画质等级（douyu_rate）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Switch,{field:"douyu_danmaku",extraText:"录制斗鱼弹幕，默认关闭【目前暂时不支持视频按时长分段下的弹幕文件自动分段，只有使用ffmpeg（包括streamlink混合模式）作为下载器才支持】",label:"录制弹幕（douyu_danmaku）"}),(0,l.jsx)(r.Form.Input,{field:"douyucdn",extraText:"如遇到斗鱼录制卡顿可以尝试切换线路。可选以下线路 tctc-h5（备用线路4）, tct-h5（备用线路5）, ali-h5（备用线路6）, hw-h5（备用线路7）, hs-h5（备用线路13）",label:"访问线路（douyucdn）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]}),(0,l.jsxs)(r.UO.Panel,{header:"虎牙",itemKey:"huya",children:[(0,l.jsx)(r.Form.InputNumber,{field:"huya_max_ratio",extraText:"虎牙自选录制码率 可以避免录制如20M的码率，每小时8G左右大小，上传及转码耗时过长。 20000（蓝光20M）, 10000（蓝光10M）, 8000（蓝光8M）, 2000（超清）, 500（流畅） 设置为10000则录制小于等于蓝光10M的画质",label:"画质等级（huya_max_ratio）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Switch,{field:"huya_danmaku",extraText:"录制虎牙弹幕，默认关闭【目前暂时不支持视频按时长分段下的弹幕文件自动分段，只有使用ffmpeg（包括streamlink混合模式）作为下载器才支持】",label:"录制弹幕（huya_danmaku）"}),(0,l.jsx)(r.Form.Input,{field:"huyacdn",extraText:"如遇到虎牙录制卡顿可以尝试切换线路。可选以下线路 AL（阿里云 - 直播线路3）, TX（腾讯云 - 直播线路5）, HW（华为云 - 直播线路6）, WS（网宿）, HS（火山引擎 - 直播线路14）, AL13（阿里云）, HW16（华为云）, HY(星域云 - 直播线路66)",label:"访问线路（huyacdn）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]}),(0,l.jsxs)(r.UO.Panel,{header:"Twitch",itemKey:"twitch",children:[(0,l.jsx)(r.Form.Switch,{field:"twitch_danmaku",extraText:"录制Twitch弹幕，默认关闭【只有下载器为FFMPEG时才有效】",label:"录制弹幕（twitch_danmaku）"}),(0,l.jsx)(r.Form.Switch,{initValue:null==i||!i.hasOwnProperty("twitch_disable_ads")||i.twitch_disable_ads,field:"twitch_disable_ads",extraText:"去除Twitch广告功能，默认开启【只有下载器为FFMPEG时才有效】 这个功能会导致Twitch录播分段，因为遇到广告就自动断开了，这就是去广告。若需要录播完整一整段可以关闭这个，但是关了之后就会有紫色屏幕的CommercialTime 还有一个不想视频分段的办法是去花钱开一个Turbo会员，能不看广告，然后下面的user里把twitch的cookie填上，也能不看广告，自然就不会分段了",label:"去除广告（twitch_disable_ads）"})]}),(0,l.jsxs)(r.UO.Panel,{header:"YouTube",itemKey:"youtube",children:[(0,l.jsx)(r.Form.Switch,{initValue:null==i||!i.hasOwnProperty("youtube_enable_download_live")||i.youtube_enable_download_live,field:"youtube_enable_download_live",extraText:"### 是否下载直播 默认开启 关闭后将忽略直播下载（可以下载回放） 避免网络被风控(有些网络只能下载回放无法下载直播)的时候还会尝试下载直播 大量下载时极易风控 如对实时性要求不高推荐关闭 一个人同时开启多个直播只能录制最新录制的那个 如果正在录制直播将无法下载回放 例如录制https://www.youtube.com/@NeneAmanoCh/streams，关闭后将忽略正在直播 ",label:"下载直播（youtube_enable_download_live）"}),(0,l.jsx)(r.Form.Switch,{initValue:null==i||!i.hasOwnProperty("youtube_enable_download_playback")||i.youtube_enable_download_playback,field:"youtube_enable_download_playback",extraText:"是否下载直播回放 默认开启 关闭后将忽略直播下载回放(不会影响正常的视频下载) 只想录制直播的可以开启 如果正在下载回放将无法录制直播 例如录制https://www.youtube.com/@NeneAmanoCh/streams，关闭后将忽略直播回放 ",label:"下载回放（youtube_enable_download_playback）"}),(0,l.jsx)(r.Form.Input,{field:"youtube_after_date",extraText:"仅下载该日期之后的视频,默认不限制",label:"下载起始日期（youtube_after_date）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"youtube_before_date",extraText:"仅下载该日期之前的视频（可与上面的youtube_after_date配合使用，构成指定下载范围区间）默认不限制",label:"下载截止日期（youtube_before_date）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"youtube_max_videosize",extraText:"限制单个视频的最大大小 默认不限制 直播无此功能 注意：此参数优先级高于分辨率设置，并且不包括音频部分的大小，仅仅只是视频部分的大小。 此功能在一部分视频上无法使用 推荐使用画质限制不开启此功能",label:"视频大小上限（youtube_max_videosize）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.InputNumber,{field:"youtube_max_resolution",extraText:"设置偏好的YouTube下载最高纵向分辨率 默认不限制 可以用此限制画质 例如设置为1080最高只会下载1080P画质",label:"视频分辨率上限（youtube_max_resolution）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"youtube_prefer_vcodec",label:"偏好视频封装格式（youtube_prefer_vcodec）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"youtube_prefer_acodec",extraText:"设置偏好的YouTube下载封装格式 默认不限制 请务必记得安装ffmpeg 如无特殊需求不建议筛选封装格式 特别是录制直播时 多数直播mp4都是不可用的 bilibili支持 mp4 mkv webm 无需筛选也能上传 支持同时添加多个编码，自动优选指定编码格式里最好的画质/音质版本。 视频：其中avc编码最高可以下载到1080p的内容，vp9最高可以下载到4k以及很少部分8k内容，av01画质不是所有视频都有，但是大部分8k视频的8k画质只有av01编码。 音频：其中opus编码最高48KHz采样，mp4a（AAC）最高44.1KHz采样，理论上来说opus音质会更好一些。 如需指定封装格式，请按以下推荐设置。mp4：avc+mp4a;av01+mp4a. mkv:vp9+mp4a,avc+opus. webm:av01+opus;vp9+opus.",label:"偏好音频封装格式（youtube_prefer_acodec）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]}),(0,l.jsxs)(r.UO.Panel,{header:"用户 Cookie",itemKey:"user",children:[(0,l.jsx)(r.Form.Input,{field:"user.bili_cookie",extraText:"请至少填入bilibili cookie之一。推荐使用 biliup-rs(https://github.com/biliup/biliup-rs) 来获取。",label:"哔哩哔哩 Cookie 文本（bili_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Select,{field:"user.bili_cookie_file",label:"哔哩哔哩 Cookie 文件（bili_cookie_file）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},optionList:T,extraText:"和上一个配置项同时存在时，优先使用文件。只支持 biliup-rs 生成的文件。"}),(0,l.jsx)(r.Form.Input,{field:"user.douyin_cookie",extraText:(0,l.jsxs)("div",{className:"semi-form-field-extra",children:["如需要录制抖音www.douyin.com/user/类型链接或被风控,请在此填入cookie。",(0,l.jsx)("br",{}),"需要__ac_nonce、__ac_signature、sessionid的值，请不要将所有cookie填入。"]}),label:"抖音 Cookie（douyin_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.twitch_cookie",extraText:(0,l.jsxs)("div",{className:"semi-form-field-extra",children:["如录制Twitch时遇见视频流中广告过多的情况，可尝试在此填入cookie，可以大幅减少视频流中的twitch广告（经测试需要在该Cookie所属账号开了TwitchTurbo会员才有用）",(0,l.jsx)("br",{}),"该cookie有过期风险，cookie过期后会在日志输出警告请及时更换cookie，cookie失效的情况下后续录制将忽略cookie（我个人用了四个月都没过期）",(0,l.jsx)("br",{}),"twitch_cookie获取方式：在浏览器中打开Twitch.tv，F12调出控制台，在控制台中执行：",(0,l.jsx)("br",{}),(0,l.jsx)("code",{children:'document.cookie.split("; ").find(item={\'>\'}item.startsWith("auth-token="))?.split("=")[1]'}),(0,l.jsx)("br",{}),'twitch_cookie需要在downloader= "ffmpeg"时候才会生效']}),label:"Twitch Cookie（twitch_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.youtube_cookie",extraText:"使用Cookies登陆YouTube帐号，可用于下载会限，私享等未登录账号无法访问的内容。请使用 Netscape 格式的 Cookies 文本路径。 可以使用Chrome插件Get cookies.txt来生成txt文件。",label:"TouTube Cookie（youtube_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.niconico-email",extraText:"与您的Niconico账户相关的电子邮件或电话号码",label:"ニコニコ動画 用户名（niconico-email）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.niconico-password",mode:"password",extraText:"您的Niconico账户的密码",label:"ニコニコ動画 密码（niconico-password）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.niconico-user-session",extraText:"用户会话令牌的值。可作为提供密码的替代方法。",label:"ニコニコ動画 用户会话令牌（niconico-user-session）",mode:"password",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.niconico-purge-credentials",extraText:"清除缓存的 Niconico 凭证，以启动一个新的会话并重新认证。",label:"ニコニコ動画 清除凭证缓存（niconico-purge-credentials）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.afreecatv_username",extraText:"AfreecaTV 用户名",label:"AfreecaTV 用户名（afreecatv_username）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,l.jsx)(r.Form.Input,{field:"user.afreecatv_password",extraText:"AfreecaTV 密码",label:"AfreecaTV 密码（afreecatv_password）",mode:"password",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]})]})]})]},y)})})})})]})}},16869:function(e,t,i){"use strict";async function l(e,t){let{arg:i}=t;console.log(JSON.stringify(i));let l=await fetch(""+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!(l.status>=200&&l.status<300))throw Error(await l.text());let a=await l.json();if(!l.ok)throw Error(a.message);return a}i.d(t,{_i:function(){return a},gz:function(){return o},hw:function(){return n},sj:function(){return r},wG:function(){return l}});let a=async function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let l=await fetch(""+t[0],t[1]);if(!l.ok)throw Error(await l.text());return l.json()},r=async(e,t)=>{let i=await fetch(""+e,t);if(!i.ok)throw Error(await i.text());return i};async function n(e,t){let{arg:i}=t,l=await fetch("".concat("").concat(e,"/").concat(i),{method:"DELETE"});if(!l.ok)throw Error(await l.text());return l}async function o(e,t){let{arg:i}=t,l=await fetch("".concat("").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok)throw Error(await l.text());return l}},65746:function(e,t,i){"use strict";i.d(t,{Bf:function(){return o},JB:function(){return s},ZP:function(){return n}});var l=i(30713),a=i(16869),r=i(2265);function n(){let{data:e,error:t,isLoading:i}=(0,l.ZP)("/v1/streamers",a._i);return{isLoading:i,streamers:e}}function o(){let{data:e,error:t,isLoading:i}=(0,l.ZP)("/v1/users",a._i),[n,o]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(!e||0===e.length){o([]);return}let t=async e=>{let t=await (0,a._i)("/bili/space/myinfo?user=".concat(e.value),void 0),i=await (0,a.sj)("/bili/proxy?url=".concat(t.data.face)),l=await i.blob();return{...e,name:t.data.name,face:URL.createObjectURL(l)}},i=async e=>{let i=await Promise.all(e.map(t));o(i)};i(e)},[e]),{isLoading:i,isError:t,biliUsers:n}}function s(){var e;let{data:t,error:i,isLoading:r}=(0,l.ZP)("/bili/archive/pre",a._i),n=null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.typelist.map(e=>({label:e.name,value:e.id,children:e.children}));return{isLoading:r,isError:i,typeTree:n}}},66310:function(e,t,i){"use strict";i.d(t,{cE:function(){return r},f:function(){return l},ql:function(){return a}});let l={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},a=(e,t)=>{let{match:i,unmatch:l,callInInit:a=!0}=t;{let t=window.matchMedia(e),r=function(e){e.matches?i&&i(e):l&&l(e)};return(a&&r(t),Object.prototype.hasOwnProperty.call(t,"addEventListener"))?(t.addEventListener("change",r),()=>t.removeEventListener("change",r)):(t.addListener(r),()=>t.removeListener(r))}},r=e=>new Date(1e3*e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replaceAll("/","-")},12275:function(e){e.exports={rootConfigPanel:"dashboard_rootConfigPanel__H00R1",main:"dashboard_main__Rc_0B",content:"dashboard_content__hwJmk",item:"dashboard_item__vd6Dr",form:"dashboard_form__ts2vk",frameDownload:"dashboard_frameDownload__vBT0s",frameInside:"dashboard_frameInside__nNRYf",group:"dashboard_group__kyWYT",buttonOnlyIconSecond:"dashboard_buttonOnlyIconSecond__U2c3u",lineStory:"dashboard_lineStory__ARf86",meegoSharedWebWorkIt:"dashboard_meegoSharedWebWorkIt__ZfysV",frameUpload:"dashboard_frameUpload__FCZ0P",framePlatformConfig:"dashboard_framePlatformConfig__4y_44",outlinedVersion:"dashboard_outlinedVersion__aPpHQ",meegoSharedWebSettin:"dashboard_meegoSharedWebSettin__Kvwzx",line:"dashboard_line__dTs9X"}},33068:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var l=i(2265),a=i(30713),r=i(44796);let n=r.w6?e=>{e()}:l.startTransition,o=e=>{let[,t]=(0,l.useState)({}),i=(0,l.useRef)(!1),a=(0,l.useRef)(e),n=(0,l.useRef)({data:!1,error:!1,isValidating:!1}),o=(0,l.useCallback)(e=>{let l=!1,r=a.current;for(let t in e)r[t]!==e[t]&&(r[t]=e[t],n.current[t]&&(l=!0));l&&!i.current&&t({})},[]);return(0,r.LI)(()=>(i.current=!1,()=>{i.current=!0})),[a,n.current,o]},s=(0,r.xD)(a.ZP,()=>(e,t,i={})=>{let{mutate:s}=(0,a.kY)(),d=(0,l.useRef)(e),c=(0,l.useRef)(t),u=(0,l.useRef)(i),f=(0,l.useRef)(0),[h,m,p]=o({data:r.i_,error:r.i_,isMutating:!1}),x=h.current,b=(0,l.useCallback)(async(e,t)=>{var i,l;let[a,o]=(0,r.qC)(d.current);if(!c.current)throw Error("Can’t trigger the mutation: missing fetcher.");if(!a)throw Error("Can’t trigger the mutation: missing key.");let h=(0,r.PM)((0,r.PM)({populateCache:!1,throwOnError:!0},u.current),t),m=(0,r.u3)();f.current=m,p({isMutating:!0});try{let t=await s(a,c.current(o,{arg:e}),(0,r.PM)(h,{throwOnError:!0}));return f.current<=m&&(n(()=>p({data:t,isMutating:!1,error:void 0})),null==(i=h.onSuccess)||i.call(h,t,a,h)),t}catch(e){if(f.current<=m&&(n(()=>p({error:e,isMutating:!1})),null==(l=h.onError)||l.call(h,e,a,h),h.throwOnError))throw e}},[]),_=(0,l.useCallback)(()=>{f.current=(0,r.u3)(),p({data:r.i_,error:r.i_,isMutating:!1})},[]);return(0,r.LI)(()=>{d.current=e,c.current=t,u.current=i}),{trigger:b,reset:_,get data(){return m.data=!0,x.data},get error(){return m.error=!0,x.error},get isMutating(){return m.isMutating=!0,x.isMutating}}})}},function(e){e.O(0,[835,713,971,472,744],function(){return e(e.s=26256)}),_N_E=e.O()}]);