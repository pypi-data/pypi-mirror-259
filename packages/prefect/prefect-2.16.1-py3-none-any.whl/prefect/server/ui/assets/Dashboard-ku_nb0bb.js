import{d as h,z as v,I as y,S as C,Q as V,e as c,A as x,c as u,i as t,j as p,o as n,l as s,C as R,D as i,u as e,W as D,E as F,X as N,k as _,$ as S,G as A,K as B,N as T,x as I,a as U,n as W,O as j,_ as E}from"./index-Pz5BuHdM.js";import{s as M,a as Q}from"./index-oxmGsOwU.js";const X={class:"workspace-dashboard__header-actions"},$={key:1,class:"workspace-dashboard__grid"},z={class:"workspace-dashboard__side"},P=h({__name:"Dashboard",setup(G){v(y,{interval:M(30)});const m=C(),r=V(m.flowRuns.getFlowRunsCount,[{}]),k=c(()=>r.executed),d=c(()=>r.response===0),f=[{text:"Dashboard"}],a=x({range:{type:"span",seconds:-Q},tags:[]}),b=()=>E.map("WorkspaceDashboardFilter",a,"TaskRunsFilter");return(K,o)=>{const g=p("p-button"),w=p("p-layout-default");return n(),u(w,{class:"workspace-dashboard"},{header:t(()=>[s(e(N),{crumbs:f,class:"workspace-dashboard__page-heading"},R({_:2},[d.value?void 0:{name:"actions",fn:t(()=>[i("div",X,[s(e(D),{selected:e(a).tags,"onUpdate:selected":o[0]||(o[0]=l=>e(a).tags=l),"empty-message":"All tags"},null,8,["selected"]),s(e(F),{modelValue:e(a).range,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).range=l),class:"workspace-dashboard__date-select"},null,8,["modelValue"])])]),key:"0"}]),1024)]),default:t(()=>[k.value?(n(),_(I,{key:0},[d.value?(n(),u(e(S),{key:0})):(n(),_("div",$,[s(e(A),{filter:e(a)},null,8,["filter"]),i("div",z,[s(e(B),{filter:b}),s(e(T),{class:"workspace-dashboard__work-pools",filter:e(a)},null,8,["filter"])])]))],64)):U("",!0),s(e(j),{title:"Ready to scale?",subtitle:"Automations, role and object-level security, and serverless push work pools on Prefect Cloud"},{actions:t(()=>[s(g,{to:"https://www.prefect.io/cloud-vs-oss?utm_source=oss&utm_medium=oss&utm_campaign=oss&utm_term=none&utm_content=none",target:"_blank",primary:""},{default:t(()=>[W(" Upgrade to Cloud ")]),_:1})]),_:1})]),_:1})}}});export{P as default};
