{"version":3,"file":"lib_index_js.e2bfb8e8b8896f1b64a2.js","mappings":";;;;;;;;;;;;;;;AAAoD;AAC7C,oBAAoB,8DAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACbiC;AACmB;AACX;AAC+B;AACnB;AAC1B;AAC5B;AACA;AACA;AACO;AACP;AACA;AACA,CAAC,gCAAgC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6EAA2B;AACvC;AACA;AACA;AACA,gBAAgB,+EAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6EAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAAa;AACxC;AACA;AACA;AACA,kBAAkB,2CAAO;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kEAAgB;AAC/B;AACA,QAAQ,uDAAY;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E,gBAAgB;AAC7F;AACA;AACA,iFAAiF,gBAAgB;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6EAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+EAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAuB;AACxD,oBAAoB,6EAA2B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qEAAmB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,gBAAgB,+EAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,sBAAsB,wBAAwB,kEAAU;AACxD;AACA;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,MAAM,EAAC;;;;;;;;;;;ACvMtB,gEAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB,0CAA0C,qBAAqB;AACpI;AACA;AACA;AACA,wDAAwD,oBAAoB,oCAAoC,uBAAuB;AACvI,8DAA8D;AAC9D;AACA,wCAAwC,cAAc;AACtD;AACA;AACA,wDAAwD,gBAAgB,qBAAqB,wBAAwB,+DAA+D,yBAAyB,eAAe,6EAA6E,cAAc;AACvT,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB,8CAA8C,SAAS;AACvD;AACA,wBAAwB,8CAA8C;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,gBAAgB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI,2BAA2B;AAC/B;AACA;AACA,IAAI,iCAAO,EAAE,mCAAE,kBAAkB;AAAA,kGAAC;AAClC;;;;;;;;;;;;;;;;;;;AC5IA;AAC0G;AACjB;AACzF,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F;AACA,qFAAqF,0CAA0C,GAAG,gFAAgF,mBAAmB,GAAG,mDAAmD,gCAAgC,GAAG,SAAS,kFAAkF,YAAY,OAAO,KAAK,UAAU,MAAM,KAAK,YAAY,qEAAqE,0CAA0C,GAAG,gFAAgF,mBAAmB,GAAG,mDAAmD,gCAAgC,GAAG,qBAAqB;AACrxB;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;ACP1B;;AAEb;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA,qDAAqD;AACrD;;AAEA;AACA,gDAAgD;AAChD;;AAEA;AACA,qFAAqF;AACrF;;AAEA;;AAEA;AACA,qBAAqB;AACrB;;AAEA;AACA,qBAAqB;AACrB;;AAEA;AACA,qBAAqB;AACrB;;AAEA;AACA,KAAK;AACL,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV,sFAAsF,qBAAqB;AAC3G;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV,iDAAiD,qBAAqB;AACtE;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV,sDAAsD,qBAAqB;AAC3E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACrGa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBA,MAA+F;AAC/F,MAAqF;AACrF,MAA4F;AAC5F,MAA+G;AAC/G,MAAwG;AACxG,MAAwG;AACxG,MAAmG;AACnG;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;;AAErC,uBAAuB,uGAAa;AACpC;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,sFAAO;;;;AAI6C;AACrE,OAAO,iEAAe,sFAAO,IAAI,6FAAc,GAAG,6FAAc,YAAY,EAAC;;;;;;;;;;;AC1BhE;;AAEb;;AAEA;AACA;;AAEA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB,6BAA6B;AAClD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACvGa;;AAEb;AACA;;AAEA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;ACtCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACVa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAEjF;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACXa;;AAEb;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;;AAEA;AACA,iFAAiF;AACjF;;AAEA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA,yDAAyD;AACzD,IAAI;;AAEJ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACrEa;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA","sources":["webpack://domino-code-assist/./lib/icons.js","webpack://domino-code-assist/./lib/index.js","webpack://domino-code-assist/./lib/mixpanel.js","webpack://domino-code-assist/./style/style.css","webpack://domino-code-assist/./node_modules/css-loader/dist/runtime/api.js","webpack://domino-code-assist/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://domino-code-assist/./style/style.css?956a","webpack://domino-code-assist/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://domino-code-assist/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://domino-code-assist/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://domino-code-assist/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://domino-code-assist/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://domino-code-assist/./node_modules/style-loader/dist/runtime/styleTagTransform.js"],"sourcesContent":["import { LabIcon } from '@jupyterlab/ui-components';\nexport const dcaIcon = new LabIcon({\n    name: '@dominodatalabs/dcalabextension:dca',\n    svgstr: `<svg width=\"600\" height=\"600\" viewBox=\"0 0 600 600\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M280.19 142.036C282.913 150.121 288.605 156.721 296.196 160.516C300.733 162.743 305.6 163.898 310.468 163.898C313.851 163.898 317.315 163.321 320.616 162.248L470.852 112.17C487.599 106.642 496.592 88.4924 491.064 71.7447C485.536 54.997 467.303 46.0044 450.636 51.532L300.403 101.61C283.738 107.137 274.663 125.288 280.19 142.036Z\" fill=\"white\"/>\n        <path d=\"M318.056 481.439C321.851 473.769 322.511 465.186 319.788 457.017C314.261 440.354 296.111 431.278 279.363 436.806L129.129 486.883C121.043 489.608 114.443 495.299 110.648 502.89C106.853 510.481 106.193 519.144 108.916 527.308C113.371 540.674 125.828 549.173 139.194 549.173C142.576 549.173 145.959 548.68 149.259 547.525L299.493 497.446C307.578 494.721 314.178 489.03 317.973 481.439H318.056Z\" fill=\"white\"/>\n        <path d=\"M174.588 202.183C179.125 204.493 183.992 205.565 188.778 205.565C200.493 205.565 211.795 199.13 217.405 187.91L288.191 46.2558C291.986 38.6657 292.646 30.0031 289.924 21.8355C287.201 13.7504 281.509 7.15028 273.918 3.35523C258.161 -4.48236 238.938 1.87022 231.101 17.6279L160.315 159.282C152.477 175.04 158.83 194.263 174.588 202.1V202.183Z\" fill=\"white\"/>\n        <path d=\"M425.308 396.871C417.718 393.076 408.973 392.416 400.888 395.139C392.803 397.861 386.203 403.554 382.408 411.144L311.622 552.797C307.826 560.388 307.166 569.05 309.889 577.219C312.612 585.388 318.304 591.903 325.894 595.699C330.432 597.925 335.217 599.08 340.167 599.08C343.549 599.08 347.015 598.502 350.314 597.431C358.4 594.707 365 589.016 368.795 581.424L439.581 439.772C443.375 432.182 444.036 423.519 441.313 415.351C438.59 407.266 432.898 400.666 425.308 396.871Z\" fill=\"white\"/>\n        <path d=\"M102.067 299.128C106.522 312.493 118.98 320.991 132.428 320.991C135.728 320.991 139.193 320.496 142.493 319.341C159.158 313.813 168.233 295.663 162.706 278.915L112.628 128.681C107.1 112.016 88.9499 102.858 72.2022 108.468C55.5369 113.996 46.4619 132.146 51.9896 148.894L102.067 299.128Z\" fill=\"white\"/>\n        <path d=\"M497.827 299.945C492.299 283.197 474.145 274.205 457.398 279.732C449.313 282.455 442.714 288.147 438.919 295.738C435.124 303.328 434.464 311.99 437.186 320.158L487.264 470.392C491.721 483.758 504.179 492.257 517.541 492.257C520.926 492.257 524.308 491.759 527.609 490.604C544.273 485.076 553.35 466.927 547.822 450.179L497.743 299.945H497.827Z\" fill=\"white\"/>\n        <path d=\"M174.01 442.593C177.392 442.593 180.857 442.015 184.157 440.94C192.242 438.219 198.843 432.527 202.637 424.936C206.432 417.347 207.092 408.684 204.37 400.516C201.648 392.431 195.955 385.831 188.365 382.036L46.7104 311.25C30.9528 303.413 11.7301 309.765 3.8925 325.523C0.0974548 333.195 -0.562554 341.775 2.15998 349.943C4.88251 358.028 10.5751 364.628 18.1652 368.423L159.82 439.209C164.357 441.438 169.225 442.593 174.092 442.593H174.01Z\" fill=\"white\"/>\n        <path d=\"M597.816 249.22C595.096 241.136 589.405 234.535 581.814 230.74L440.159 159.954C424.401 152.117 405.178 158.47 397.341 174.227C393.546 181.9 392.886 190.48 395.608 198.648C398.331 206.732 404.023 213.333 411.614 217.128L553.266 287.914C557.806 290.224 562.673 291.296 567.456 291.296C579.174 291.296 590.477 284.861 596.084 273.641C599.88 266.051 600.541 257.388 597.816 249.22Z\" fill=\"white\"/>\n    </svg>`\n});\n","import { dcaIcon } from './icons';\nimport { ToolbarButton } from '@jupyterlab/apputils';\nimport { initMixpanel } from './mixpanel';\nimport { INotebookTracker, NotebookActions } from \"@jupyterlab/notebook\";\nimport { toArray, toObject } from '@lumino/algorithm';\nimport '../style/style.css';\n/**\n * The command IDs used by the plugin.\n */\nexport var CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.dcaInit = 'notebook:init-domino-code-assist';\n})(CommandIDs || (CommandIDs = {}));\nclass DCAInitButton {\n    constructor(commands, notebookTracker) {\n        this._commands = commands;\n        this._notebookTracker = notebookTracker;\n    }\n    createNew(panel) {\n        const nb = this._notebookTracker;\n        const findAssistant = () => panel.content.widgets.find(cell => cell.model.value.text.includes(\"# this code is generated by the Domino Code Assist toolbar button\"));\n        const initAssistant = () => {\n            var _a;\n            const current = panel;\n            NotebookActions.insertAbove(current.content);\n            const activeCell = current.content.activeCell;\n            if (activeCell) {\n                activeCell.model.value.text = \"# this code is generated by the Domino Code Assist toolbar button\\nimport domino_code_assist as dca\\ndca.init()\";\n                NotebookActions.runAndAdvance(current.content, current.sessionContext);\n                (_a = panel.content.model) === null || _a === void 0 ? void 0 : _a.metadata.set(\"dca-init\", \"true\");\n            }\n        };\n        const toggleAssistant = () => {\n            const assistantCell = findAssistant();\n            if (findAssistant()) {\n                const idx = panel.content.widgets.findIndex(widget => widget === assistantCell);\n                panel.content.activeCellIndex = idx;\n                NotebookActions.deleteCells(panel.content);\n            }\n            else {\n                initAssistant();\n            }\n        };\n        const button = new ToolbarButton({\n            className: 'dcaInit',\n            tooltip: 'Initialize Domino Code Assist',\n            label: \"Domino Code Assist\",\n            icon: dcaIcon,\n            enabled: panel.sessionContext.isReady,\n            onClick: () => {\n                toggleAssistant();\n            }\n        });\n        panel.sessionContext.ready.then(() => {\n            button.enabled = true;\n        });\n        panel.toolbar.insertAfter('cellType', 'dcaInit', button);\n        return button;\n    }\n}\nconst plugin = {\n    id: 'dcalabextension:plugin',\n    autoStart: true,\n    requires: [INotebookTracker],\n    activate: (app, NotebookTracker) => {\n        initMixpanel();\n        const getNotebookId = (notebookChildElement) => {\n            const target = NotebookTracker.find(notebook => notebook.node.contains(notebookChildElement));\n            return target === null || target === void 0 ? void 0 : target.id;\n        };\n        const getCells = (notebookId) => {\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                return notebook.content.widgets.map(cell => cell);\n            }\n        };\n        const changeCellType = (notebookId, cell, cellType) => {\n            var _a;\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            const cellIndex = notebook === null || notebook === void 0 ? void 0 : notebook.content.widgets.indexOf(cell);\n            if (notebook && notebook.model && cellIndex !== undefined) {\n                const cellData = cell.model.toJSON();\n                let newCell = null;\n                if (cellType === 'code') {\n                    newCell = notebook.model.contentFactory.createCodeCell({ cell: cellData });\n                }\n                else if (cellType === 'markdown') {\n                    newCell = notebook.model.contentFactory.createMarkdownCell({ cell: cellData });\n                }\n                if (newCell !== null) {\n                    (_a = notebook.model) === null || _a === void 0 ? void 0 : _a.cells.set(cellIndex, newCell);\n                }\n            }\n        };\n        const insertCellAbove = (notebookId, cell, value) => {\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                const cellIndex = notebook === null || notebook === void 0 ? void 0 : notebook.content.widgets.indexOf(cell);\n                notebook.content.activeCellIndex = cellIndex;\n                NotebookActions.insertAbove(notebook.content);\n                const activeCell = notebook.content.activeCell;\n                if (activeCell) {\n                    activeCell.model.value.text = value.code;\n                    if (value.meta) {\n                        activeCell.model.metadata.set('assistant', value.meta);\n                    }\n                }\n                NotebookActions.runAndAdvance(notebook.content, notebook.sessionContext);\n            }\n        };\n        const insertCellsBelow = (notebookId, cell, cells) => {\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                const cellIndex = notebook === null || notebook === void 0 ? void 0 : notebook.content.widgets.indexOf(cell);\n                notebook.content.activeCellIndex = cellIndex;\n                const idMap = {};\n                cells.forEach(({ code, meta, type_, id }) => {\n                    NotebookActions.insertBelow(notebook.content);\n                    let activeCell = notebook.content.activeCell;\n                    if (activeCell && type_ === 'markdown') {\n                        changeCellType(notebookId, activeCell, 'markdown');\n                        activeCell = notebook.content.activeCell;\n                    }\n                    if (activeCell) {\n                        if (id) {\n                            idMap[id] = activeCell.model.id;\n                        }\n                        if (code.includes(Object.keys(idMap)[0])) {\n                            code = Object.entries(idMap).reduce((result, [key, value]) => {\n                                return result.replace(key, value);\n                            }, code);\n                            meta = meta && Object.entries(idMap).reduce((result, [key, value]) => {\n                                return result.replace(key, value);\n                            }, meta);\n                        }\n                        activeCell.model.value.text = code;\n                        if (meta) {\n                            activeCell.model.metadata.set('assistant', meta);\n                        }\n                    }\n                    NotebookActions.run(notebook.content, notebook.sessionContext);\n                });\n            }\n        };\n        const runAndAdvance = (notebookId) => {\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                NotebookActions.runAndAdvance(notebook.content, notebook.sessionContext);\n            }\n        };\n        const getNotebookPath = (notebookId) => {\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                return notebook.context.path;\n            }\n        };\n        const saveNotebook = async (notebookId) => {\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                try {\n                    await notebook.context.save();\n                    return true;\n                }\n                catch (e) { }\n            }\n            return false;\n        };\n        const activate = (notebookId, cell) => {\n            /* cell.activate() doesn't work for markdown cells */\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                const cellIndex = notebook.content.widgets.indexOf(cell);\n                notebook.content.activeCellIndex = cellIndex;\n            }\n        };\n        const kernelBusy = (notebookId) => {\n            var _a, _b;\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                return ((_b = (_a = notebook.sessionContext.session) === null || _a === void 0 ? void 0 : _a.kernel) === null || _b === void 0 ? void 0 : _b.status) === 'busy';\n            }\n        };\n        const getFormatVersion = (notebookId) => {\n            const notebook = NotebookTracker.find(notebook => notebook.id === notebookId);\n            if (notebook) {\n                return [notebook.context.model.nbformat, notebook.context.model.nbformatMinor];\n            }\n        };\n        const assistants = {}; // maps from notebookId to assistant vue object\n        const DCA = { frontend: 'lab', toArray, toObject, getNotebookId, getCells, assistants, changeCellType, insertCellAbove, insertCellsBelow, runAndAdvance, getNotebookPath, saveNotebook, activate, kernelBusy, getFormatVersion };\n        window[\"DCA\"] = DCA;\n        console.info('JupyterLab extension dcalabextension is activated!', NotebookTracker);\n        const { commands, docRegistry } = app;\n        if (NotebookTracker) {\n            const dcaButton = new DCAInitButton(commands, NotebookTracker);\n            docRegistry.addWidgetExtension('Notebook', dcaButton);\n        }\n    }\n};\nexport default plugin;\n","\"use strict\";\nconst labConfigData = document.getElementById('jupyter-config-data');\nfunction initMixpanel() {\n    const base_url = labConfigData ? JSON.parse(labConfigData.textContent).baseUrl : document.body.dataset.baseUrl;\n    const Jupyter_version = labConfigData ? JSON.parse(labConfigData.textContent).appVersion : Jupyter.version;\n    const inTestEnvironment = ['localhost', '127.0.', '0.0.0.0'].find(url => location.host.startsWith(url))\n        || ['.dominodatalab.com', 'team-sandbox.domino.tech', 'eval.domino.tech', 'domino-eval.com', 'domino-pilot.com',\n            'dominohackathon.com', 'dominodata.science', 'gurudomino.com', 'dominoai1.com'].find(url => location.host.endsWith(url));\n    (async () => {\n        let mixpanelEnabled = false;\n        if (inTestEnvironment) {\n            mixpanelEnabled = true;\n        }\n        else {\n            try {\n                const resp = await fetch(`/v4/auth/principal`);\n                if (resp.status === 200) {\n                    const principal = await resp.json();\n                    mixpanelEnabled = principal && principal.mixpanelSettings && principal.mixpanelSettings.frontendClientEnabled;\n                }\n            }\n            catch (e) {\n                console.warn(e);\n            }\n        }\n        window._dca_mixpanel_enabled = mixpanelEnabled;\n        if (typeof mixpanel === 'undefined' && mixpanelEnabled) {\n            let project_token = 'a442c4dbf420b59cdac95cfb07f57cbb';\n            if (inTestEnvironment) {\n                console.log(\"in test environment\");\n                project_token = '3aef1937b53691cfad358cbe583c0aa6';\n            }\n            window._dca_mixpanel_token = project_token;\n            try {\n                (function (f, b) {\n                    if (!b.__SV) {\n                        var e, g, i, h;\n                        window.mixpanel = b;\n                        b._i = [];\n                        b.init = function (e, f, c) {\n                            function g(a, d) { var b = d.split(\".\"); 2 == b.length && (a = a[b[0]], d = b[1]); a[d] = function () { a.push([d].concat(Array.prototype.slice.call(arguments, 0))); }; }\n                            var a = b;\n                            \"undefined\" !== typeof c ? a = b[c] = [] : c = \"mixpanel\";\n                            a.people = a.people || [];\n                            a.toString = function (a) { var d = \"mixpanel\"; \"mixpanel\" !== c && (d += \".\" + c); a || (d += \" (stub)\"); return d; };\n                            a.people.toString = function () { return a.toString(1) + \".people (stub)\"; };\n                            i = \"disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove\".split(\" \");\n                            for (h = 0; h < i.length; h++)\n                                g(a, i[h]);\n                            var j = \"set set_once union unset remove delete\".split(\" \");\n                            a.get_group = function () { function b(c) { d[c] = function () { call2_args = arguments; call2 = [c].concat(Array.prototype.slice.call(call2_args, 0)); a.push([e, call2]); }; } for (var d = {}, e = [\"get_group\"].concat(Array.prototype.slice.call(arguments, 0)), c = 0; c < j.length; c++)\n                                b(j[c]); return d; };\n                            b._i.push([e, f, c]);\n                        };\n                        b.__SV = 1.2;\n                        e = f.createElement(\"script\");\n                        e.type = \"text/javascript\";\n                        e.async = !0;\n                        e.src = \"undefined\" !== typeof MIXPANEL_CUSTOM_LIB_URL ?\n                            MIXPANEL_CUSTOM_LIB_URL : \"file:\" === f.location.protocol && \"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js\".match(/^\\/\\//) ? \"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js\" : \"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js\";\n                        g = f.getElementsByTagName(\"script\")[0];\n                        g.parentNode.insertBefore(e, g);\n                    }\n                })(document, window.mixpanel || []);\n                mixpanel.init(project_token, {\n                    'property_blacklist': ['$current_url', '$referrer', '$initial_referrer'],\n                    'ignore_dnt': true\n                });\n                const result = await fetch(`${base_url}mixpanel/`);\n                const r = await result.json();\n                const { id, LCA_version, Domino_version, event_name } = r;\n                mixpanel.identify(id);\n                mixpanel.track(event_name, {\n                    LCA_version,\n                    Domino_version,\n                    jupyter: labConfigData ? 'lab' : 'notebook',\n                    Jupyter_version,\n                    LCA_language: 'python'\n                });\n            }\n            catch (e) {\n            }\n            const set_unreachable = async () => {\n                const browser = (function (agent) {\n                    switch (true) {\n                        case agent.indexOf(\"edge\") > -1: return \"MS Edge\";\n                        case agent.indexOf(\"edg/\") > -1: return \"Edge ( chromium based)\";\n                        case agent.indexOf(\"opr\") > -1 && !!window.opr: return \"Opera\";\n                        case agent.indexOf(\"chrome\") > -1 && !!window.chrome: return \"Chrome\";\n                        case agent.indexOf(\"trident\") > -1: return \"MS IE\";\n                        case agent.indexOf(\"firefox\") > -1: return \"Mozilla Firefox\";\n                        case agent.indexOf(\"safari\") > -1: return \"Safari\";\n                        default: return \"other\";\n                    }\n                })(window.navigator.userAgent.toLowerCase());\n                const matches = document.cookie.match('\\\\b_xsrf=([^;]*)\\\\b');\n                const _xsrf = (matches && matches[1]) || '';\n                const frontend_props = {\n                    \"token\": project_token,\n                    \"domain\": location.host,\n                    \"$referring_domain\": location.host,\n                    \"$os\": navigator.platform,\n                    \"$browser\": browser,\n                    \"$screen_height\": screen.height,\n                    \"$screen_width\": screen.width,\n                    jupyter: labConfigData ? 'lab' : 'notebook',\n                    Jupyter_version,\n                    LCA_language: 'python'\n                };\n                const result = await fetch(`${base_url}mixpanel/`, {\n                    method: 'POST',\n                    headers: {\n                        'X-XSRFToken': _xsrf,\n                        'content-type': 'application/json',\n                    },\n                    body: JSON.stringify(frontend_props)\n                });\n            };\n            if (typeof mixpanel === 'undefined') {\n                set_unreachable();\n            }\n            else {\n                try {\n                    const data = await fetch(\"https://api-js.mixpanel.com/track/\", { method: \"POST\" });\n                    if (data.status !== 200) {\n                        set_unreachable();\n                    }\n                }\n                catch (e) {\n                    set_unreachable();\n                }\n            }\n        }\n    })();\n}\nif (labConfigData) {\n    module.exports.initMixpanel = initMixpanel;\n}\nelse {\n    define([], () => initMixpanel);\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".bp3-button.bp3-minimal.jp-Button.dcaInit {\\n    background-color: rgb(45, 113, 199);\\n}\\n\\n.bp3-button.bp3-minimal.jp-Button.dcaInit .jp-ToolbarButtonComponent-label {\\n    color: white;\\n}\\n.bp3-button.bp3-minimal.jp-Button.dcaInit:hover {\\n    background-color: #5288C7;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/style.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,mCAAmC;AACvC;;AAEA;IACI,YAAY;AAChB;AACA;IACI,yBAAyB;AAC7B\",\"sourcesContent\":[\".bp3-button.bp3-minimal.jp-Button.dcaInit {\\n    background-color: rgb(45, 113, 199);\\n}\\n\\n.bp3-button.bp3-minimal.jp-Button.dcaInit .jp-ToolbarButtonComponent-label {\\n    color: white;\\n}\\n.bp3-button.bp3-minimal.jp-Button.dcaInit:hover {\\n    background-color: #5288C7;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;"],"names":[],"sourceRoot":""}